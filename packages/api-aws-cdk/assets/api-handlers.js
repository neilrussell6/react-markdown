module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=101)}([function(t,e,n){const r={path:n(3),util:n(2),patterns:n(33)};function i(t,e,n,r){Object.defineProperty(t,e,{value:n,configurable:!1,enumerable:!r,writable:!1})}function o(t,e){return t&&"object"==typeof t&&e in t||null!=t&&void 0!==t[e]}const s={toJson:function(t){if(void 0!==t)return JSON.stringify(t,(t,e)=>"bigint"==typeof e?e+"#bigint":e).replace(/"(-?\d+)#bigint"/g,(t,e)=>e)},getIfHas:function(t,e){const n={valid:!0};if(-1===e.indexOf("."))n.has=e in t,n.target=t,n.has&&(n.value=t[e]);else{const r=e.split(".");let i,s;for(let e=0;e<r.length;e++){const a=r[e];if(!a)return n.valid=!1,n;!i&&o(t,a)?(s=t,t=t[a]):i=!0}n.has=!i,n.has&&(n.target=s,n.value=t)}return n},addInspection:function(t,e){t.prototype[r.util.inspect.custom]=e},InternalError:function(t){this.error=t},getLocalStack:function(t,e){t=t||0;const n=e>0?t+e:void 0;return(new Error).stack.split("\n").filter(t=>t.match(/\(.+\)/)).slice(t,n).join("\n")},isPathAbsolute:function(t){if("win32"===process.platform){const e=r.patterns.splitDevice.exec(t),n=e[1]||"",i=!!n&&":"!==n.charAt(1);return!!e[2]||i}return"/"===t.charAt(0)},lock:function(t,e,n){if(!n||!n.noLocking)if(e)Object.freeze(t);else{const e={writable:!1,configurable:!1,enumerable:!0};for(const n in t)Object.defineProperty(t,n,e)}},isText:function(t){return t&&"string"==typeof t&&/\S/.test(t)},isNull:function(t){return null==t},isDev:function(){return-1!==(global.process.env.NODE_ENV||"").toLowerCase().indexOf("dev")},addReadProp:i,addReadProperties:function(t,e){for(const n in e)i(t,n,e[n])},getSafeConnection:function(t){const e=t=>t.replace(/:(?![/])([^@]+)/,(t,e)=>":"+new Array(e.length+1).join("#"));if("object"==typeof t){const n=Object.assign({},t);return"string"==typeof n.password&&(n.password=n.password.replace(/./g,"#")),"string"==typeof n.connectionString&&(n.connectionString=e(n.connectionString)),n}return e(t)},messageGap:function(t){return" ".repeat(4*t)},inherits:function(t,e){t.prototype.__proto__=e.prototype},isConnectivityError:function(t){const e=t&&"string"==typeof t.code&&t.code,n=e&&e.substr(0,2);return"ECONNRESET"===e||"08"===n&&"08P01"!==e||"57"===n&&"57014"!==e}},a=process.argv[1];s.startDir=a?r.path.dirname(a):process.cwd(),t.exports=s},function(t,e,n){"use strict";var r=n(13),i="undefined"==typeof navigator,o={e:{}},s,a="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null;function u(){try{var t=s;return s=null,t.apply(this,arguments)}catch(t){return o.e=t,o}}function c(t){return s=t,u}var l=function(t,e){var n={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=e,e.prototype)n.call(e.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=e.prototype[r])}return r.prototype=e.prototype,t.prototype=new r,t.prototype};function p(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function f(t){return"function"==typeof t||"object"==typeof t&&null!==t}function h(t){return p(t)?new Error(S(t)):t}function d(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i}function m(t,e,n){if(!r.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var i=Object.getOwnPropertyDescriptor(t,e);return null!=i?null==i.get&&null==i.set?i.value:n:void 0}function y(t,e,n){if(p(t))return t;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return r.defineProperty(t,e,i),t}function g(t){throw t}var v=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(r.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var i=[],o=Object.create(null);null!=t&&!e(t);){var s;try{s=n(t)}catch(t){return i}for(var a=0;a<s.length;++a){var u=s[a];if(!o[u]){o[u]=!0;var c=Object.getOwnPropertyDescriptor(t,u);null!=c&&null==c.get&&null==c.set&&i.push(u)}}t=r.getPrototypeOf(t)}return i}}var i={}.hasOwnProperty;return function(n){if(e(n))return[];var r=[];t:for(var o in n)if(i.call(n,o))r.push(o);else{for(var s=0;s<t.length;++s)if(i.call(t[s],o))continue t;r.push(o)}return r}}(),_=/this\s*\.\s*\S+\s*=/;function b(t){try{if("function"==typeof t){var e=r.names(t.prototype),n=r.isES5&&e.length>1,i=e.length>0&&!(1===e.length&&"constructor"===e[0]),o=_.test(t+"")&&r.names(t).length>0;if(n||i||o)return!0}return!1}catch(t){return!1}}function w(t){function e(){}e.prototype=t;var n=new e;function r(){return typeof n.foo}return r(),r(),t}var E=/^[a-z$_][a-z$_0-9]*$/i;function x(t){return E.test(t)}function C(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r}function S(t){try{return t+""}catch(t){return"[no string representation]"}}function T(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function k(t){try{y(t,"isOperational",!0)}catch(t){}}function P(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)}function R(t){return T(t)&&r.propertyIsWritable(t,"stack")}var A="stack"in new Error?function(t){return R(t)?t:new Error(S(t))}:function(t){if(R(t))return t;try{throw new Error(S(t))}catch(t){return t}};function j(t){return{}.toString.call(t)}function O(t,e,n){for(var i=r.names(t),o=0;o<i.length;++o){var s=i[o];if(n(s))try{r.defineProperty(e,s,r.getDescriptor(t,s))}catch(t){}}}var F=function(t){return r.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var N="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};F=function(t){return r.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?N(t):null}}var I="undefined"!=typeof process&&"[object process]"===j(process).toLowerCase(),q="undefined"!=typeof process&&void 0!==process.env,M;function L(t){return q?process.env[t]:void 0}function D(){if("function"==typeof Promise)try{if("[object Promise]"===j(new Promise((function(){}))))return Promise}catch(t){}}function Q(t,e){if(null===t||"function"!=typeof e||e===M)return e;null!==t.domain&&(e=t.domain.bind(e));var n=t.async;if(null!==n){var r=e;e=function(){for(var t=arguments.length+2,e=new Array(t),i=2;i<t;++i)e[i]=arguments[i-2];return e[0]=r,e[1]=this,n.runInAsyncScope.apply(n,e)}}return e}var B={setReflectHandler:function(t){M=t},isClass:b,isIdentifier:x,inheritedDataKeys:v,getDataPropertyOrDefault:m,thrower:g,isArray:r.isArray,asArray:F,notEnumerableProp:y,isPrimitive:p,isObject:f,isError:T,canEvaluate:i,errorObj:o,tryCatch:c,inherits:l,withAppended:d,maybeWrapAsError:h,toFastProperties:w,filledRange:C,toString:S,canAttachTrace:R,ensureErrorObject:A,originatesFromRejection:P,markAsOriginatingFromRejection:k,classString:j,copyDescriptors:O,isNode:I,hasEnvVariables:q,env:L,global:a,getNativePromise:D,contextBind:Q},U;B.isRecentNode=B.isNode&&(process.versions&&process.versions.node?U=process.versions.node.split(".").map(Number):process.version&&(U=process.version.split(".").map(Number)),0===U[0]&&U[1]>10||U[0]>0),B.nodeSupportsAsyncResource=B.isNode&&function(){var t=!1;try{t="function"==typeof n(84).AsyncResource.prototype.runInAsyncScope}catch(e){t=!1}return t}(),B.isNode&&B.toFastProperties(process);try{throw new Error}catch(t){B.lastLineError=t}t.exports=B},function(t,e){t.exports=require("util")},function(t,e){t.exports=require("path")},function(t,e){t.exports=require("os")},function(t,e,n){"use strict";var r=n(88),i=Object.prototype.toString;function o(t){return"[object Array]"===i.call(t)}function s(t){return void 0===t}function a(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:s,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return a(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]="object"==typeof n?t({},n):n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,(function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertOptions=function(t,e){if(null!=t&&"object"!=typeof t)throw new TypeError('Invalid "options" parameter: '+JSON.stringify(t));var n=Array.isArray(e);if(!(n||e&&"object"==typeof e))throw new TypeError('Invalid "defaults" parameter: '+JSON.stringify(e));if(t)for(var r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];if(n&&-1===e.indexOf(o)||!n&&!(o in e))throw new Error('Option "'+o+'" is not recognized.')}else t={};if(!n)for(var s=e,a=0,u=Object.keys(s);a<u.length;a++){var c=u[a];void 0===t[c]&&void 0!==s[c]&&(t[c]=s[c])}return t}},function(t,e){t.exports=require("events")},function(t,e,n){const{assertOptions:r}=n(6),i={pgUtils:n(24),patterns:n(33),utils:n(0)},o=1,s=2,a=4,u=8,c=16,l=32,p={"^":o,":raw":o,":alias":s,"~":a,":name":a,":json":u,":csv":c,":list":c,":value":l,"#":l},f={toPostgres:Symbol.for("ctf.toPostgres"),rawType:Symbol.for("ctf.rawType")};function h({value:t,fm:e,cc:n,options:r}){if("function"==typeof t)return h({value:w(t,n),fm:e,cc:n});const i=g(t);if(i)return e|=i.rawType?o:0,h({value:w(i.toPostgres,t),fm:e,cc:n});const p=!!(e&o);switch(e&=~o){case s:return C.alias(t);case a:return C.name(t);case u:return C.json(t,p);case c:return S.csv(t,r);case l:return C.value(t)}if(y(t))return b(p),"null";switch(typeof t){case"string":return S.text(t,p);case"boolean":return S.bool(t);case"number":case"bigint":return S.number(t);case"symbol":throw new TypeError("Type Symbol has no meaning for PostgreSQL: "+t.toString());default:return t instanceof Date?S.date(t,p):t instanceof Array?S.array(t,r):t instanceof Buffer?S.buffer(t,p):S.json(t,p)}}function d(t,e){return t instanceof Array?t.map(t=>h({value:t,options:e})).join():"object"==typeof t&&null!==t?Object.keys(t).map(n=>h({value:t[n],options:e})).join():void 0===t?"":h({value:t,options:e})}const m={object:(t,e,n,r)=>(r=r&&"object"==typeof r?r:{},t.replace(i.patterns.namedParameters,t=>{const o=m.stripName(t.replace(/^\$[{(<[/]|[\s})>\]/]/g,""),n),s=i.utils.getIfHas(e,o.name);if(!s.valid)throw new Error(`Invalid property name '${o.name}'.`);if(s.has)return h({value:s.value,fm:o.fm,cc:s.target,options:r});if("this"===o.name)return h({value:e,fm:o.fm,options:r});if("def"in r){const t=r.def;return h({value:"function"==typeof t?t.call(e,o.name,e):t,fm:o.fm,cc:e,options:r})}if(r.partial)return t;throw new Error(`Property '${o.name}' doesn't exist.`)})),array:(t,e,n,r)=>(r=r&&"object"==typeof r?r:{},t.replace(i.patterns.multipleValues,t=>{const i=m.stripName(t.substr(1),n),o=i.name-1;if(o>=1e5)throw new RangeError(`Variable $${i.name} exceeds supported maximum of $100000`);if(o<e.length)return h({value:e[o],fm:i.fm,options:r});if("def"in r){const t=r.def;return h({value:"function"==typeof t?t.call(e,o,e):t,fm:i.fm,options:r})}if(r.partial)return t;throw new RangeError(`Variable $${i.name} out of range. Parameters array length: ${e.length}`)})),value:(t,e,n,r)=>t.replace(i.patterns.singleValue,t=>{const i=m.stripName(t,n);return h({value:e,fm:i.fm,options:r})}),stripName(t,e){const n=t.match(i.patterns.hasValidModifier);return n?{name:t.substr(0,n.index),fm:p[n[0]]|(e?o:0)}:{name:t,fm:e?o:null}}};function y(t){return null==t}function g(t){if(!y(t)){let e=t[f.toPostgres],n=!!t[f.rawType];if("function"!=typeof e&&(e=t.toPostgres,n=!!t.rawType),"function"==typeof e){if("Function"!==e.constructor.name)throw new Error("CTF does not support asynchronous toPostgres functions.");return{toPostgres:e,rawType:n}}}return null}function v(t){return`'${t}'`}function _(t){return t.replace(/'/g,"''")}function b(t){if(t)throw new TypeError("Values null/undefined cannot be used as raw text.")}function w(t,e){for(;"function"==typeof t;){if("Function"!==t.constructor.name)throw new Error("Cannot use asynchronous functions with query formatting.");t=t.call(e,e)}return t}function E(t,e,n,r){if("string"!=typeof t)throw new TypeError("Parameter 'query' must be a text string.");const i=g(e);if(i)return E(t,w(i.toPostgres,e),n||i.rawType,r);if("object"==typeof e&&null!==e){if(e instanceof Array)return m.array(t,e,n,r);if(!(e instanceof Date||e instanceof Buffer))return m.object(t,e,n,r)}return void 0===e?t:m.value(t,e,n,r)}function x(t){return`"${t.replace(/"/g,'""')}"`}const C={ctf:f,text:(t,e)=>y(t=w(t))?(b(e),"null"):("string"!=typeof t&&(t=t.toString()),S.text(t,e)),name(t){if(t=w(t)){if("string"==typeof t)return/^\s*\*(\s*)$/.test(t)?t:x(t);if("object"==typeof t){const e=Array.isArray(t)?t:Object.keys(t);if(!e.length)throw new Error("Cannot retrieve sql names from an empty array/object.");return e.map(t=>{if(!t||"string"!=typeof t)throw new Error("Invalid sql name: "+i.utils.toJson(t));return x(t)}).join()}}throw new TypeError("Invalid sql name: "+i.utils.toJson(t))},alias(t){if((t=w(t))&&"string"==typeof t){const e=t.match(/^([a-z_][a-z0-9_$]*|[A-Z_][A-Z0-9_$]*)$/);return e&&e[0]===t?t:`"${t.replace(/"/g,'""')}"`}throw new TypeError("Invalid sql alias: "+i.utils.toJson(t))},value(t){if(y(t=w(t)))throw new TypeError("Open values cannot be null or undefined.");return _(h({value:t,fm:o}))},buffer(t,e){if(y(t=w(t)))return b(e),"null";if(t instanceof Buffer)return S.buffer(t,e);throw new TypeError(v(t)+" is not a Buffer object.")},bool:t=>y(t=w(t))?"null":S.bool(t),date(t,e){if(y(t=w(t)))return b(e),"null";if(t instanceof Date)return S.date(t,e);throw new TypeError(v(t)+" is not a Date object.")},number(t){if(y(t=w(t)))return"null";const e=typeof t;if("number"!==e&&"bigint"!==e)throw new TypeError(v(t)+" is not a number.");return S.number(t)},array(t,e){if(e=r(e,["capSQL"]),y(t=w(t)))return"null";if(t instanceof Array)return S.array(t,e);throw new TypeError(v(t)+" is not an Array object.")},csv:t=>S.csv(t),json:(t,e)=>y(t=w(t))?(b(e),"null"):S.json(t,e),func(t,e,n){if(y(t))return b(e),"null";if("function"!=typeof t)throw new TypeError(v(t)+" is not a function.");const r=e?o:null;return h({value:w(t,n),fm:r,cc:n})},format(t,e,n){n=r(n,["capSQL","partial","def"]);const i=g(t);return i&&(t=i.toPostgres.call(t,t)),E(t,e,!1,n)}},S={array:(t,e)=>function(t,e){const n=t=>"["+t.map(t=>t instanceof Array?n(t):h({value:t,options:e})).join()+"]",r=e&&e.capSQL?"ARRAY":"array";return t.length?r+n(t):"'{}'"}(t,e),csv:(t,e)=>d(w(t),e),bool:t=>t?"true":"false",buffer(t,e){const n="\\x"+t.toString("hex");return e?n:v(n)},date(t,e){const n=i.pgUtils.prepareValue(t);return e?n:v(n)},json(t,e){const n=i.utils.toJson(t);return e?n:v(_(n))},number:t=>"bigint"==typeof t||Number.isFinite(t)?t.toString():t===Number.POSITIVE_INFINITY?v("+Infinity"):t===Number.NEGATIVE_INFINITY?v("-Infinity"):v("NaN"),text:(t,e)=>e?t:v(_(t))};t.exports={formatQuery:E,formatEntity:function(t,e,{capSQL:n,type:r}){let i="func"===r?"select * from":"call";return n&&(i=i.toUpperCase()),`${i} ${C.alias(t)} (${d(e,{capSQL:n})})`},resolveFunc:w,as:C}},function(t,e,n){"use strict";n.r(e),n.d(e,"F",(function(){return r})),n.d(e,"T",(function(){return i})),n.d(e,"__",(function(){return o})),n.d(e,"add",(function(){return c})),n.d(e,"addIndex",(function(){return d})),n.d(e,"adjust",(function(){return y})),n.d(e,"all",(function(){return x})),n.d(e,"allPass",(function(){return Z})),n.d(e,"always",(function(){return tt})),n.d(e,"and",(function(){return et})),n.d(e,"any",(function(){return rt})),n.d(e,"anyPass",(function(){return it})),n.d(e,"ap",(function(){return ot})),n.d(e,"aperture",(function(){return ut})),n.d(e,"append",(function(){return ct})),n.d(e,"apply",(function(){return lt})),n.d(e,"applySpec",(function(){return ht})),n.d(e,"applyTo",(function(){return dt})),n.d(e,"ascend",(function(){return mt})),n.d(e,"assoc",(function(){return yt})),n.d(e,"assocPath",(function(){return vt})),n.d(e,"binary",(function(){return bt})),n.d(e,"bind",(function(){return A})),n.d(e,"both",(function(){return Ct})),n.d(e,"call",(function(){return Tt})),n.d(e,"chain",(function(){return Rt})),n.d(e,"clamp",(function(){return At})),n.d(e,"clone",(function(){return Nt})),n.d(e,"comparator",(function(){return It})),n.d(e,"complement",(function(){return Mt})),n.d(e,"compose",(function(){return Gt})),n.d(e,"composeK",(function(){return Vt})),n.d(e,"composeP",(function(){return Wt})),n.d(e,"composeWith",(function(){return Zt})),n.d(e,"concat",(function(){return _e})),n.d(e,"cond",(function(){return be})),n.d(e,"construct",(function(){return Ee})),n.d(e,"constructN",(function(){return we})),n.d(e,"contains",(function(){return xe})),n.d(e,"converge",(function(){return Ce})),n.d(e,"countBy",(function(){return ke})),n.d(e,"curry",(function(){return St})),n.d(e,"curryN",(function(){return h})),n.d(e,"dec",(function(){return Pe})),n.d(e,"defaultTo",(function(){return Re})),n.d(e,"descend",(function(){return Ae})),n.d(e,"difference",(function(){return Fe})),n.d(e,"differenceWith",(function(){return Ne})),n.d(e,"dissoc",(function(){return Ie})),n.d(e,"dissocPath",(function(){return Le})),n.d(e,"divide",(function(){return De})),n.d(e,"drop",(function(){return Be})),n.d(e,"dropLast",(function(){return ze})),n.d(e,"dropLastWhile",(function(){return Je})),n.d(e,"dropRepeats",(function(){return tn})),n.d(e,"dropRepeatsWith",(function(){return Ze})),n.d(e,"dropWhile",(function(){return nn})),n.d(e,"either",(function(){return on})),n.d(e,"empty",(function(){return sn})),n.d(e,"endsWith",(function(){return un})),n.d(e,"eqBy",(function(){return cn})),n.d(e,"eqProps",(function(){return ln})),n.d(e,"equals",(function(){return oe})),n.d(e,"evolve",(function(){return pn})),n.d(e,"filter",(function(){return me})),n.d(e,"find",(function(){return hn})),n.d(e,"findIndex",(function(){return mn})),n.d(e,"findLast",(function(){return gn})),n.d(e,"findLastIndex",(function(){return _n})),n.d(e,"flatten",(function(){return bn})),n.d(e,"flip",(function(){return wn})),n.d(e,"forEach",(function(){return En})),n.d(e,"forEachObjIndexed",(function(){return xn})),n.d(e,"fromPairs",(function(){return Cn})),n.d(e,"groupBy",(function(){return Sn})),n.d(e,"groupWith",(function(){return Tn})),n.d(e,"gt",(function(){return kn})),n.d(e,"gte",(function(){return Pn})),n.d(e,"has",(function(){return An})),n.d(e,"hasIn",(function(){return jn})),n.d(e,"hasPath",(function(){return Rn})),n.d(e,"head",(function(){return Jt})),n.d(e,"identical",(function(){return On})),n.d(e,"identity",(function(){return Kt})),n.d(e,"ifElse",(function(){return Fn})),n.d(e,"inc",(function(){return Nn})),n.d(e,"includes",(function(){return In})),n.d(e,"indexBy",(function(){return qn})),n.d(e,"indexOf",(function(){return Mn})),n.d(e,"init",(function(){return Ln})),n.d(e,"innerJoin",(function(){return Dn})),n.d(e,"insert",(function(){return Qn})),n.d(e,"insertAll",(function(){return Bn})),n.d(e,"intersection",(function(){return Gn})),n.d(e,"intersperse",(function(){return Vn})),n.d(e,"into",(function(){return Kn})),n.d(e,"invert",(function(){return Xn})),n.d(e,"invertObj",(function(){return Zn})),n.d(e,"invoker",(function(){return tr})),n.d(e,"is",(function(){return er})),n.d(e,"isEmpty",(function(){return nr})),n.d(e,"isNil",(function(){return gt})),n.d(e,"join",(function(){return rr})),n.d(e,"juxt",(function(){return ir})),n.d(e,"keys",(function(){return G})),n.d(e,"keysIn",(function(){return or})),n.d(e,"last",(function(){return Xe})),n.d(e,"lastIndexOf",(function(){return sr})),n.d(e,"length",(function(){return ur})),n.d(e,"lens",(function(){return cr})),n.d(e,"lensIndex",(function(){return lr})),n.d(e,"lensPath",(function(){return pr})),n.d(e,"lensProp",(function(){return fr})),n.d(e,"lift",(function(){return xt})),n.d(e,"liftN",(function(){return Et})),n.d(e,"lt",(function(){return hr})),n.d(e,"lte",(function(){return dr})),n.d(e,"map",(function(){return V})),n.d(e,"mapAccum",(function(){return mr})),n.d(e,"mapAccumRight",(function(){return yr})),n.d(e,"mapObjIndexed",(function(){return gr})),n.d(e,"match",(function(){return vr})),n.d(e,"mathMod",(function(){return _r})),n.d(e,"max",(function(){return C})),n.d(e,"maxBy",(function(){return br})),n.d(e,"mean",(function(){return Er})),n.d(e,"median",(function(){return xr})),n.d(e,"memoizeWith",(function(){return Cr})),n.d(e,"merge",(function(){return Sr})),n.d(e,"mergeAll",(function(){return Tr})),n.d(e,"mergeDeepLeft",(function(){return Rr})),n.d(e,"mergeDeepRight",(function(){return Ar})),n.d(e,"mergeDeepWith",(function(){return jr})),n.d(e,"mergeDeepWithKey",(function(){return Pr})),n.d(e,"mergeLeft",(function(){return Or})),n.d(e,"mergeRight",(function(){return Fr})),n.d(e,"mergeWith",(function(){return Nr})),n.d(e,"mergeWithKey",(function(){return kr})),n.d(e,"min",(function(){return Ir})),n.d(e,"minBy",(function(){return qr})),n.d(e,"modulo",(function(){return Mr})),n.d(e,"move",(function(){return Lr})),n.d(e,"multiply",(function(){return Dr})),n.d(e,"nAry",(function(){return _t})),n.d(e,"negate",(function(){return Qr})),n.d(e,"none",(function(){return Br})),n.d(e,"not",(function(){return qt})),n.d(e,"nth",(function(){return H})),n.d(e,"nthArg",(function(){return Ur})),n.d(e,"o",(function(){return $r})),n.d(e,"objOf",(function(){return Hn})),n.d(e,"of",(function(){return Vr})),n.d(e,"omit",(function(){return zr})),n.d(e,"once",(function(){return Hr})),n.d(e,"or",(function(){return rn})),n.d(e,"otherwise",(function(){return Jr})),n.d(e,"over",(function(){return Kr})),n.d(e,"pair",(function(){return Xr})),n.d(e,"partial",(function(){return ti})),n.d(e,"partialRight",(function(){return ei})),n.d(e,"partition",(function(){return ni})),n.d(e,"path",(function(){return J})),n.d(e,"paths",(function(){return W})),n.d(e,"pathEq",(function(){return ri})),n.d(e,"pathOr",(function(){return ii})),n.d(e,"pathSatisfies",(function(){return oi})),n.d(e,"pick",(function(){return si})),n.d(e,"pickAll",(function(){return ai})),n.d(e,"pickBy",(function(){return ui})),n.d(e,"pipe",(function(){return Ut})),n.d(e,"pipeK",(function(){return ci})),n.d(e,"pipeP",(function(){return Ht})),n.d(e,"pipeWith",(function(){return Xt})),n.d(e,"pluck",(function(){return K})),n.d(e,"prepend",(function(){return li})),n.d(e,"product",(function(){return pi})),n.d(e,"project",(function(){return hi})),n.d(e,"prop",(function(){return Y})),n.d(e,"propEq",(function(){return di})),n.d(e,"propIs",(function(){return mi})),n.d(e,"propOr",(function(){return yi})),n.d(e,"propSatisfies",(function(){return gi})),n.d(e,"props",(function(){return vi})),n.d(e,"range",(function(){return _i})),n.d(e,"reduce",(function(){return X})),n.d(e,"reduceBy",(function(){return Te})),n.d(e,"reduceRight",(function(){return bi})),n.d(e,"reduceWhile",(function(){return wi})),n.d(e,"reduced",(function(){return Ei})),n.d(e,"reject",(function(){return ye})),n.d(e,"remove",(function(){return qe})),n.d(e,"repeat",(function(){return Ci})),n.d(e,"replace",(function(){return Si})),n.d(e,"reverse",(function(){return $t})),n.d(e,"scan",(function(){return Ti})),n.d(e,"sequence",(function(){return ki})),n.d(e,"set",(function(){return Pi})),n.d(e,"slice",(function(){return Qt})),n.d(e,"sort",(function(){return Ri})),n.d(e,"sortBy",(function(){return Ai})),n.d(e,"sortWith",(function(){return ji})),n.d(e,"split",(function(){return Oi})),n.d(e,"splitAt",(function(){return Fi})),n.d(e,"splitEvery",(function(){return Ni})),n.d(e,"splitWhen",(function(){return Ii})),n.d(e,"startsWith",(function(){return qi})),n.d(e,"subtract",(function(){return Mi})),n.d(e,"sum",(function(){return wr})),n.d(e,"symmetricDifference",(function(){return Li})),n.d(e,"symmetricDifferenceWith",(function(){return Di})),n.d(e,"tail",(function(){return Bt})),n.d(e,"take",(function(){return $e})),n.d(e,"takeLast",(function(){return an})),n.d(e,"takeLastWhile",(function(){return Qi})),n.d(e,"takeWhile",(function(){return Ui})),n.d(e,"tap",(function(){return Gi})),n.d(e,"test",(function(){return Vi})),n.d(e,"andThen",(function(){return zi})),n.d(e,"times",(function(){return xi})),n.d(e,"toLower",(function(){return Hi})),n.d(e,"toPairs",(function(){return Wi})),n.d(e,"toPairsIn",(function(){return Ji})),n.d(e,"toString",(function(){return ve})),n.d(e,"toUpper",(function(){return Yi})),n.d(e,"transduce",(function(){return Ki})),n.d(e,"transpose",(function(){return Xi})),n.d(e,"traverse",(function(){return Zi})),n.d(e,"trim",(function(){return eo})),n.d(e,"tryCatch",(function(){return no})),n.d(e,"type",(function(){return Ot})),n.d(e,"unapply",(function(){return ro})),n.d(e,"unary",(function(){return io})),n.d(e,"uncurryN",(function(){return oo})),n.d(e,"unfold",(function(){return so})),n.d(e,"union",(function(){return ao})),n.d(e,"unionWith",(function(){return co})),n.d(e,"uniq",(function(){return $n})),n.d(e,"uniqBy",(function(){return Un})),n.d(e,"uniqWith",(function(){return uo})),n.d(e,"unless",(function(){return lo})),n.d(e,"unnest",(function(){return po})),n.d(e,"until",(function(){return fo})),n.d(e,"update",(function(){return Me})),n.d(e,"useWith",(function(){return fi})),n.d(e,"values",(function(){return pt})),n.d(e,"valuesIn",(function(){return ho})),n.d(e,"view",(function(){return yo})),n.d(e,"when",(function(){return go})),n.d(e,"where",(function(){return vo})),n.d(e,"whereEq",(function(){return _o})),n.d(e,"without",(function(){return bo})),n.d(e,"xor",(function(){return wo})),n.d(e,"xprod",(function(){return Eo})),n.d(e,"zip",(function(){return xo})),n.d(e,"zipObj",(function(){return Co})),n.d(e,"zipWith",(function(){return So})),n.d(e,"thunkify",(function(){return To}));var r=function(){return!1},i=function(){return!0},o={"@@functional/placeholder":!0};function s(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function a(t){return function e(n){return 0===arguments.length||s(n)?e:t.apply(this,arguments)}}function u(t){return function e(n,r){switch(arguments.length){case 0:return e;case 1:return s(n)?e:a((function(e){return t(n,e)}));default:return s(n)&&s(r)?e:s(n)?a((function(e){return t(e,r)})):s(r)?a((function(e){return t(n,e)})):t(n,r)}}}var c=u((function(t,e){return Number(t)+Number(e)}));function l(t,e){var n;e=e||[];var r=(t=t||[]).length,i=e.length,o=[];for(n=0;n<r;)o[o.length]=t[n],n+=1;for(n=0;n<i;)o[o.length]=e[n],n+=1;return o}function p(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,i){return e.apply(this,arguments)};case 5:return function(t,n,r,i,o){return e.apply(this,arguments)};case 6:return function(t,n,r,i,o,s){return e.apply(this,arguments)};case 7:return function(t,n,r,i,o,s,a){return e.apply(this,arguments)};case 8:return function(t,n,r,i,o,s,a,u){return e.apply(this,arguments)};case 9:return function(t,n,r,i,o,s,a,u,c){return e.apply(this,arguments)};case 10:return function(t,n,r,i,o,s,a,u,c,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function f(t,e,n){return function(){for(var r=[],i=0,o=t,a=0;a<e.length||i<arguments.length;){var u;a<e.length&&(!s(e[a])||i>=arguments.length)?u=e[a]:(u=arguments[i],i+=1),r[a]=u,s(u)||(o-=1),a+=1}return o<=0?n.apply(this,r):p(o,f(t,r,n))}}var h=u((function(t,e){return 1===t?a(e):p(t,f(t,[],e))})),d=a((function(t){return h(t.length,(function(){var e=0,n=arguments[0],r=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var t=n.apply(this,l(arguments,[e,r]));return e+=1,t},t.apply(this,i)}))}));function m(t){return function e(n,r,i){switch(arguments.length){case 0:return e;case 1:return s(n)?e:u((function(e,r){return t(n,e,r)}));case 2:return s(n)&&s(r)?e:s(n)?u((function(e,n){return t(e,r,n)})):s(r)?u((function(e,r){return t(n,e,r)})):a((function(e){return t(n,r,e)}));default:return s(n)&&s(r)&&s(i)?e:s(n)&&s(r)?u((function(e,n){return t(e,n,i)})):s(n)&&s(i)?u((function(e,n){return t(e,r,n)})):s(r)&&s(i)?u((function(e,r){return t(n,e,r)})):s(n)?a((function(e){return t(e,r,i)})):s(r)?a((function(e){return t(n,e,i)})):s(i)?a((function(e){return t(n,r,e)})):t(n,r,i)}}}var y=m((function(t,e,n){if(t>=n.length||t<-n.length)return n;var r=(t<0?n.length:0)+t,i=l(n);return i[r]=e(n[r]),i})),g=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function v(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function _(t,e,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),i=r.pop();if(!g(i)){for(var o=0;o<t.length;){if("function"==typeof i[t[o]])return i[t[o]].apply(i,r);o+=1}if(v(i)){var s=e.apply(null,r);return s(i)}}return n.apply(this,arguments)}}function b(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var w={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}},E=function(){function t(t,e){this.xf=e,this.f=t,this.all=!0}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){return this.all&&(t=this.xf["@@transducer/step"](t,!0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)||(this.all=!1,t=b(this.xf["@@transducer/step"](t,!1))),t},t}(),x=u(_(["all"],u((function(t,e){return new E(t,e)})),(function(t,e){for(var n=0;n<e.length;){if(!t(e[n]))return!1;n+=1}return!0}))),C=u((function(t,e){return e>t?e:t}));function S(t,e){for(var n=0,r=e.length,i=Array(r);n<r;)i[n]=t(e[n]),n+=1;return i}function T(t){return"[object String]"===Object.prototype.toString.call(t)}var k=a((function(t){return!!g(t)||!!t&&("object"==typeof t&&(!T(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),P=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();function R(t){return new P(t)}var A=u((function(t,e){return p(t.length,(function(){return t.apply(e,arguments)}))}));function j(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function O(t,e,n,r){return t["@@transducer/result"](n[r](A(t["@@transducer/step"],t),e))}var F="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function N(t,e,n){if("function"==typeof t&&(t=R(t)),k(n))return function(t,e,n){for(var r=0,i=n.length;r<i;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return O(t,e,n,"fantasy-land/reduce");if(null!=n[F])return j(t,e,n[F]());if("function"==typeof n.next)return j(t,e,n);if("function"==typeof n.reduce)return O(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var I=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=w.result,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),q=u((function(t,e){return new I(t,e)}));function M(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var L=Object.prototype.toString,D=function(){return"[object Arguments]"===L.call(arguments)?function(t){return"[object Arguments]"===L.call(t)}:function(t){return M("callee",t)}}(),Q=!{toString:null}.propertyIsEnumerable("toString"),B=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],U=function(){return arguments.propertyIsEnumerable("length")}(),$=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},G="function"!=typeof Object.keys||U?a((function(t){if(Object(t)!==t)return[];var e,n,r=[],i=U&&D(t);for(e in t)!M(e,t)||i&&"length"===e||(r[r.length]=e);if(Q)for(n=B.length-1;n>=0;)M(e=B[n],t)&&!$(r,e)&&(r[r.length]=e),n-=1;return r})):a((function(t){return Object(t)!==t?[]:Object.keys(t)})),V=u(_(["fantasy-land/map","map"],q,(function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return h(e.length,(function(){return t.call(this,e.apply(this,arguments))}));case"[object Object]":return N((function(n,r){return n[r]=t(e[r]),n}),{},G(e));default:return S(t,e)}}))),z=Number.isInteger||function(t){return t<<0===t},H=u((function(t,e){var n=t<0?e.length+t:t;return T(e)?e.charAt(n):e[n]})),W=u((function(t,e){return t.map((function(t){for(var n,r=e,i=0;i<t.length;){if(null==r)return;n=t[i],r=z(n)?H(n,r):r[n],i+=1}return r}))})),J=u((function(t,e){return W([t],e)[0]})),Y=u((function(t,e){return J([t],e)})),K=u((function(t,e){return V(Y(t),e)})),X=m(N),Z=a((function(t){return h(X(C,0,K("length",t)),(function(){for(var e=0,n=t.length;e<n;){if(!t[e].apply(this,arguments))return!1;e+=1}return!0}))})),tt=a((function(t){return function(){return t}})),et=u((function(t,e){return t&&e})),nt=function(){function t(t,e){this.xf=e,this.f=t,this.any=!1}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.any=!0,t=b(this.xf["@@transducer/step"](t,!0))),t},t}(),rt=u(_(["any"],u((function(t,e){return new nt(t,e)})),(function(t,e){for(var n=0;n<e.length;){if(t(e[n]))return!0;n+=1}return!1}))),it=a((function(t){return h(X(C,0,K("length",t)),(function(){for(var e=0,n=t.length;e<n;){if(t[e].apply(this,arguments))return!0;e+=1}return!1}))})),ot=u((function(t,e){return"function"==typeof e["fantasy-land/ap"]?e["fantasy-land/ap"](t):"function"==typeof t.ap?t.ap(e):"function"==typeof t?function(n){return t(n)(e(n))}:N((function(t,n){return l(t,V(n,e))}),[],t)}));function st(t,e){for(var n=0,r=e.length-(t-1),i=new Array(r>=0?r:0);n<r;)i[n]=Array.prototype.slice.call(e,n,n+t),n+=1;return i}var at=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.store(e),this.full?this.xf["@@transducer/step"](t,this.getCopy()):t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t.prototype.getCopy=function(){return l(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},t}(),ut=u(_([],u((function(t,e){return new at(t,e)})),st)),ct=u((function(t,e){return l(e,[t])})),lt=u((function(t,e){return t.apply(this,e)})),pt=a((function(t){for(var e=G(t),n=e.length,r=[],i=0;i<n;)r[i]=t[e[i]],i+=1;return r}));function ft(t,e){return G(e).reduce((function(n,r){return n[r]=t(e[r]),n}),{})}var ht=a((function t(e){return e=ft((function(e){return"function"==typeof e?e:t(e)}),e),h(X(C,0,K("length",pt(e))),(function(){var t=arguments;return ft((function(e){return lt(e,t)}),e)}))})),dt=u((function(t,e){return e(t)})),mt=m((function(t,e,n){var r=t(e),i=t(n);return r<i?-1:r>i?1:0})),yt=m((function(t,e,n){var r={};for(var i in n)r[i]=n[i];return r[t]=e,r})),gt=a((function(t){return null==t})),vt=m((function t(e,n,r){if(0===e.length)return n;var i=e[0];if(e.length>1){var o=!gt(r)&&M(i,r)?r[i]:z(e[1])?[]:{};n=t(Array.prototype.slice.call(e,1),n,o)}if(z(i)&&g(r)){var s=[].concat(r);return s[i]=n,s}return yt(i,n,r)})),_t=u((function(t,e){switch(t){case 0:return function(){return e.call(this)};case 1:return function(t){return e.call(this,t)};case 2:return function(t,n){return e.call(this,t,n)};case 3:return function(t,n,r){return e.call(this,t,n,r)};case 4:return function(t,n,r,i){return e.call(this,t,n,r,i)};case 5:return function(t,n,r,i,o){return e.call(this,t,n,r,i,o)};case 6:return function(t,n,r,i,o,s){return e.call(this,t,n,r,i,o,s)};case 7:return function(t,n,r,i,o,s,a){return e.call(this,t,n,r,i,o,s,a)};case 8:return function(t,n,r,i,o,s,a,u){return e.call(this,t,n,r,i,o,s,a,u)};case 9:return function(t,n,r,i,o,s,a,u,c){return e.call(this,t,n,r,i,o,s,a,u,c)};case 10:return function(t,n,r,i,o,s,a,u,c,l){return e.call(this,t,n,r,i,o,s,a,u,c,l)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}})),bt=a((function(t){return _t(2,t)}));function wt(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object AsyncGeneratorFunction]"===e}var Et=u((function(t,e){var n=h(t,e);return h(t,(function(){return N(ot,V(n,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),xt=a((function(t){return Et(t.length,t)})),Ct=u((function(t,e){return wt(t)?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:xt(et)(t,e)})),St=a((function(t){return h(t.length,t)})),Tt=St((function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))}));function kt(t){return function e(n){for(var r,i,o,s=[],a=0,u=n.length;a<u;){if(k(n[a]))for(o=0,i=(r=t?e(n[a]):n[a]).length;o<i;)s[s.length]=r[o],o+=1;else s[s.length]=n[a];a+=1}return s}}var Pt=function(t){var e=function(t){return{"@@transducer/init":w.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,n){var r=t["@@transducer/step"](e,n);return r["@@transducer/reduced"]?{"@@transducer/value":r,"@@transducer/reduced":!0}:r}}}(t);return{"@@transducer/init":w.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,n){return k(n)?N(e,t,n):N(e,t,[n])}}},Rt=u(_(["fantasy-land/chain","chain"],u((function(t,e){return V(t,Pt(e))})),(function(t,e){return"function"==typeof e?function(n){return t(e(n))(n)}:kt(!1)(V(t,e))}))),At=m((function(t,e,n){if(t>e)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<t?t:n>e?e:n}));function jt(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}var Ot=a((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function Ft(t,e,n,r){var i=function(i){for(var o=e.length,s=0;s<o;){if(t===e[s])return n[s];s+=1}for(var a in e[s+1]=t,n[s+1]=i,t)i[a]=r?Ft(t[a],e,n,!0):t[a];return i};switch(Ot(t)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(t.valueOf());case"RegExp":return jt(t);default:return t}}var Nt=a((function(t){return null!=t&&"function"==typeof t.clone?t.clone():Ft(t,[],[],!0)})),It=a((function(t){return function(e,n){return t(e,n)?-1:t(n,e)?1:0}})),qt=a((function(t){return!t})),Mt=xt(qt);function Lt(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function Dt(t,e){return function(){var n=arguments.length;if(0===n)return e();var r=arguments[n-1];return g(r)||"function"!=typeof r[t]?e.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var Qt=m(Dt("slice",(function(t,e,n){return Array.prototype.slice.call(n,t,e)}))),Bt=a(Dt("tail",Qt(1,1/0)));function Ut(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return p(arguments[0].length,X(Lt,arguments[0],Bt(arguments)))}var $t=a((function(t){return T(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()}));function Gt(){if(0===arguments.length)throw new Error("compose requires at least one argument");return Ut.apply(this,$t(arguments))}function Vt(){if(0===arguments.length)throw new Error("composeK requires at least one argument");var t=Array.prototype.slice.call(arguments),e=t.pop();return Gt(Gt.apply(this,V(Rt,t)),e)}function zt(t,e){return function(){var n=this;return t.apply(n,arguments).then((function(t){return e.call(n,t)}))}}function Ht(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return p(arguments[0].length,X(zt,arguments[0],Bt(arguments)))}function Wt(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return Ht.apply(this,$t(arguments))}var Jt=H(0);function Yt(t){return t}var Kt=a(Yt),Xt=u((function(t,e){if(e.length<=0)return Kt;var n=Jt(e),r=Bt(e);return p(n.length,(function(){return N((function(e,n){return t.call(this,n,e)}),n.apply(this,arguments),r)}))})),Zt=u((function(t,e){return Xt.apply(this,[t,$t(e)])}));function te(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function ee(t,e,n){for(var r=0,i=n.length;r<i;){if(t(e,n[r]))return!0;r+=1}return!1}var ne="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};function re(t,e,n,r){var i=te(t);function o(t,e){return ie(t,e,n.slice(),r.slice())}return!ee((function(t,e){return!ee(o,e,t)}),te(e),i)}function ie(t,e,n,r){if(ne(t,e))return!0;var i=Ot(t);if(i!==Ot(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===function(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}(t.constructor))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!ne(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!ne(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var o=n.length-1;o>=0;){if(n[o]===t)return r[o]===e;o-=1}switch(i){case"Map":return t.size===e.size&&re(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&re(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var s=G(t);if(s.length!==G(e).length)return!1;var a=n.concat([t]),u=r.concat([e]);for(o=s.length-1;o>=0;){var c=s[o];if(!M(c,e)||!ie(e[c],t[c],a,u))return!1;o-=1}return!0}var oe=u((function(t,e){return ie(t,e,[],[])}));function se(t,e,n){var r,i;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(r=1/e;n<t.length;){if(0===(i=t[n])&&1/i===r)return n;n+=1}return-1}if(e!=e){for(;n<t.length;){if("number"==typeof(i=t[n])&&i!=i)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(oe(t[n],e))return n;n+=1}return-1}function ae(t,e){return se(e,t,0)>=0}function ue(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var ce=function(t){return(t<10?"0":"")+t},le="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+ce(t.getUTCMonth()+1)+"-"+ce(t.getUTCDate())+"T"+ce(t.getUTCHours())+":"+ce(t.getUTCMinutes())+":"+ce(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function pe(t){return function(){return!t.apply(this,arguments)}}function fe(t,e){for(var n=0,r=e.length,i=[];n<r;)t(e[n])&&(i[i.length]=e[n]),n+=1;return i}function he(t){return"[object Object]"===Object.prototype.toString.call(t)}var de=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=w.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},t}(),me=u(_(["filter"],u((function(t,e){return new de(t,e)})),(function(t,e){return he(e)?N((function(n,r){return t(e[r])&&(n[r]=e[r]),n}),{},G(e)):fe(t,e)}))),ye=u((function(t,e){return me(pe(t),e)}));function ge(t,e){var n=function(n){var r=e.concat([t]);return ae(n,r)?"<Circular>":ge(n,r)},r=function(t,e){return S((function(e){return ue(e)+": "+n(t[e])}),e.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+S(n,t).join(", ")+"))";case"[object Array]":return"["+S(n,t).concat(r(t,ye((function(t){return/^\d+$/.test(t)}),G(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+n(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?n(NaN):ue(le(t)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+n(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object String]":return"object"==typeof t?"new String("+n(t.valueOf())+")":ue(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var i=t.toString();if("[object Object]"!==i)return i}return"{"+r(t,G(t)).join(", ")+"}"}}var ve=a((function(t){return ge(t,[])})),_e=u((function(t,e){if(g(t)){if(g(e))return t.concat(e);throw new TypeError(ve(e)+" is not an array")}if(T(t)){if(T(e))return t+e;throw new TypeError(ve(e)+" is not a string")}if(null!=t&&wt(t["fantasy-land/concat"]))return t["fantasy-land/concat"](e);if(null!=t&&wt(t.concat))return t.concat(e);throw new TypeError(ve(t)+' does not have a method named "concat" or "fantasy-land/concat"')})),be=a((function(t){return p(X(C,0,V((function(t){return t[0].length}),t)),(function(){for(var e=0;e<t.length;){if(t[e][0].apply(this,arguments))return t[e][1].apply(this,arguments);e+=1}}))})),we=u((function(t,e){if(t>10)throw new Error("Constructor with greater than ten arguments");return 0===t?function(){return new e}:St(_t(t,(function(t,n,r,i,o,s,a,u,c,l){switch(arguments.length){case 1:return new e(t);case 2:return new e(t,n);case 3:return new e(t,n,r);case 4:return new e(t,n,r,i);case 5:return new e(t,n,r,i,o);case 6:return new e(t,n,r,i,o,s);case 7:return new e(t,n,r,i,o,s,a);case 8:return new e(t,n,r,i,o,s,a,u);case 9:return new e(t,n,r,i,o,s,a,u,c);case 10:return new e(t,n,r,i,o,s,a,u,c,l)}})))})),Ee=a((function(t){return we(t.length,t)})),xe=u(ae),Ce=u((function(t,e){return h(X(C,0,K("length",e)),(function(){var n=arguments,r=this;return t.apply(r,S((function(t){return t.apply(r,n)}),e))}))})),Se=function(){function t(t,e,n,r){this.valueFn=t,this.valueAcc=e,this.keyFn=n,this.xf=r,this.inputs={}}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){var e;for(e in this.inputs)if(M(e,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[e]))["@@transducer/reduced"]){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){var n=this.keyFn(e);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],e),t},t}(),Te=f(4,[],_([],f(4,[],(function(t,e,n,r){return new Se(t,e,n,r)})),(function(t,e,n,r){return N((function(r,i){var o=n(i);return r[o]=t(M(o,r)?r[o]:Ft(e,[],[],!1),i),r}),{},r)}))),ke=Te((function(t,e){return t+1}),0),Pe=c(-1),Re=u((function(t,e){return null==e||e!=e?t:e})),Ae=m((function(t,e,n){var r=t(e),i=t(n);return r>i?-1:r<i?1:0}));function je(t,e,n){var r,i=typeof t;switch(i){case"string":case"number":return 0===t&&1/t==-1/0?!!n._items["-0"]||(e&&(n._items["-0"]=!0),!1):null!==n._nativeSet?e?(r=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===r):n._nativeSet.has(t):i in n._items?t in n._items[i]||(e&&(n._items[i][t]=!0),!1):(e&&(n._items[i]={},n._items[i][t]=!0),!1);case"boolean":if(i in n._items){var o=t?1:0;return!!n._items[i][o]||(e&&(n._items[i][o]=!0),!1)}return e&&(n._items[i]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?e?(r=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===r):n._nativeSet.has(t):i in n._items?!!ae(t,n._items[i])||(e&&n._items[i].push(t),!1):(e&&(n._items[i]=[t]),!1);case"undefined":return!!n._items[i]||(e&&(n._items[i]=!0),!1);case"object":if(null===t)return!!n._items.null||(e&&(n._items.null=!0),!1);default:return(i=Object.prototype.toString.call(t))in n._items?!!ae(t,n._items[i])||(e&&n._items[i].push(t),!1):(e&&(n._items[i]=[t]),!1)}}var Oe=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return t.prototype.add=function(t){return!je(t,!0,this)},t.prototype.has=function(t){return je(t,!1,this)},t}(),Fe=u((function(t,e){for(var n=[],r=0,i=t.length,o=e.length,s=new Oe,a=0;a<o;a+=1)s.add(e[a]);for(;r<i;)s.add(t[r])&&(n[n.length]=t[r]),r+=1;return n})),Ne=m((function(t,e,n){for(var r=[],i=0,o=e.length;i<o;)ee(t,e[i],n)||ee(t,e[i],r)||r.push(e[i]),i+=1;return r})),Ie=u((function(t,e){var n={};for(var r in e)n[r]=e[r];return delete n[t],n})),qe=m((function(t,e,n){var r=Array.prototype.slice.call(n,0);return r.splice(t,e),r})),Me=m((function(t,e,n){return y(t,tt(e),n)})),Le=u((function t(e,n){switch(e.length){case 0:return n;case 1:return z(e[0])&&g(n)?qe(e[0],1,n):Ie(e[0],n);default:var r=e[0],i=Array.prototype.slice.call(e,1);return null==n[r]?n:z(r)&&g(n)?Me(r,t(i,n[r]),n):yt(r,t(i,n[r]),n)}})),De=u((function(t,e){return t/e})),Qe=function(){function t(t,e){this.xf=e,this.n=t}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=w.result,t.prototype["@@transducer/step"]=function(t,e){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,e)},t}(),Be=u(_(["drop"],u((function(t,e){return new Qe(t,e)})),(function(t,e){return Qt(Math.max(0,t),1/0,e)}))),Ue=function(){function t(t,e){this.xf=e,this.n=t,this.i=0}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=w.result,t.prototype["@@transducer/step"]=function(t,e){this.i+=1;var n=0===this.n?t:this.xf["@@transducer/step"](t,e);return this.n>=0&&this.i>=this.n?b(n):n},t}(),$e=u(_(["take"],u((function(t,e){return new Ue(t,e)})),(function(t,e){return Qt(0,t<0?1/0:t,e)})));function Ge(t,e){return $e(t<e.length?e.length-t:0,e)}var Ve=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(e),t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t}(),ze=u(_([],u((function(t,e){return new Ve(t,e)})),Ge));function He(t,e){for(var n=e.length-1;n>=0&&t(e[n]);)n-=1;return Qt(0,n+1,e)}var We=function(){function t(t,e){this.f=t,this.retained=[],this.xf=e}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){return this.retained=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.retain(t,e):this.flush(t,e)},t.prototype.flush=function(t,e){return t=N(this.xf["@@transducer/step"],t,this.retained),this.retained=[],this.xf["@@transducer/step"](t,e)},t.prototype.retain=function(t,e){return this.retained.push(e),t},t}(),Je=u(_([],u((function(t,e){return new We(t,e)})),He)),Ye=function(){function t(t,e){this.xf=e,this.pred=t,this.lastValue=void 0,this.seenFirstValue=!1}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=w.result,t.prototype["@@transducer/step"]=function(t,e){var n=!1;return this.seenFirstValue?this.pred(this.lastValue,e)&&(n=!0):this.seenFirstValue=!0,this.lastValue=e,n?t:this.xf["@@transducer/step"](t,e)},t}(),Ke=u((function(t,e){return new Ye(t,e)})),Xe=H(-1),Ze=u(_([],Ke,(function(t,e){var n=[],r=1,i=e.length;if(0!==i)for(n[0]=e[0];r<i;)t(Xe(n),e[r])||(n[n.length]=e[r]),r+=1;return n}))),tn=a(_([],Ke(oe),Ze(oe))),en=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=w.result,t.prototype["@@transducer/step"]=function(t,e){if(this.f){if(this.f(e))return t;this.f=null}return this.xf["@@transducer/step"](t,e)},t}(),nn=u(_(["dropWhile"],u((function(t,e){return new en(t,e)})),(function(t,e){for(var n=0,r=e.length;n<r&&t(e[n]);)n+=1;return Qt(n,1/0,e)}))),rn=u((function(t,e){return t||e})),on=u((function(t,e){return wt(t)?function(){return t.apply(this,arguments)||e.apply(this,arguments)}:xt(rn)(t,e)})),sn=a((function(t){return null!=t&&"function"==typeof t["fantasy-land/empty"]?t["fantasy-land/empty"]():null!=t&&null!=t.constructor&&"function"==typeof t.constructor["fantasy-land/empty"]?t.constructor["fantasy-land/empty"]():null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():g(t)?[]:T(t)?"":he(t)?{}:D(t)?function(){return arguments}():void 0})),an=u((function(t,e){return Be(t>=0?e.length-t:0,e)})),un=u((function(t,e){return oe(an(t.length,e),t)})),cn=m((function(t,e,n){return oe(t(e),t(n))})),ln=m((function(t,e,n){return oe(e[t],n[t])})),pn=u((function t(e,n){var r,i,o,s=n instanceof Array?[]:{};for(i in n)o=typeof(r=e[i]),s[i]="function"===o?r(n[i]):r&&"object"===o?t(r,n[i]):n[i];return s})),fn=function(){function t(t,e){this.xf=e,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.found=!0,t=b(this.xf["@@transducer/step"](t,e))),t},t}(),hn=u(_(["find"],u((function(t,e){return new fn(t,e)})),(function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return e[n];n+=1}}))),dn=function(){function t(t,e){this.xf=e,this.f=t,this.idx=-1,this.found=!1}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,-1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.idx+=1,this.f(e)&&(this.found=!0,t=b(this.xf["@@transducer/step"](t,this.idx))),t},t}(),mn=u(_([],u((function(t,e){return new dn(t,e)})),(function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return n;n+=1}return-1}))),yn=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.last))},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.last=e),t},t}(),gn=u(_([],u((function(t,e){return new yn(t,e)})),(function(t,e){for(var n=e.length-1;n>=0;){if(t(e[n]))return e[n];n-=1}}))),vn=function(){function t(t,e){this.xf=e,this.f=t,this.idx=-1,this.lastIdx=-1}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.lastIdx))},t.prototype["@@transducer/step"]=function(t,e){return this.idx+=1,this.f(e)&&(this.lastIdx=this.idx),t},t}(),_n=u(_([],u((function(t,e){return new vn(t,e)})),(function(t,e){for(var n=e.length-1;n>=0;){if(t(e[n]))return n;n-=1}return-1}))),bn=a(kt(!0)),wn=a((function(t){return h(t.length,(function(e,n){var r=Array.prototype.slice.call(arguments,0);return r[0]=n,r[1]=e,t.apply(this,r)}))})),En=u(Dt("forEach",(function(t,e){for(var n=e.length,r=0;r<n;)t(e[r]),r+=1;return e}))),xn=u((function(t,e){for(var n=G(e),r=0;r<n.length;){var i=n[r];t(e[i],i,e),r+=1}return e})),Cn=a((function(t){for(var e={},n=0;n<t.length;)e[t[n][0]]=t[n][1],n+=1;return e})),Sn=u(Dt("groupBy",Te((function(t,e){return null==t&&(t=[]),t.push(e),t}),null))),Tn=u((function(t,e){for(var n=[],r=0,i=e.length;r<i;){for(var o=r+1;o<i&&t(e[o-1],e[o]);)o+=1;n.push(e.slice(r,o)),r=o}return n})),kn=u((function(t,e){return t>e})),Pn=u((function(t,e){return t>=e})),Rn=u((function(t,e){if(0===t.length||gt(e))return!1;for(var n=e,r=0;r<t.length;){if(gt(n)||!M(t[r],n))return!1;n=n[t[r]],r+=1}return!0})),An=u((function(t,e){return Rn([t],e)})),jn=u((function(t,e){return t in e})),On=u(ne),Fn=m((function(t,e,n){return h(Math.max(t.length,e.length,n.length),(function(){return t.apply(this,arguments)?e.apply(this,arguments):n.apply(this,arguments)}))})),Nn=c(1),In=u(ae),qn=Te((function(t,e){return e}),null),Mn=u((function(t,e){return"function"!=typeof e.indexOf||g(e)?se(e,t,0):e.indexOf(t)})),Ln=Qt(0,-1),Dn=m((function(t,e,n){return fe((function(e){return ee(t,e,n)}),e)})),Qn=m((function(t,e,n){t=t<n.length&&t>=0?t:n.length;var r=Array.prototype.slice.call(n,0);return r.splice(t,0,e),r})),Bn=m((function(t,e,n){return t=t<n.length&&t>=0?t:n.length,[].concat(Array.prototype.slice.call(n,0,t),e,Array.prototype.slice.call(n,t))})),Un=u((function(t,e){for(var n,r,i=new Oe,o=[],s=0;s<e.length;)n=t(r=e[s]),i.add(n)&&o.push(r),s+=1;return o})),$n=Un(Kt),Gn=u((function(t,e){var n,r;return t.length>e.length?(n=t,r=e):(n=e,r=t),$n(fe(wn(ae)(n),r))})),Vn=u(Dt("intersperse",(function(t,e){for(var n=[],r=0,i=e.length;r<i;)r===i-1?n.push(e[r]):n.push(e[r],t),r+=1;return n})));var zn="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,r=arguments.length;n<r;){var i=arguments[n];if(null!=i)for(var o in i)M(o,i)&&(e[o]=i[o]);n+=1}return e},Hn=u((function(t,e){var n={};return n[t]=e,n})),Wn={"@@transducer/init":Array,"@@transducer/step":function(t,e){return t.push(e),t},"@@transducer/result":Yt},Jn={"@@transducer/init":String,"@@transducer/step":function(t,e){return t+e},"@@transducer/result":Yt},Yn={"@@transducer/init":Object,"@@transducer/step":function(t,e){return zn(t,k(e)?Hn(e[0],e[1]):e)},"@@transducer/result":Yt};var Kn=m((function(t,e,n){return v(t)?N(e(t),t["@@transducer/init"](),n):N(e(function(t){if(v(t))return t;if(k(t))return Wn;if("string"==typeof t)return Jn;if("object"==typeof t)return Yn;throw new Error("Cannot create transformer for "+t)}(t)),Ft(t,[],[],!1),n)})),Xn=a((function(t){for(var e=G(t),n=e.length,r=0,i={};r<n;){var o=e[r],s=t[o],a=M(s,i)?i[s]:i[s]=[];a[a.length]=o,r+=1}return i})),Zn=a((function(t){for(var e=G(t),n=e.length,r=0,i={};r<n;){var o=e[r];i[t[o]]=o,r+=1}return i})),tr=u((function(t,e){return h(t+1,(function(){var n=arguments[t];if(null!=n&&wt(n[e]))return n[e].apply(n,Array.prototype.slice.call(arguments,0,t));throw new TypeError(ve(n)+' does not have a method named "'+e+'"')}))})),er=u((function(t,e){return null!=e&&e.constructor===t||e instanceof t})),nr=a((function(t){return null!=t&&oe(t,sn(t))})),rr=tr(1,"join"),ir=a((function(t){return Ce((function(){return Array.prototype.slice.call(arguments,0)}),t)})),or=a((function(t){var e,n=[];for(e in t)n[n.length]=e;return n})),sr=u((function(t,e){if("function"!=typeof e.lastIndexOf||g(e)){for(var n=e.length-1;n>=0;){if(oe(e[n],t))return n;n-=1}return-1}return e.lastIndexOf(t)}));function ar(t){return"[object Number]"===Object.prototype.toString.call(t)}var ur=a((function(t){return null!=t&&ar(t.length)?t.length:NaN})),cr=u((function(t,e){return function(n){return function(r){return V((function(t){return e(t,r)}),n(t(r)))}}})),lr=a((function(t){return cr(H(t),Me(t))})),pr=a((function(t){return cr(J(t),vt(t))})),fr=a((function(t){return cr(Y(t),yt(t))})),hr=u((function(t,e){return t<e})),dr=u((function(t,e){return t<=e})),mr=m((function(t,e,n){for(var r=0,i=n.length,o=[],s=[e];r<i;)s=t(s[0],n[r]),o[r]=s[1],r+=1;return[s[0],o]})),yr=m((function(t,e,n){for(var r=n.length-1,i=[],o=[e];r>=0;)o=t(o[0],n[r]),i[r]=o[1],r-=1;return[o[0],i]})),gr=u((function(t,e){return N((function(n,r){return n[r]=t(e[r],r,e),n}),{},G(e))})),vr=u((function(t,e){return e.match(t)||[]})),_r=u((function(t,e){return z(t)?!z(e)||e<1?NaN:(t%e+e)%e:NaN})),br=m((function(t,e,n){return t(n)>t(e)?n:e})),wr=X(c,0),Er=a((function(t){return wr(t)/t.length})),xr=a((function(t){var e=t.length;if(0===e)return NaN;var n=2-e%2,r=(e-n)/2;return Er(Array.prototype.slice.call(t,0).sort((function(t,e){return t<e?-1:t>e?1:0})).slice(r,r+n))})),Cr=u((function(t,e){var n={};return p(e.length,(function(){var r=t.apply(this,arguments);return M(r,n)||(n[r]=e.apply(this,arguments)),n[r]}))})),Sr=u((function(t,e){return zn({},t,e)})),Tr=a((function(t){return zn.apply(null,[{}].concat(t))})),kr=m((function(t,e,n){var r,i={};for(r in e)M(r,e)&&(i[r]=M(r,n)?t(r,e[r],n[r]):e[r]);for(r in n)M(r,n)&&!M(r,i)&&(i[r]=n[r]);return i})),Pr=m((function t(e,n,r){return kr((function(n,r,i){return he(r)&&he(i)?t(e,r,i):e(n,r,i)}),n,r)})),Rr=u((function(t,e){return Pr((function(t,e,n){return e}),t,e)})),Ar=u((function(t,e){return Pr((function(t,e,n){return n}),t,e)})),jr=m((function(t,e,n){return Pr((function(e,n,r){return t(n,r)}),e,n)})),Or=u((function(t,e){return zn({},e,t)})),Fr=u((function(t,e){return zn({},t,e)})),Nr=m((function(t,e,n){return kr((function(e,n,r){return t(n,r)}),e,n)})),Ir=u((function(t,e){return e<t?e:t})),qr=m((function(t,e,n){return t(n)<t(e)?n:e})),Mr=u((function(t,e){return t%e})),Lr=m((function(t,e,n){var r=n.length,i=n.slice(),o=t<0?r+t:t,s=e<0?r+e:e,a=i.splice(o,1);return o<0||o>=n.length||s<0||s>=n.length?n:[].concat(i.slice(0,s)).concat(a).concat(i.slice(s,n.length))})),Dr=u((function(t,e){return t*e})),Qr=a((function(t){return-t})),Br=u((function(t,e){return x(pe(t),e)})),Ur=a((function(t){return h(t<0?1:t+1,(function(){return H(t,arguments)}))})),$r=m((function(t,e,n){return t(e(n))}));function Gr(t){return[t]}var Vr=a(Gr),zr=u((function(t,e){for(var n={},r={},i=0,o=t.length;i<o;)r[t[i]]=1,i+=1;for(var s in e)r.hasOwnProperty(s)||(n[s]=e[s]);return n})),Hr=a((function(t){var e,n=!1;return p(t.length,(function(){return n?e:(n=!0,e=t.apply(this,arguments))}))}));function Wr(t,e){if(null==e||!wt(e.then))throw new TypeError("`"+t+"` expected a Promise, received "+ge(e,[]))}var Jr=u((function(t,e){return Wr("otherwise",e),e.then(null,t)})),Yr=function(t){return{value:t,map:function(e){return Yr(e(t))}}},Kr=m((function(t,e,n){return t((function(t){return Yr(e(t))}))(n).value})),Xr=u((function(t,e){return[t,e]}));function Zr(t){return u((function(e,n){return p(Math.max(0,e.length-n.length),(function(){return e.apply(this,t(n,arguments))}))}))}var ti=Zr(l),ei=Zr(wn(l)),ni=ir([me,ye]),ri=m((function(t,e,n){return oe(J(t,n),e)})),ii=m((function(t,e,n){return Re(t,J(e,n))})),oi=m((function(t,e,n){return t(J(e,n))})),si=u((function(t,e){for(var n={},r=0;r<t.length;)t[r]in e&&(n[t[r]]=e[t[r]]),r+=1;return n})),ai=u((function(t,e){for(var n={},r=0,i=t.length;r<i;){var o=t[r];n[o]=e[o],r+=1}return n})),ui=u((function(t,e){var n={};for(var r in e)t(e[r],r,e)&&(n[r]=e[r]);return n}));function ci(){if(0===arguments.length)throw new Error("pipeK requires at least one argument");return Vt.apply(this,$t(arguments))}var li=u((function(t,e){return l([t],e)})),pi=X(Dr,1),fi=u((function(t,e){return h(e.length,(function(){for(var n=[],r=0;r<e.length;)n.push(e[r].call(this,arguments[r])),r+=1;return t.apply(this,n.concat(Array.prototype.slice.call(arguments,e.length)))}))})),hi=fi(S,[ai,Kt]),di=m((function(t,e,n){return oe(e,n[t])})),mi=m((function(t,e,n){return er(t,n[e])})),yi=m((function(t,e,n){return ii(t,[e],n)})),gi=m((function(t,e,n){return t(n[e])})),vi=u((function(t,e){return t.map((function(t){return J([t],e)}))})),_i=u((function(t,e){if(!ar(t)||!ar(e))throw new TypeError("Both arguments to range must be numbers");for(var n=[],r=t;r<e;)n.push(r),r+=1;return n})),bi=m((function(t,e,n){for(var r=n.length-1;r>=0;)e=t(n[r],e),r-=1;return e})),wi=f(4,[],(function(t,e,n,r){return N((function(n,r){return t(n,r)?e(n,r):b(n)}),n,r)})),Ei=a(b),xi=u((function(t,e){var n,r=Number(e),i=0;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(n=new Array(r);i<r;)n[i]=t(i),i+=1;return n})),Ci=u((function(t,e){return xi(tt(t),e)})),Si=m((function(t,e,n){return n.replace(t,e)})),Ti=m((function(t,e,n){for(var r=0,i=n.length,o=[e];r<i;)e=t(e,n[r]),o[r+1]=e,r+=1;return o})),ki=u((function(t,e){return"function"==typeof e.sequence?e.sequence(t):bi((function(t,e){return ot(V(li,t),e)}),t([]),e)})),Pi=m((function(t,e,n){return Kr(t,tt(e),n)})),Ri=u((function(t,e){return Array.prototype.slice.call(e,0).sort(t)})),Ai=u((function(t,e){return Array.prototype.slice.call(e,0).sort((function(e,n){var r=t(e),i=t(n);return r<i?-1:r>i?1:0}))})),ji=u((function(t,e){return Array.prototype.slice.call(e,0).sort((function(e,n){for(var r=0,i=0;0===r&&i<t.length;)r=t[i](e,n),i+=1;return r}))})),Oi=tr(1,"split"),Fi=u((function(t,e){return[Qt(0,t,e),Qt(t,ur(e),e)]})),Ni=u((function(t,e){if(t<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],r=0;r<e.length;)n.push(Qt(r,r+=t,e));return n})),Ii=u((function(t,e){for(var n=0,r=e.length,i=[];n<r&&!t(e[n]);)i.push(e[n]),n+=1;return[i,Array.prototype.slice.call(e,n)]})),qi=u((function(t,e){return oe($e(t.length,e),t)})),Mi=u((function(t,e){return Number(t)-Number(e)})),Li=u((function(t,e){return _e(Fe(t,e),Fe(e,t))})),Di=m((function(t,e,n){return _e(Ne(t,e,n),Ne(t,n,e))})),Qi=u((function(t,e){for(var n=e.length-1;n>=0&&t(e[n]);)n-=1;return Qt(n+1,1/0,e)})),Bi=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=w.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):b(t)},t}(),Ui=u(_(["takeWhile"],u((function(t,e){return new Bi(t,e)})),(function(t,e){for(var n=0,r=e.length;n<r&&t(e[n]);)n+=1;return Qt(0,n,e)}))),$i=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=w.init,t.prototype["@@transducer/result"]=w.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e),this.xf["@@transducer/step"](t,e)},t}(),Gi=u(_([],u((function(t,e){return new $i(t,e)})),(function(t,e){return t(e),e})));var Vi=u((function(t,e){if(n=t,"[object RegExp]"!==Object.prototype.toString.call(n))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+ve(t));var n;return jt(t).test(e)})),zi=u((function(t,e){return Wr("andThen",e),e.then(t)})),Hi=tr(0,"toLowerCase"),Wi=a((function(t){var e=[];for(var n in t)M(n,t)&&(e[e.length]=[n,t[n]]);return e})),Ji=a((function(t){var e=[];for(var n in t)e[e.length]=[n,t[n]];return e})),Yi=tr(0,"toUpperCase"),Ki=h(4,(function(t,e,n,r){return N(t("function"==typeof e?R(e):e),n,r)})),Xi=a((function(t){for(var e=0,n=[];e<t.length;){for(var r=t[e],i=0;i<r.length;)void 0===n[i]&&(n[i]=[]),n[i].push(r[i]),i+=1;e+=1}return n})),Zi=m((function(t,e,n){return"function"==typeof n["fantasy-land/traverse"]?n["fantasy-land/traverse"](e,t):ki(t,V(e,n))})),to="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",eo=a("function"==typeof String.prototype.trim&&!to.trim()&&"​".trim()?function(t){return t.trim()}:function(t){var e=new RegExp("^["+to+"]["+to+"]*"),n=new RegExp("["+to+"]["+to+"]*$");return t.replace(e,"").replace(n,"")}),no=u((function(t,e){return p(t.length,(function(){try{return t.apply(this,arguments)}catch(t){return e.apply(this,l([t],arguments))}}))})),ro=a((function(t){return function(){return t(Array.prototype.slice.call(arguments,0))}})),io=a((function(t){return _t(1,t)})),oo=u((function(t,e){return h(t,(function(){for(var n,r=1,i=e,o=0;r<=t&&"function"==typeof i;)n=r===t?arguments.length:o+i.length,i=i.apply(this,Array.prototype.slice.call(arguments,o,n)),r+=1,o=n;return i}))})),so=u((function(t,e){for(var n=t(e),r=[];n&&n.length;)r[r.length]=n[0],n=t(n[1]);return r})),ao=u(Gt($n,l)),uo=u((function(t,e){for(var n,r=0,i=e.length,o=[];r<i;)ee(t,n=e[r],o)||(o[o.length]=n),r+=1;return o})),co=m((function(t,e,n){return uo(t,l(e,n))})),lo=m((function(t,e,n){return t(n)?n:e(n)})),po=Rt(Yt),fo=m((function(t,e,n){for(var r=n;!t(r);)r=e(r);return r})),ho=a((function(t){var e,n=[];for(e in t)n[n.length]=t[e];return n})),mo=function(t){return{value:t,"fantasy-land/map":function(){return this}}},yo=u((function(t,e){return t(mo)(e).value})),go=m((function(t,e,n){return t(n)?e(n):n})),vo=u((function(t,e){for(var n in t)if(M(n,t)&&!t[n](e[n]))return!1;return!0})),_o=u((function(t,e){return vo(V(oe,t),e)})),bo=u((function(t,e){return ye(wn(ae)(t),e)})),wo=u((function(t,e){return Boolean(!t^!e)})),Eo=u((function(t,e){for(var n,r=0,i=t.length,o=e.length,s=[];r<i;){for(n=0;n<o;)s[s.length]=[t[r],e[n]],n+=1;r+=1}return s})),xo=u((function(t,e){for(var n=[],r=0,i=Math.min(t.length,e.length);r<i;)n[r]=[t[r],e[r]],r+=1;return n})),Co=u((function(t,e){for(var n=0,r=Math.min(t.length,e.length),i={};n<r;)i[t[n]]=e[n],n+=1;return i})),So=m((function(t,e,n){for(var r=[],i=0,o=Math.min(e.length,n.length);i<o;)r[i]=t(e[i],n[i]),i+=1;return r})),To=a((function(t){return h(t.length,(function(){var e=arguments;return function(){return t.apply(this,e)}}))}))},function(t,e,n){var r=n(113),i=n(115),o=n(49),s=n(116);e.getTypeParser=function(t,e){if(!a[e=e||"text"])return u;return a[e][t]||u},e.setTypeParser=function(t,e,n){"function"==typeof e&&(n=e,e="text");a[e][t]=n},e.arrayParser=o,e.builtins=s;var a={text:{},binary:{}};function u(t){return String(t)}r.init((function(t,e){a.text[t]=e})),i.init((function(t,e){a.binary[t]=e}))},function(t,e,n){"use strict";var r,i,o=n(13),s=o.freeze,a=n(1),u=a.inherits,c=a.notEnumerableProp;function l(t,e){function n(r){if(!(this instanceof n))return new n(r);c(this,"message","string"==typeof r?r:e),c(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return u(n,Error),n}var p=l("Warning","warning"),f=l("CancellationError","cancellation error"),h=l("TimeoutError","timeout error"),d=l("AggregateError","aggregate error");try{r=TypeError,i=RangeError}catch(t){r=l("TypeError","type error"),i=l("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<m.length;++y)"function"==typeof Array.prototype[m[y]]&&(d.prototype[m[y]]=Array.prototype[m[y]]);o.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var g=0;function v(t){if(!(this instanceof v))return new v(t);c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(c(this,"message",t.message),c(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}d.prototype.toString=function(){var t=Array(4*g+1).join(" "),e="\n"+t+"AggregateError of:\n";g++,t=Array(4*g+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];e+=(r=i.join("\n"))+"\n"}return g--,e},u(v,Error);var _=Error.__BluebirdErrorTypes__;_||(_=s({CancellationError:f,TimeoutError:h,OperationalError:v,RejectionError:v,AggregateError:d}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:_,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:r,RangeError:i,CancellationError:_.CancellationError,OperationalError:_.OperationalError,TimeoutError:_.TimeoutError,AggregateError:_.AggregateError,Warning:p}},function(t,e){t.exports={nativeError:"Failed to initialize Native Bindings.",queryDisconnected:"Cannot execute a query on a disconnected client.",invalidQuery:"Invalid query format.",invalidFunction:"Invalid function name.",invalidProc:"Invalid procedure name.",invalidMask:"Invalid Query Result Mask specified.",looseQuery:"Querying against a released or lost connection.",notEmpty:"No return data was expected.",noData:"No data returned from the query.",multiple:"Multiple rows were not expected.",nativeStreaming:"Streaming doesn't work with Native Bindings.",invalidStream:"Invalid or missing stream object.",invalidStreamState:"Invalid stream state.",invalidStreamCB:"Invalid or missing stream initialization callback.",poolDestroyed:"Connection pool of the database object has been destroyed.",clientEnd:"Abnormal client.end() call, due to invalid code or failed server connection."}},function(t,e){var n=function(){"use strict";return void 0===this}();if(n)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,i={}.toString,o={}.constructor.prototype,s=function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e};t.exports={isArray:function(t){try{return"[object Array]"===i.call(t)}catch(t){return!1}},keys:s,names:s,defineProperty:function(t,e,n){return t[e]=n.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return o}},isES5:n,propertyIsWritable:function(){return!0}}}},function(t,e,n){if(+process.versions.node.split(".")[0]<8)throw new Error("Minimum Node.js version supported by pg-promise is 8.0.0");t.exports=n(107)},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("stream")},function(t,e){t.exports=require("assert")},function(t,e,n){const{addReadProp:r}=n(0);t.exports={InnerState:class{constructor(t){r(this,"_inner",{},!0),t&&"object"==typeof t&&this.extendState(t)}extendState(t){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this._inner[e]=t[e])}}}},function(t,e,n){const{QueryResultError:r,queryResultErrorCode:i}=n(109),{PreparedStatementError:o}=n(110),{ParameterizedQueryError:s}=n(112),{QueryFileError:a}=n(35);t.exports={QueryResultError:r,queryResultErrorCode:i,PreparedStatementError:o,ParameterizedQueryError:s,QueryFileError:a}},function(t,e,n){const{InnerState:r}=n(18),{QueryFileError:i}=n(19),{assertOptions:o}=n(6),{ColorConsole:s}=n(23),a={fs:n(15),os:n(4),path:n(3),minify:n(36),utils:n(0),formatting:n(8)},u=Symbol("QueryFile.query");class c extends r{constructor(t,e){let n=t;e=o(e,{debug:a.utils.isDev(),minify:!(!e||!e.compress||void 0!==e.minify)||void 0,compress:void 0,params:void 0,noWarnings:void 0}),a.utils.isText(n)&&!a.utils.isPathAbsolute(n)&&(n=a.path.join(a.utils.startDir,n)),e.noWarnings||(n in l?(l[n]++,s.warn(`WARNING: Creating a duplicate QueryFile object for the same file - \n    ${n}\n${a.utils.getLocalStack(2,3)}\n`)):l[n]=0);super({file:t,filePath:n,options:e,sql:void 0,error:void 0,ready:void 0,modTime:void 0}),this.prepare()}get[u](){return this._inner.sql}get error(){return this._inner.error}get file(){return this._inner.file}get options(){return this._inner.options}prepare(t){const e=this._inner,n=e.options;let r;if(n.debug&&e.ready)try{if(r=a.fs.statSync(e.filePath).mtime.getTime(),r===e.modTime)return;e.ready=!1}catch(n){if(e.sql=void 0,e.ready=!1,e.error=n,t)throw e.error;return}if(!e.ready)try{e.sql=a.fs.readFileSync(e.filePath,"utf8"),e.modTime=r||a.fs.statSync(e.filePath).mtime.getTime(),n.minify&&"after"!==n.minify&&(e.sql=a.minify(e.sql,{compress:n.compress})),void 0!==n.params&&(e.sql=a.formatting.as.format(e.sql,n.params,{partial:!0})),n.minify&&"after"===n.minify&&(e.sql=a.minify(e.sql,{compress:n.compress})),e.ready=!0,e.error=void 0}catch(n){if(e.sql=void 0,e.error=new i(n,this),t)throw e.error}}}c.$query=u;const l={};c.prototype[a.formatting.as.ctf.toPostgres]=function(t){return(t=this instanceof c&&this||t).prepare(!0),t[c.$query]},c.prototype[a.formatting.as.ctf.rawType]=!0,c.prototype.toString=function(t){t=t>0?parseInt(t):0;const e=a.utils.messageGap(t+1),n=["QueryFile {"];return this.prepare(),n.push(e+'file: "'+this.file+'"'),n.push(e+"options: "+a.utils.toJson(this.options)),this.error?n.push(e+"error: "+this.error.toString(t+1)):n.push(e+'query: "'+this[c.$query]+'"'),n.push(a.utils.messageGap(t)+"}"),n.join(a.os.EOL)},a.utils.addInspection(c,(function(){return this.toString()})),t.exports={QueryFile:c}},function(t,e,n){const{InnerState:r}=n(18),{assertOptions:i}=n(6),{TableName:o}=n(28),{Column:s}=n(73),a={os:n(4),utils:n(0),formatting:n(8)};class u extends r{constructor(t,e){if(super(),!t||"object"!=typeof t)throw new TypeError("Invalid parameter 'columns' specified.");if(e=i(e,["table","inherit"]),a.utils.isNull(e.table)||(this.table=e.table instanceof o?e.table:new o(e.table)),Array.isArray(t)){const e={};this.columns=t.map(t=>{const n=t instanceof s?t:new s(t);if(n.name in e)throw new Error(`Duplicate column name "${n.name}".`);return e[n.name]=!0,n})}else if(t instanceof s)this.columns=[t];else{this.columns=[];for(const n in t)(e.inherit||Object.prototype.hasOwnProperty.call(t,n))&&this.columns.push(new s(n))}Object.freeze(this.columns),Object.freeze(this),this.extendState({names:void 0,variables:void 0,updates:void 0,isSimple:!0});for(let t=0;t<this.columns.length;t++){const e=this.columns[t];if(e.prop||e.init||"def"in e){this._inner.isSimple=!1;break}}}get names(){const t=this._inner;return t.names||(t.names=this.columns.map(t=>t.escapedName).join()),t.names}get variables(){const t=this._inner;return t.variables||(t.variables=this.columns.map(t=>t.variable+t.castText).join()),t.variables}}function c(t,e){const n={source:e,name:t.prop||t.name};return n.exists=n.name in e,n.exists?n.value=e[n.name]:n.value="def"in t?t.def:void 0,n}u.prototype.assign=function(t){const e=this._inner,n=t&&t.prefix&&"string"==typeof t.prefix;if(e.updates&&!n)return e.updates;let r=n;const i=t&&t.source&&"object"==typeof t.source;let o=this.columns.filter(e=>{if(e.cnd)return!1;if(e.skip&&(r=!0,i)){const n=c(e,t.source);if(e.skip.call(t.source,n))return!1}return!0});const s=n?a.formatting.as.alias(t.prefix)+".":"";return o=o.map(t=>s+t.escapedName+"="+t.variable+t.castText).join(),r||(e.updates=o),o},u.prototype.assignColumns=function(t){const e="string"==typeof(t=i(t,["from","to","skip"])).skip&&[t.skip]||(Array.isArray(t.skip)||"function"==typeof t.skip)&&t.skip,n="string"==typeof t.from&&t.from&&a.formatting.as.alias(t.from)+"."||"",r="string"==typeof t.to&&t.to&&a.formatting.as.alias(t.to)+"."||"",o="function"==typeof e?t=>!e.call(t,t):t=>-1===e.indexOf(t.name);return(e?this.columns.filter(o):this.columns).map(t=>r+t.escapedName+"="+n+t.escapedName).join()},u.prototype.extend=function(t){let e=t;return e instanceof u||(e=new u(t)),new u(this.columns.concat(e.columns),{table:this.table})},u.prototype.merge=function(t){let e=t;e instanceof u||(e=new u(t));const n={},r=[];return this.columns.forEach((t,e)=>{r.push(t),n[t.name]=e}),e.columns.forEach(t=>{t.name in n?r[n[t.name]]=t:r.push(t)}),new u(r,{table:this.table})},u.prototype.prepare=function(t){if(this._inner.isSimple)return t;const e={};return this.columns.forEach(n=>{const r=c(n,t);n.init?e[r.name]=n.init.call(t,r):(r.exists||"def"in n)&&(e[r.name]=r.value)}),e},u.prototype.toString=function(t){t=t>0?parseInt(t):0;const e=a.utils.messageGap(t),n=a.utils.messageGap(t+1),r=["ColumnSet {"];return this.table&&r.push(n+"table: "+this.table),this.columns.length?(r.push(n+"columns: ["),this.columns.forEach(t=>{r.push(t.toString(2))}),r.push(n+"]")):r.push(n+"columns: []"),r.push(e+"}"),r.join(a.os.EOL)},a.utils.addInspection(u,(function(){return this.toString()})),t.exports={ColumnSet:u}},function(t,e,n){const{ColorConsole:r}=n(23),i={main:n(14),utils:n(0)};class o{static connect(t,e,n){if("function"==typeof t.options.connect)try{t.options.connect(e,t.dc,n)}catch(t){o.unexpected("connect",t)}}static disconnect(t,e){if("function"==typeof t.options.disconnect)try{t.options.disconnect(e,t.dc)}catch(t){o.unexpected("disconnect",t)}}static query(t,e){if("function"==typeof t.query)try{t.query(e)}catch(t){return t instanceof Error?t:new i.utils.InternalError(t)}}static receive(t,e,n,r){if("function"==typeof t.receive)try{t.receive(e,n,r)}catch(t){return t instanceof Error?t:new i.utils.InternalError(t)}}static task(t,e){if("function"==typeof t.task)try{t.task(e)}catch(t){o.unexpected("task",t)}}static transact(t,e){if("function"==typeof t.transact)try{t.transact(e)}catch(t){o.unexpected("transact",t)}}static error(t,e,n){if("function"==typeof t.error)try{t.error(e,n)}catch(t){o.unexpected("error",t)}}static extend(t,e,n){if("function"==typeof t.extend)try{t.extend.call(e,e,n)}catch(t){o.unexpected("extend",t)}}static unexpected(t,e){if(!i.main.suppressErrors){const n=e instanceof Error?e.stack:(new Error).stack;r.error(`Unexpected error in '${t}' event handler.\n${n}\n`)}}}t.exports={Events:o}},function(t,e,n){const r=n(2);class i{static log(){i.writeNormal([...arguments],39)}static info(){i.writeNormal([...arguments],36)}static success(){i.writeNormal([...arguments],32)}static warn(){i.writeNormal([...arguments],33)}static error(){i.writeError([...arguments],31)}static writeNormal(t,e){process.stdout.isTTY?console.log.apply(null,i.formatColor(t,e)):console.log.apply(null,t)}static writeError(t,e){process.stderr.isTTY?console.error.apply(null,i.formatColor(t,e)):console.error.apply(null,t)}static formatColor(t,e){return t.map(t=>`[${e}m${r.format(t)}[0m`)}}i.log.bright=function(){i.writeNormal([...arguments],97)},i.info.bright=function(){i.writeNormal([...arguments],93)},i.success.bright=function(){i.writeNormal([...arguments],92)},i.warn.bright=function(){i.writeNormal([...arguments],93)},i.error.bright=function(){i.writeError([...arguments],91)},t.exports={ColorConsole:i}},function(t,e,n){"use strict";const r=n(25),i=n(26);var o=function(t,e){if(t instanceof Buffer)return t;if(ArrayBuffer.isView(t)){var n=Buffer.from(t.buffer,t.byteOffset,t.byteLength);return n.length===t.byteLength?n:n.slice(t.byteOffset,t.byteOffset+t.byteLength)}return t instanceof Date?i.parseInputDatesAsUTC?function(t){var e=t.getUTCFullYear(),n=e<1;n&&(e=Math.abs(e)+1);var r=s(e,4)+"-"+s(t.getUTCMonth()+1,2)+"-"+s(t.getUTCDate(),2)+"T"+s(t.getUTCHours(),2)+":"+s(t.getUTCMinutes(),2)+":"+s(t.getUTCSeconds(),2)+"."+s(t.getUTCMilliseconds(),3);r+="+00:00",n&&(r+=" BC");return r}(t):function(t){var e=-t.getTimezoneOffset(),n=t.getFullYear(),r=n<1;r&&(n=Math.abs(n)+1);var i=s(n,4)+"-"+s(t.getMonth()+1,2)+"-"+s(t.getDate(),2)+"T"+s(t.getHours(),2)+":"+s(t.getMinutes(),2)+":"+s(t.getSeconds(),2)+"."+s(t.getMilliseconds(),3);e<0?(i+="-",e*=-1):i+="+";i+=s(Math.floor(e/60),2)+":"+s(e%60,2),r&&(i+=" BC");return i}(t):Array.isArray(t)?function t(e){for(var n="{",r=0;r<e.length;r++)r>0&&(n+=","),null===e[r]||void 0===e[r]?n+="NULL":Array.isArray(e[r])?n+=t(e[r]):e[r]instanceof Buffer?n+="\\\\x"+e[r].toString("hex"):n+='"'+o(e[r]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"';return n+="}"}(t):null==t?null:"object"==typeof t?function(t,e){if(t&&"function"==typeof t.toPostgres){if(-1!==(e=e||[]).indexOf(t))throw new Error('circular reference detected while preparing "'+t+'" for query');return e.push(t),o(t.toPostgres(o),e)}return JSON.stringify(t)}(t,e):t.toString()};function s(t,e){for(t=""+t;t.length<e;)t="0"+t;return t}const a=function(t){return r.createHash("md5").update(t,"utf-8").digest("hex")};t.exports={prepareValue:function(t){return o(t)},normalizeQueryConfig:function(t,e,n){return t="string"==typeof t?{text:t}:t,e&&("function"==typeof e?t.callback=e:t.values=e),n&&(t.callback=n),t},postgresMd5PasswordHash:function(t,e,n){var r=a(e+t);return"md5"+a(Buffer.concat([Buffer.from(r),n]))},md5:a}},function(t,e){t.exports=require("crypto")},function(t,e,n){"use strict";t.exports={host:"localhost",user:"win32"===process.platform?process.env.USERNAME:process.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var r=n(10),i=r.getTypeParser(20,"text"),o=r.getTypeParser(1016,"text");t.exports.__defineSetter__("parseInt8",(function(t){r.setTypeParser(20,"text",t?r.getTypeParser(23,"text"):i),r.setTypeParser(1016,"text",t?r.getTypeParser(1007,"text"):o)}))},function(t,e,n){"use strict";t.exports={host:"localhost",user:"win32"===process.platform?process.env.USERNAME:process.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var r=n(10),i=r.getTypeParser(20,"text"),o=r.getTypeParser(1016,"text");t.exports.__defineSetter__("parseInt8",(function(t){r.setTypeParser(20,"text",t?r.getTypeParser(23,"text"):i),r.setTypeParser(1016,"text",t?r.getTypeParser(1007,"text"):o)}))},function(t,e,n){const{assertOptions:r}=n(6),i={utils:n(0),format:n(8).as};class o{constructor(t){if("string"==typeof t)this.table=t;else{const e=r(t,["table","schema"]);this.table=e.table,i.utils.isText(e.schema)&&(this.schema=e.schema)}if(!i.utils.isText(this.table))throw new TypeError("Table name must be a non-empty text string.");this.name=i.format.name(this.table),this.schema&&(this.name=i.format.name(this.schema)+"."+this.name),Object.freeze(this)}}o.prototype[i.format.ctf.toPostgres]=function(t){return(t=this instanceof o&&this||t).name},o.prototype[i.format.ctf.rawType]=!0,o.prototype.toString=function(){return this.name},i.utils.addInspection(o,(function(){return this.toString()})),t.exports={TableName:o}},function(t,e,n){const r={stream:n(16),util:n(2)};function i(t){return" ".repeat(4*t)}t.exports={addInspection:function(t,e){r.util.inspect.custom?t.prototype[r.util.inspect.custom]=e:t.prototype.inspect=e},formatError:function(t,e){const n=["BatchError","PageError","SequenceError"];let o=r.util.inspect(t);if(t instanceof Error)if(-1===n.indexOf(t.name)){const t=i(e);o=o.split("\n").map((e,n)=>(n?t:"")+e).join("\n")}else o=t.toString(e);return o},isPromise:function(t){return t&&"function"==typeof t.then},isReadableStream:function(t){return t instanceof r.stream.Stream&&"function"==typeof t._read&&"object"==typeof t._readableState},messageGap:i,extend:function(t,e,n){Object.defineProperty(t,e,{value:n,configurable:!1,enumerable:!1,writable:!1})}}},function(t,e,n){const{pipe:r,pickAll:i,map:o,ifElse:s,isNil:a,always:u,identity:c,curry:l,reduce:p,assoc:f,prop:h,keys:d,uncurryN:m}=n(9);t.exports.pickAll=m(2,t=>r(i(t),o(s(a,u(null),c)))),t.exports.renameKeys=l((t,e)=>p((n,r)=>f(h(r,t)||r,h(r,e),n),{},d(e)))},function(t,e,n){const{connection:r,pgp:i}=n(82),{migrationStateStore:o,handleMigrationError:s}=n(177);t.exports={PGP:i,DB:r,migrationStateStore:o,handleMigrationError:s}},function(t,e){t.exports.DEFAULT_HEADERS={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0},t.exports.ERROR_CONFIG_INVALID={statusCode:400,key:"Invalid request",message:"Invalid request"},t.exports.ERROR_CONFIG_NOT_FOUND={statusCode:404,key:"NotFound",message:"Requested resource could not be found"},t.exports.ERROR_CONFIG_UNKNOWN={statusCode:500,key:"UnknownError",message:"Internal Server Error"}},function(t,e){t.exports={namedParameters:/\$(?:({)|(\()|(<)|(\[)|(\/))\s*[a-zA-Z0-9$_.]+(\^|~|#|:raw|:alias|:name|:json|:csv|:list|:value)?\s*(?:(?=\2)(?=\3)(?=\4)(?=\5)}|(?=\1)(?=\3)(?=\4)(?=\5)\)|(?=\1)(?=\2)(?=\4)(?=\5)>|(?=\1)(?=\2)(?=\3)(?=\5)]|(?=\1)(?=\2)(?=\3)(?=\4)\/)/g,multipleValues:/\$([1-9][0-9]{0,16}(?![0-9])(\^|~|#|:raw|:alias|:name|:json|:csv|:list|:value)?)/g,singleValue:/\$1(?![0-9])(\^|~|#|:raw|:alias|:name|:json|:csv|:list|:value)?/g,validColumn:/\??[a-zA-Z0-9$_]+(\^|~|#|:raw|:alias|:name|:json|:csv|:list|:value)?/,validVariable:/[a-zA-Z0-9$_]+/,hasValidModifier:/\^|~|#|:raw|:alias|:name|:json|:csv|:list|:value/,validModifiers:["^","~","#",":raw",":alias",":name",":json",":csv",":list",":value"],splitDevice:/^([a-zA-Z]:|[\\/]{2}[^\\/]+[\\/]+[^\\/]+)?([\\/])?([\s\S]*?)$/}},function(t,e,n){const{InnerState:r}=n(18),{addInspection:i}=n(0),o=n(0);class s extends r{constructor(t){super({options:t,changed:!0,currentError:void 0,target:{}}),a.call(this,t.values)}get error(){return this._inner.currentError}get text(){return this._inner.options.text}set text(t){const e=this._inner;t!==e.options.text&&(e.options.text=t,e.changed=!0)}get binary(){return this._inner.options.binary}set binary(t){const e=this._inner;t!==e.options.binary&&(e.options.binary=t,e.changed=!0)}get rowMode(){return this._inner.options.rowMode}set rowMode(t){const e=this._inner;t!==e.options.rowMode&&(e.options.rowMode=t,e.changed=!0)}get values(){return this._inner.target.values}set values(t){a.call(this,t)}}function a(t){const e=this._inner.target;Array.isArray(t)?t.length?e.values=t:delete e.values:o.isNull(t)?delete e.values:e.values=[t]}i(s,(function(){return this.toString()})),t.exports={ServerFormatting:s}},function(t,e,n){const r={os:n(4),utils:n(0),minify:n(36)};class i extends Error{constructor(t,e){const n=t instanceof r.minify.SQLParsingError;super(n?"Failed to parse the SQL.":t.message),this.name=this.constructor.name,n&&(this.error=t),this.file=e.file,this.options=e.options,Error.captureStackTrace(this,this.constructor)}}i.prototype.toString=function(t){t=t>0?parseInt(t):0;const e=r.utils.messageGap(t),n=r.utils.messageGap(t+1),i=["QueryFileError {",n+'message: "'+this.message+'"',n+"options: "+r.utils.toJson(this.options),n+'file: "'+this.file+'"'];return this.error&&i.push(n+"error: "+this.error.toString(t+1)),i.push(e+"}"),i.join(r.os.EOL)},r.utils.addInspection(i,(function(){return this.toString()})),t.exports={QueryFileError:i}},function(t,e,n){const r=n(111),i=n(46);r.SQLParsingError=i.SQLParsingError,r.parsingErrorCode=i.parsingErrorCode,t.exports=r},function(t,e){t.exports={queryResult:{one:1,many:2,none:4,any:6}}},function(t,e){t.exports=require("url")},function(t,e,n){"use strict";const r=n(25),i=n(27);var o=function(t,e){if(t instanceof Buffer)return t;if(ArrayBuffer.isView(t)){var n=Buffer.from(t.buffer,t.byteOffset,t.byteLength);return n.length===t.byteLength?n:n.slice(t.byteOffset,t.byteOffset+t.byteLength)}return t instanceof Date?i.parseInputDatesAsUTC?function(t){var e=t.getUTCFullYear(),n=e<1;n&&(e=Math.abs(e)+1);var r=s(e,4)+"-"+s(t.getUTCMonth()+1,2)+"-"+s(t.getUTCDate(),2)+"T"+s(t.getUTCHours(),2)+":"+s(t.getUTCMinutes(),2)+":"+s(t.getUTCSeconds(),2)+"."+s(t.getUTCMilliseconds(),3);r+="+00:00",n&&(r+=" BC");return r}(t):function(t){var e=-t.getTimezoneOffset(),n=t.getFullYear(),r=n<1;r&&(n=Math.abs(n)+1);var i=s(n,4)+"-"+s(t.getMonth()+1,2)+"-"+s(t.getDate(),2)+"T"+s(t.getHours(),2)+":"+s(t.getMinutes(),2)+":"+s(t.getSeconds(),2)+"."+s(t.getMilliseconds(),3);e<0?(i+="-",e*=-1):i+="+";i+=s(Math.floor(e/60),2)+":"+s(e%60,2),r&&(i+=" BC");return i}(t):Array.isArray(t)?function t(e){for(var n="{",r=0;r<e.length;r++)r>0&&(n+=","),null===e[r]||void 0===e[r]?n+="NULL":Array.isArray(e[r])?n+=t(e[r]):e[r]instanceof Buffer?n+="\\\\x"+e[r].toString("hex"):n+='"'+o(e[r]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"';return n+="}"}(t):null==t?null:"object"==typeof t?function(t,e){if(t&&"function"==typeof t.toPostgres){if(-1!==(e=e||[]).indexOf(t))throw new Error('circular reference detected while preparing "'+t+'" for query');return e.push(t),o(t.toPostgres(o),e)}return JSON.stringify(t)}(t,e):t.toString()};function s(t,e){for(t=""+t;t.length<e;)t="0"+t;return t}const a=function(t){return r.createHash("md5").update(t,"utf-8").digest("hex")};t.exports={prepareValue:function(t){return o(t)},normalizeQueryConfig:function(t,e,n){return t="string"==typeof t?{text:t}:t,e&&("function"==typeof e?t.callback=e:t.values=e),n&&(t.callback=n),t},postgresMd5PasswordHash:function(t,e,n){var r=a(e+t);return"md5"+a(Buffer.concat([Buffer.from(r),n]))},md5:a}},function(t,e,n){"use strict";var r=n(5);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var s=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))})))})),o=s.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,n){"use strict";var r=n(92);t.exports=function(t,e,n,i,o){var s=new Error(t);return r(s,e,n,i,o)}},function(t,e,n){const{buildErrorResponse:r,buildNoContentResponse:i,buildResponse:o}=n(104),{DEFAULT_HEADERS:s,ERROR_CONFIG_INVALID:a,ERROR_CONFIG_NOT_FOUND:u,ERROR_CONFIG_UNKNOWN:c}=n(32);t.exports.DEFAULT_HEADERS=s,t.exports.ok=t=>o(200,{data:t}),t.exports.created=t=>o(201,{data:t}),t.exports.updated=t=>o(200,{data:t}),t.exports.accepted=t=>o(202,{data:t}),t.exports.deleted=()=>i(),t.exports.noContent=()=>i(),t.exports.invalid=r(a),t.exports.notFound=r(u),t.exports.unknownError=r(c)},function(t,e,n){const{assertOptions:r}=n(6);t.exports={PromiseAdapter:class{constructor(t){if(!t||"object"!=typeof t)throw new TypeError("Adapter requires an api configuration object.");if(t=r(t,["create","resolve","reject","all"]),this.create=t.create,this.resolve=t.resolve,this.reject=t.reject,this.all=t.all,"function"!=typeof this.create)throw new TypeError("Function 'create' must be specified.");if("function"!=typeof this.resolve)throw new TypeError("Function 'resolve' must be specified.");if("function"!=typeof this.reject)throw new TypeError("Function 'reject' must be specified.");if("function"!=typeof this.all)throw new TypeError("Function 'all' must be specified.")}}}},function(t,e,n){const{ColorConsole:r}=n(23),i={utils:n(0)};class o{static register(t){const e=o.createContextKey(t);i.utils.addReadProp(t,"$cnKey",e,!0),e in o.dbMap?(o.dbMap[e]++,t.$config.options.noWarnings||r.warn(`WARNING: Creating a duplicate database object for the same connection.\n${i.utils.getLocalStack(4,3)}\n`)):o.dbMap[e]=1,o.dbs.push(t)}static unregister(t){const e=t.$cnKey;--o.dbMap[e]||delete o.dbMap[e]}static shutDown(){o.dbs.forEach(t=>{t.$destroy()}),o.dbs.length=0,o.dbMap={}}static createContextKey(t){let e=t.$cn;if("object"==typeof e){const t={};Object.keys(e).sort().forEach(n=>{t[n]=e[n]}),e=t}return i.utils.toJson(i.utils.getSafeConnection(e))+i.utils.toJson(t.$dc)}}o.dbMap={},o.dbs=[],t.exports={DatabasePool:o}},function(t,e,n){const{ServerFormatting:r}=n(34),{PreparedStatement:i}=n(108),{ParameterizedQuery:o}=n(117);t.exports={ServerFormatting:r,PreparedStatement:i,ParameterizedQuery:o}},function(t,e,n){const{EOL:r}=n(4),{addInspection:i,messageGap:o}=n(47),s={unclosedMLC:0,unclosedText:1,unclosedQI:2,multiLineQI:3};Object.freeze(s);const a=[{name:"unclosedMLC",message:"Unclosed multi-line comment."},{name:"unclosedText",message:"Unclosed text block."},{name:"unclosedQI",message:"Unclosed quoted identifier."},{name:"multiLineQI",message:"Multi-line quoted identifiers are not supported."}];class u extends Error{constructor(t,e){const n=a[t].message;super(`Error parsing SQL at {line:${e.line},col:${e.column}}: ${n}`),this.name=this.constructor.name,this.error=n,this.code=t,this.position=e,Error.captureStackTrace(this,this.constructor)}}u.prototype.toString=function(t){t=t>0?parseInt(t):0;const e=o(t+1);return["SQLParsingError {",`${e}code: parsingErrorCode.${a[this.code].name}`,`${e}error: "${this.error}"`,`${e}position: {line: ${this.position.line}, col: ${this.position.column}}`,o(t)+"}"].join(r)},i(u.prototype,(function(){return this.toString()})),t.exports={SQLParsingError:u,parsingErrorCode:s}},function(t,e,n){const{inspect:r}=n(2);t.exports={getIndexPos:function(t,e){let n=0,r=e,i=0;do{if(i=t.indexOf("\n",i),-1===i||e<i+1)break;n++,i++,r=e-i}while(i<e);return{line:n+1,column:r+1}},messageGap:function(t){return" ".repeat(4*t)},addInspection:function(t,e){t[r.custom]=e}}},function(t,e,n){"use strict";e.parse=function(t,e){return new r(t,e).parse()};class r{constructor(t,e){this.source=t,this.transform=e||i,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var t=this.source[this.position++];return"\\"===t?{value:this.source[this.position++],escaped:!0}:{value:t,escaped:!1}}record(t){this.recorded.push(t)}newEntry(t){var e;(this.recorded.length>0||t)&&("NULL"!==(e=this.recorded.join(""))||t||(e=null),null!==e&&(e=this.transform(e)),this.entries.push(e),this.recorded=[])}consumeDimensions(){if("["===this.source[0])for(;!this.isEof();){if("="===this.nextCharacter().value)break}}parse(t){var e,n,i;for(this.consumeDimensions();!this.isEof();)if("{"!==(e=this.nextCharacter()).value||i){if("}"!==e.value||i)'"'!==e.value||e.escaped?","!==e.value||i?this.record(e.value):this.newEntry():(i&&this.newEntry(!0),i=!i);else if(this.dimension--,!this.dimension&&(this.newEntry(),t))return this.entries}else this.dimension++,this.dimension>1&&(n=new r(this.source.substr(this.position-1),this.transform),this.entries.push(n.parse(!0)),this.position+=n.position-2);if(0!==this.dimension)throw new Error("array dimension not balanced");return this.entries}}function i(t){return t}},function(t,e,n){var r=n(48);t.exports={create:function(t,e){return{parse:function(){return r.parse(t,e)}}}}},function(t,e,n){"use strict";var r=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,i=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,o=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,s=/^-?infinity$/;function a(t){return-(t-1)}function u(t){return t>=0&&t<100}t.exports=function(t){if(s.test(t))return Number(t.replace("i","I"));var e=r.exec(t);if(!e)return function(t){var e=i.exec(t);if(!e)return;var n=parseInt(e[1],10);e[4]&&(n=a(n));var r=parseInt(e[2],10)-1,o=e[3],s=new Date(n,r,o);u(n)&&s.setFullYear(n);return s}(t)||null;var n=!!e[8],c=parseInt(e[1],10);n&&(c=a(c));var l,p=parseInt(e[2],10)-1,f=e[3],h=parseInt(e[4],10),d=parseInt(e[5],10),m=parseInt(e[6],10),y=e[7];y=y?1e3*parseFloat(y):0;var g=function(t){var e=o.exec(t.split(" ")[1]);if(!e)return;var n=e[1];if("Z"===n)return 0;var r="-"===n?-1:1;return(3600*parseInt(e[2],10)+60*parseInt(e[3]||0,10)+parseInt(e[4]||0,10))*r*1e3}(t);return null!=g?(l=new Date(Date.UTC(c,p,f,h,d,m,y)),u(c)&&l.setUTCFullYear(c),l.setTime(l.getTime()-g)):(l=new Date(c,p,f,h,d,m,y),u(c)&&l.setFullYear(c)),l}},function(t,e,n){"use strict";var r=n(114);function i(t){if(!(this instanceof i))return new i(t);r(this,function(t){if(!t)return{};var e=c.exec(t),n="-"===e[8];return Object.keys(l).reduce((function(t,r){var i,o,s=e[l[r]];return s&&(s="milliseconds"===r?(o=(i=s)+"000000".slice(i.length),parseInt(o,10)/1e3):parseInt(s,10))?(n&&~p.indexOf(r)&&(s*=-1),t[r]=s,t):t}),{})}(t))}t.exports=i;var o=["seconds","minutes","hours","days","months","years"];i.prototype.toPostgres=function(){var t=o.filter(this.hasOwnProperty,this);return this.milliseconds&&t.indexOf("seconds")<0&&t.push("seconds"),0===t.length?"0":t.map((function(t){var e=this[t]||0;return"seconds"===t&&this.milliseconds&&(e=(e+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),e+" "+t}),this).join(" ")};var s={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},a=["years","months","days"],u=["hours","minutes","seconds"];i.prototype.toISOString=i.prototype.toISO=function(){return"P"+a.map(t,this).join("")+"T"+u.map(t,this).join("");function t(t){var e=this[t]||0;return"seconds"===t&&this.milliseconds&&(e=(e+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),e+s[t]}};var c=new RegExp(["([+-]?\\d+)\\s+years?","([+-]?\\d+)\\s+mons?","([+-]?\\d+)\\s+days?","([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?"].map((function(t){return"("+t+")?"})).join("\\s*")),l={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},p=["hours","minutes","seconds","milliseconds"]},function(t,e,n){"use strict";t.exports=function(t){if(/^\\x/.test(t))return new Buffer(t.substr(2),"hex");for(var e="",n=0;n<t.length;)if("\\"!==t[n])e+=t[n],++n;else if(/[0-7]{3}/.test(t.substr(n+1,3)))e+=String.fromCharCode(parseInt(t.substr(n+1,3),8)),n+=4;else{for(var r=1;n+r<t.length&&"\\"===t[n+r];)r++;for(var i=0;i<Math.floor(r/2);++i)e+="\\";n+=2*Math.floor(r/2)}return new Buffer(e,"binary")}},function(t,e,n){"use strict";var r=1e6;t.exports=function(t){var e=t.readInt32BE(0),n=t.readUInt32BE(4),i="";e<0&&(e=~e+(0===n),n=1+~n>>>0,i="-");var o,s,a,u,c,l,p="";if(o=e%r,e=e/r>>>0,a=""+((s=4294967296*o+n)-r*(n=s/r>>>0)),0===n&&0===e)return i+a+p;for(u="",c=6-a.length,l=0;l<c;l++)u+="0";if(p=u+a+p,o=e%r,e=e/r>>>0,a=""+((s=4294967296*o+n)-r*(n=s/r>>>0)),0===n&&0===e)return i+a+p;for(u="",c=6-a.length,l=0;l<c;l++)u+="0";if(p=u+a+p,o=e%r,e=e/r>>>0,a=""+((s=4294967296*o+n)-r*(n=s/r>>>0)),0===n&&0===e)return i+a+p;for(u="",c=6-a.length,l=0;l<c;l++)u+="0";return p=u+a+p,i+(a=""+(s=4294967296*(o=e%r)+n)%r)+p}},function(t,e,n){"use strict";n(3);var r=n(15),i=n(122);t.exports=function(t,e){var n=i.getFileName();r.stat(n,(function(o,s){if(o||!i.usePgPass(s,n))return e(void 0);var a=r.createReadStream(n);i.getPassword(t,a,e)}))},t.exports.warnTo=i.warnTo},function(t,e,n){"use strict";var r=n(10);function i(t){this._types=t||r,this.text={},this.binary={}}i.prototype.getOverrides=function(t){switch(t){case"text":return this.text;case"binary":return this.binary;default:return{}}},i.prototype.setTypeParser=function(t,e,n){"function"==typeof e&&(n=e,e="text"),this.getOverrides(e)[t]=n},i.prototype.getTypeParser=function(t,e){return e=e||"text",this.getOverrides(e)[t]||this._types.getTypeParser(t,e)},t.exports=i},function(t,e,n){"use strict";var r=n(57),i=n(26),o=n(58).parse,s=function(t,e,n){return void 0===n?n=process.env["PG"+t.toUpperCase()]:!1===n||(n=process.env[n]),e[t]||n||i[t]},a=function(t){(t="string"==typeof t?o(t):t||{}).connectionString&&(t=Object.assign({},t,o(t.connectionString))),this.user=s("user",t),this.database=s("database",t),void 0===this.database&&(this.database=this.user),this.port=parseInt(s("port",t),10),this.host=s("host",t),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:s("password",t)}),this.binary=s("binary",t),this.ssl=void 0===t.ssl?function(){switch(process.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return i.ssl}():t.ssl,"no-verify"===this.ssl&&(this.ssl={rejectUnauthorized:!1}),this.client_encoding=s("client_encoding",t),this.replication=s("replication",t),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=s("application_name",t,"PGAPPNAME"),this.fallback_application_name=s("fallback_application_name",t,!1),this.statement_timeout=s("statement_timeout",t,!1),this.idle_in_transaction_session_timeout=s("idle_in_transaction_session_timeout",t,!1),this.query_timeout=s("query_timeout",t,!1),void 0===t.connectionTimeoutMillis?this.connect_timeout=process.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(t.connectionTimeoutMillis/1e3),!1===t.keepAlive?this.keepalives=0:!0===t.keepAlive&&(this.keepalives=1),"number"==typeof t.keepAliveInitialDelayMillis&&(this.keepalives_idle=Math.floor(t.keepAliveInitialDelayMillis/1e3))},u=function(t){return"'"+(""+t).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},c=function(t,e,n){var r=e[n];null!=r&&t.push(n+"="+u(r))};a.prototype.getLibpqConnectionString=function(t){var e=[];c(e,this,"user"),c(e,this,"password"),c(e,this,"port"),c(e,this,"application_name"),c(e,this,"fallback_application_name"),c(e,this,"connect_timeout");var n="object"==typeof this.ssl?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(c(e,n,"sslmode"),c(e,n,"sslca"),c(e,n,"sslkey"),c(e,n,"sslcert"),c(e,n,"sslrootcert"),this.database&&e.push("dbname="+u(this.database)),this.replication&&e.push("replication="+u(this.replication)),this.host&&e.push("host="+u(this.host)),this.isDomainSocket)return t(null,e.join(" "));this.client_encoding&&e.push("client_encoding="+u(this.client_encoding)),r.lookup(this.host,(function(n,r){return n?t(n,null):(e.push("hostaddr="+u(r)),t(null,e.join(" ")))}))},t.exports=a},function(t,e){t.exports=require("dns")},function(t,e,n){"use strict";var r=n(38),i=n(15);function o(t){if("/"===t.charAt(0))return{host:(n=t.split(" "))[0],database:n[1]};var e=r.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(t)?encodeURI(t).replace(/\%25(\d\d)/g,"%$1"):t,!0),n=e.query;for(var o in n)Array.isArray(n[o])&&(n[o]=n[o][n[o].length-1]);var s=(e.auth||":").split(":");if(n.user=s[0],n.password=s.splice(1).join(":"),n.port=e.port,"socket:"==e.protocol)return n.host=decodeURI(e.pathname),n.database=e.query.db,n.client_encoding=e.query.encoding,n;n.host||(n.host=e.hostname);var a=e.pathname;if(!n.host&&a&&/^%2f/i.test(a)){var u=a.split("/");n.host=decodeURIComponent(u[0]),a=u.splice(1).join("/")}return a&&"/"===a.charAt(0)&&(a=a.slice(1)||null),n.database=a&&decodeURI(a),"true"!==n.ssl&&"1"!==n.ssl||(n.ssl=!0),"0"===n.ssl&&(n.ssl=!1),(n.sslcert||n.sslkey||n.sslrootcert)&&(n.ssl={}),n.sslcert&&(n.ssl.cert=i.readFileSync(n.sslcert).toString()),n.sslkey&&(n.ssl.key=i.readFileSync(n.sslkey).toString()),n.sslrootcert&&(n.ssl.ca=i.readFileSync(n.sslrootcert).toString()),n}t.exports=o,o.parse=o},function(t,e,n){"use strict";var r=n(60),i=n(7).EventEmitter,o=n(2);const{parse:s,serialize:a}=n(61);var u=function(t){i.call(this),t=t||{},this.stream=t.stream||new r.Socket,this._keepAlive=t.keepAlive,this._keepAliveInitialDelayMillis=t.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=t.ssl||!1,this._ending=!1,this._emitMessage=!1;var e=this;this.on("newListener",(function(t){"message"===t&&(e._emitMessage=!0)}))};o.inherits(u,i),u.prototype.connect=function(t,e){var i=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(t,e),this.stream.once("connect",(function(){i._keepAlive&&i.stream.setKeepAlive(!0,i._keepAliveInitialDelayMillis),i.emit("connect")}));const o=function(t){(!i._ending||"ECONNRESET"!==t.code&&"EPIPE"!==t.code)&&i.emit("error",t)};if(this.stream.on("error",o),this.stream.on("close",(function(){i.emit("end")})),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",(function(t){switch(t.toString("utf8")){case"S":break;case"N":return i.stream.end(),i.emit("error",new Error("The server does not support SSL connections"));default:return i.stream.end(),i.emit("error",new Error("There was an error establishing an SSL connection"))}var s=n(62);const a=Object.assign({socket:i.stream},i.ssl);0===r.isIP(e)&&(a.servername=e),i.stream=s.connect(a),i.attachListeners(i.stream),i.stream.on("error",o),i.emit("sslconnect")}))},u.prototype.attachListeners=function(t){t.on("end",()=>{this.emit("end")}),s(t,t=>{var e="error"===t.name?"errorMessage":t.name;this._emitMessage&&this.emit("message",t),this.emit(e,t)})},u.prototype.requestSsl=function(){this.stream.write(a.requestSsl())},u.prototype.startup=function(t){this.stream.write(a.startup(t))},u.prototype.cancel=function(t,e){this._send(a.cancel(t,e))},u.prototype.password=function(t){this._send(a.password(t))},u.prototype.sendSASLInitialResponseMessage=function(t,e){this._send(a.sendSASLInitialResponseMessage(t,e))},u.prototype.sendSCRAMClientFinalMessage=function(t){this._send(a.sendSCRAMClientFinalMessage(t))},u.prototype._send=function(t){return!!this.stream.writable&&this.stream.write(t)},u.prototype.query=function(t){this._send(a.query(t))},u.prototype.parse=function(t){this._send(a.parse(t))},u.prototype.bind=function(t){this._send(a.bind(t))},u.prototype.execute=function(t){this._send(a.execute(t))};const c=a.flush();u.prototype.flush=function(){this.stream.writable&&this.stream.write(c)};const l=a.sync();u.prototype.sync=function(){this._ending=!0,this._send(c),this._send(l)};const p=a.end();u.prototype.end=function(){if(this._ending=!0,this._connecting&&this.stream.writable)return this.stream.write(p,()=>{this.stream.end()});this.stream.end()},u.prototype.close=function(t){this._send(a.close(t))},u.prototype.describe=function(t){this._send(a.describe(t))},u.prototype.sendCopyFromChunk=function(t){this._send(a.copyData(t))},u.prototype.endCopyFrom=function(){this._send(a.copyDone())},u.prototype.sendCopyFail=function(t){this._send(a.copyFail(t))},t.exports=u},function(t,e){t.exports=require("net")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(128);e.serialize=r.serialize;const i=n(130);e.parse=function(t,e){const n=new i.Parser;return t.on("data",t=>n.parse(t,e)),new Promise(e=>t.on("end",()=>e()))}},function(t,e){t.exports=require("tls")},function(t,e,n){"use strict";const r=n(7).EventEmitter,i=function(){},o=(t,e)=>{const n=t.findIndex(e);return-1===n?void 0:t.splice(n,1)[0]};class s{constructor(t,e,n){this.client=t,this.idleListener=e,this.timeoutId=n}}class a{constructor(t){this.callback=t}}function u(t,e){if(e)return{callback:e,result:void 0};let n,r;return{callback:function(t,e){t?n(t):r(e)},result:new t((function(t,e){r=t,n=e}))}}t.exports=class extends r{constructor(t,e){super(),this.options=Object.assign({},t),null!=t&&"password"in t&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),this.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=this.options.maxUses||1/0,this.log=this.options.log||function(){},this.Client=this.options.Client||e||n(133).Client,this.Promise=this.options.Promise||global.Promise,void 0===this.options.idleTimeoutMillis&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_pulseQueue(){if(this.log("pulse queue"),this.ended)return void this.log("pulse queue ended");if(this.ending)return this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(t=>{this._remove(t.client)}),void(this._clients.length||(this.ended=!0,this._endCallback()));if(!this._pendingQueue.length)return void this.log("no queued requests");if(!this._idle.length&&this._isFull())return;const t=this._pendingQueue.shift();if(this._idle.length){const e=this._idle.pop();clearTimeout(e.timeoutId);const n=e.client,r=e.idleListener;return this._acquireClient(n,t,r,!1)}if(!this._isFull())return this.newClient(t);throw new Error("unexpected condition")}_remove(t){const e=o(this._idle,e=>e.client===t);void 0!==e&&clearTimeout(e.timeoutId),this._clients=this._clients.filter(e=>e!==t),t.end(),this.emit("remove",t)}connect(t){if(this.ending){const e=new Error("Cannot use a pool after calling end on the pool");return t?t(e):this.Promise.reject(e)}const e=u(this.Promise,t),n=e.result;if(this._clients.length>=this.options.max||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new a(e.callback)),n;const t=(t,n,r)=>{clearTimeout(i),e.callback(t,n,r)},r=new a(t),i=setTimeout(()=>{o(this._pendingQueue,e=>e.callback===t),r.timedOut=!0,e.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return this._pendingQueue.push(r),n}return this.newClient(new a(e.callback)),n}newClient(t){const e=new this.Client(this.options);this._clients.push(e);const n=function(t,e){return function n(r){r.client=e,e.removeListener("error",n),e.on("error",()=>{t.log("additional client error after disconnection due to error",r)}),t._remove(e),t.emit("error",r,e)}}(this,e);let r;this.log("checking client timeout");let o=!1;this.options.connectionTimeoutMillis&&(r=setTimeout(()=>{this.log("ending client due to timeout"),o=!0,e.connection?e.connection.stream.destroy():e.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),e.connect(s=>{if(r&&clearTimeout(r),e.on("error",n),!s)return this.log("new client connected"),this._acquireClient(e,t,n,!0);this.log("client failed to connect",s),this._clients=this._clients.filter(t=>t!==e),o&&(s.message="Connection terminated due to connection timeout"),this._pulseQueue(),t.timedOut||t.callback(s,void 0,i)})}_acquireClient(t,e,n,r){r&&this.emit("connect",t),this.emit("acquire",t),t.release=this._releaseOnce(t,n),t.removeListener("error",n),e.timedOut?r&&this.options.verify?this.options.verify(t,t.release):t.release():r&&this.options.verify?this.options.verify(t,n=>{if(n)return t.release(n),e.callback(n,void 0,i);e.callback(void 0,t,t.release)}):e.callback(void 0,t,t.release)}_releaseOnce(t,e){let n=!1;return r=>{n&&function(){throw new Error("Release called on client which has already been released to the pool.")}(),n=!0,this._release(t,e,r)}}_release(t,e,n){if(t.on("error",e),t._poolUseCount=(t._poolUseCount||0)+1,n||this.ending||!t._queryable||t._ending||t._poolUseCount>=this.options.maxUses)return t._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(t),void this._pulseQueue();let r;this.options.idleTimeoutMillis&&(r=setTimeout(()=>{this.log("remove idle client"),this._remove(t)},this.options.idleTimeoutMillis)),this._idle.push(new s(t,e,r)),this._pulseQueue()}query(t,e,n){if("function"==typeof t){const e=u(this.Promise,t);return setImmediate((function(){return e.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))})),e.result}"function"==typeof e&&(n=e,e=void 0);const r=u(this.Promise,n);return n=r.callback,this.connect((r,i)=>{if(r)return n(r);let o=!1;const s=t=>{o||(o=!0,i.release(t),n(t))};i.once("error",s),this.log("dispatching query"),i.query(t,e,(t,e)=>{if(this.log("query dispatched"),i.removeListener("error",s),!o)return o=!0,i.release(t),t?n(t):n(void 0,e)})}),r.result}end(t){if(this.log("ending"),this.ending){const e=new Error("Called end on pool more than once");return t?t(e):this.Promise.reject(e)}this.ending=!0;const e=u(this.Promise,t);return this._endCallback=e.callback,this._pulseQueue(),e.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get totalCount(){return this._clients.length}}},function(t,e,n){"use strict";var r=n(10);function i(t){this._types=t||r,this.text={},this.binary={}}i.prototype.getOverrides=function(t){switch(t){case"text":return this.text;case"binary":return this.binary;default:return{}}},i.prototype.setTypeParser=function(t,e,n){"function"==typeof e&&(n=e,e="text"),this.getOverrides(e)[t]=n},i.prototype.getTypeParser=function(t,e){return e=e||"text",this.getOverrides(e)[t]||this._types.getTypeParser(t,e)},t.exports=i},function(t,e,n){"use strict";var r=n(57),i=n(27),o=n(58).parse,s=function(t,e,n){return void 0===n?n=process.env["PG"+t.toUpperCase()]:!1===n||(n=process.env[n]),e[t]||n||i[t]},a=function(t){(t="string"==typeof t?o(t):t||{}).connectionString&&(t=Object.assign({},t,o(t.connectionString))),this.user=s("user",t),this.database=s("database",t),void 0===this.database&&(this.database=this.user),this.port=parseInt(s("port",t),10),this.host=s("host",t),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:s("password",t)}),this.binary=s("binary",t),this.options=s("options",t),this.ssl=void 0===t.ssl?function(){switch(process.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return i.ssl}():t.ssl,"no-verify"===this.ssl&&(this.ssl={rejectUnauthorized:!1}),this.client_encoding=s("client_encoding",t),this.replication=s("replication",t),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=s("application_name",t,"PGAPPNAME"),this.fallback_application_name=s("fallback_application_name",t,!1),this.statement_timeout=s("statement_timeout",t,!1),this.idle_in_transaction_session_timeout=s("idle_in_transaction_session_timeout",t,!1),this.query_timeout=s("query_timeout",t,!1),void 0===t.connectionTimeoutMillis?this.connect_timeout=process.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(t.connectionTimeoutMillis/1e3),!1===t.keepAlive?this.keepalives=0:!0===t.keepAlive&&(this.keepalives=1),"number"==typeof t.keepAliveInitialDelayMillis&&(this.keepalives_idle=Math.floor(t.keepAliveInitialDelayMillis/1e3))},u=function(t){return"'"+(""+t).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},c=function(t,e,n){var r=e[n];null!=r&&t.push(n+"="+u(r))};a.prototype.getLibpqConnectionString=function(t){var e=[];c(e,this,"user"),c(e,this,"password"),c(e,this,"port"),c(e,this,"application_name"),c(e,this,"fallback_application_name"),c(e,this,"connect_timeout"),c(e,this,"options");var n="object"==typeof this.ssl?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(c(e,n,"sslmode"),c(e,n,"sslca"),c(e,n,"sslkey"),c(e,n,"sslcert"),c(e,n,"sslrootcert"),this.database&&e.push("dbname="+u(this.database)),this.replication&&e.push("replication="+u(this.replication)),this.host&&e.push("host="+u(this.host)),this.isDomainSocket)return t(null,e.join(" "));this.client_encoding&&e.push("client_encoding="+u(this.client_encoding)),r.lookup(this.host,(function(n,r){return n?t(n,null):(e.push("hostaddr="+u(r)),t(null,e.join(" ")))}))},t.exports=a},function(t,e,n){"use strict";var r=n(60),i=n(7).EventEmitter,o=n(2);const{parse:s,serialize:a}=n(61);var u=function(t){i.call(this),t=t||{},this.stream=t.stream||new r.Socket,this._keepAlive=t.keepAlive,this._keepAliveInitialDelayMillis=t.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=t.ssl||!1,this._ending=!1,this._emitMessage=!1;var e=this;this.on("newListener",(function(t){"message"===t&&(e._emitMessage=!0)}))};o.inherits(u,i),u.prototype.connect=function(t,e){var i=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(t,e),this.stream.once("connect",(function(){i._keepAlive&&i.stream.setKeepAlive(!0,i._keepAliveInitialDelayMillis),i.emit("connect")}));const o=function(t){(!i._ending||"ECONNRESET"!==t.code&&"EPIPE"!==t.code)&&i.emit("error",t)};if(this.stream.on("error",o),this.stream.on("close",(function(){i.emit("end")})),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",(function(t){switch(t.toString("utf8")){case"S":break;case"N":return i.stream.end(),i.emit("error",new Error("The server does not support SSL connections"));default:return i.stream.end(),i.emit("error",new Error("There was an error establishing an SSL connection"))}var s=n(62);const a=Object.assign({socket:i.stream},i.ssl);0===r.isIP(e)&&(a.servername=e),i.stream=s.connect(a),i.attachListeners(i.stream),i.stream.on("error",o),i.emit("sslconnect")}))},u.prototype.attachListeners=function(t){t.on("end",()=>{this.emit("end")}),s(t,t=>{var e="error"===t.name?"errorMessage":t.name;this._emitMessage&&this.emit("message",t),this.emit(e,t)})},u.prototype.requestSsl=function(){this.stream.write(a.requestSsl())},u.prototype.startup=function(t){this.stream.write(a.startup(t))},u.prototype.cancel=function(t,e){this._send(a.cancel(t,e))},u.prototype.password=function(t){this._send(a.password(t))},u.prototype.sendSASLInitialResponseMessage=function(t,e){this._send(a.sendSASLInitialResponseMessage(t,e))},u.prototype.sendSCRAMClientFinalMessage=function(t){this._send(a.sendSCRAMClientFinalMessage(t))},u.prototype._send=function(t){return!!this.stream.writable&&this.stream.write(t)},u.prototype.query=function(t){this._send(a.query(t))},u.prototype.parse=function(t){this._send(a.parse(t))},u.prototype.bind=function(t){this._send(a.bind(t))},u.prototype.execute=function(t){this._send(a.execute(t))};const c=a.flush();u.prototype.flush=function(){this.stream.writable&&this.stream.write(c)};const l=a.sync();u.prototype.sync=function(){this._ending=!0,this._send(c),this._send(l)};const p=a.end();u.prototype.end=function(){if(this._ending=!0,this._connecting&&this.stream.writable)return this.stream.write(p,()=>{this.stream.end()});this.stream.end()},u.prototype.close=function(t){this._send(a.close(t))},u.prototype.describe=function(t){this._send(a.describe(t))},u.prototype.sendCopyFromChunk=function(t){this._send(a.copyData(t))},u.prototype.endCopyFrom=function(){this._send(a.copyDone())},u.prototype.sendCopyFail=function(t){this._send(a.copyFail(t))},t.exports=u},function(t,e,n){"use strict";t.exports=n(138)},function(t,e,n){var r=n(139),i=n(7).EventEmitter,o=n(2),s=n(17),a=n(143),u=n(146),c=n(147),l=t.exports=function(t){if(!(this instanceof l))return new l(t);t=t||{},i.call(this),this.pq=new r,this._reading=!1,this._read=this._read.bind(this),this._types=t.types||a,this.arrayMode=t.arrayMode||!1,this._resultCount=0,this._rows=void 0,this._results=void 0,this.on("newListener",t=>{"notification"===t&&this._startReading()}),this.on("result",this._onResult.bind(this)),this.on("readyForQuery",this._onReadyForQuery.bind(this))};o.inherits(l,i),l.prototype.connect=function(t,e){this.pq.connect(t,e)},l.prototype.connectSync=function(t){this.pq.connectSync(t)},l.prototype.query=function(t,e,n){var r;"function"==typeof e?(n=e,r=function(){return i.pq.sendQuery(t)}):r=function(){return i.pq.sendQueryParams(t,e)};var i=this;i._dispatchQuery(i.pq,r,(function(t){if(t)return n(t);i._awaitResult(n)}))},l.prototype.prepare=function(t,e,n,r){var i=this;i._dispatchQuery(i.pq,(function(){return i.pq.sendPrepare(t,e,n)}),(function(t){if(t)return r(t);i._awaitResult(r)}))},l.prototype.execute=function(t,e,n){var r=this;r._dispatchQuery(r.pq,(function(){return r.pq.sendQueryPrepared(t,e)}),(function(t,e){if(t)return n(t);r._awaitResult(n)}))},l.prototype.getCopyStream=function(){return this.pq.setNonBlocking(!0),this._stopReading(),new c(this.pq)},l.prototype.cancel=function(t){s(t,"Callback is required");var e=this.pq.cancel();return setImmediate((function(){t(!0===e?void 0:new Error(e))}))},l.prototype.querySync=function(t,e){e?this.pq.execParams(t,e):this.pq.exec(t),p(this.pq);return u(this.pq,this._types,this.arrayMode).rows},l.prototype.prepareSync=function(t,e,n){this.pq.prepare(t,e,n),p(this.pq)},l.prototype.executeSync=function(t,e){return this.pq.execPrepared(t,e),p(this.pq),u(this.pq,this._types,this.arrayMode).rows},l.prototype.escapeLiteral=function(t){return this.pq.escapeLiteral(t)},l.prototype.escapeIdentifier=function(t){return this.pq.escapeIdentifier(t)},t.exports.version=n(148).version,l.prototype.end=function(t){this._stopReading(),this.pq.finish(),t&&setImmediate(t)},l.prototype._readError=function(t){var e=new Error(t||this.pq.errorMessage());this.emit("error",e)},l.prototype._stopReading=function(){this._reading&&(this._reading=!1,this.pq.stopReader(),this.pq.removeListener("readable",this._read))},l.prototype._consumeQueryResults=function(t){return u(t,this._types,this.arrayMode)},l.prototype._emitResult=function(t){var e=t.resultStatus();switch(e){case"PGRES_FATAL_ERROR":this._queryError=new Error(this.pq.resultErrorMessage());break;case"PGRES_TUPLES_OK":case"PGRES_COMMAND_OK":case"PGRES_EMPTY_QUERY":const t=this._consumeQueryResults(this.pq);this.emit("result",t);break;case"PGRES_COPY_OUT":case"PGRES_COPY_BOTH":break;default:this._readError("unrecognized command status: "+e)}return e},l.prototype._read=function(){var t=this.pq;if(!t.consumeInput())return this._readError();if(!t.isBusy()){for(;t.getResult();){const e=this._emitResult(this.pq);if("PGRES_COPY_BOTH"===e||"PGRES_COPY_OUT"===e)break;if(t.isBusy())return}this.emit("readyForQuery");for(var e=this.pq.notifies();e;)this.emit("notification",e),e=this.pq.notifies()}},l.prototype._startReading=function(){this._reading||(this._reading=!0,this.pq.on("readable",this._read),this.pq.startReader())};var p=function(t){var e=t.resultErrorMessage()||t.errorMessage();if(e)throw new Error(e)};l.prototype._awaitResult=function(t){return this._queryCallback=t,this._startReading()},l.prototype._waitForDrain=function(t,e){var n=t.flush();if(0===n)return e();if(-1===n)return e(t.errorMessage());var r=this;return t.writable((function(){r._waitForDrain(t,e)}))},l.prototype._dispatchQuery=function(t,e,n){return this._stopReading(),t.setNonBlocking(!0)?e()?void this._waitForDrain(t,n):n(new Error(t.errorMessage()||"Something went wrong dispatching the query")):n(new Error("Unable to set non-blocking to true"))},l.prototype._onResult=function(t){0===this._resultCount?(this._results=t,this._rows=t.rows):1===this._resultCount?(this._results=[this._results,t],this._rows=[this._rows,t.rows]):(this._results.push(t),this._rows.push(t.rows)),this._resultCount++},l.prototype._onReadyForQuery=function(){const t=this._queryCallback;this._queryCallback=void 0;const e=this._queryError;this._queryError=void 0;const n=this._rows;this._rows=void 0;const r=this._results;this._results=void 0,this._resultCount=0,t&&t(e,n||[],r)}},function(t,e,n){"use strict";function r(t,e){this.source=t,this.transform=e||i,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}function i(t){return t}e.parse=function(t,e){return new r(t,e).parse()},r.prototype.isEof=function(){return this.position>=this.source.length},r.prototype.nextCharacter=function(){var t=this.source[this.position++];return"\\"===t?{value:this.source[this.position++],escaped:!0}:{value:t,escaped:!1}},r.prototype.record=function(t){this.recorded.push(t)},r.prototype.newEntry=function(t){var e;(this.recorded.length>0||t)&&("NULL"!==(e=this.recorded.join(""))||t||(e=null),null!==e&&(e=this.transform(e)),this.entries.push(e),this.recorded=[])},r.prototype.parse=function(t){for(var e,n,i;!this.isEof();)if("{"!==(e=this.nextCharacter()).value||i){if("}"!==e.value||i)'"'!==e.value||e.escaped?","!==e.value||i?this.record(e.value):this.newEntry():(i&&this.newEntry(!0),i=!i);else if(this.dimension--,!this.dimension&&(this.newEntry(),t))return this.entries}else this.dimension++,this.dimension>1&&(n=new r(this.source.substr(this.position-1),this.transform),this.entries.push(n.parse(!0)),this.position+=n.position-2);if(0!==this.dimension)throw new Error("array dimension not balanced");return this.entries}},function(t,e,n){var r=n(69);t.exports={create:function(t,e){return{parse:function(){return r.parse(t,e)}}}}},function(t,e,n){var r,i,o;t.exports===e&&(e=t.exports=W),o="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var s=Number.MAX_SAFE_INTEGER||9007199254740991,a=e.re=[],u=e.src=[],c=0,l=c++;u[l]="0|[1-9]\\d*";var p=c++;u[p]="[0-9]+";var f=c++;u[f]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var h=c++;u[h]="("+u[l]+")\\.("+u[l]+")\\.("+u[l]+")";var d=c++;u[d]="("+u[p]+")\\.("+u[p]+")\\.("+u[p]+")";var m=c++;u[m]="(?:"+u[l]+"|"+u[f]+")";var y=c++;u[y]="(?:"+u[p]+"|"+u[f]+")";var g=c++;u[g]="(?:-("+u[m]+"(?:\\."+u[m]+")*))";var v=c++;u[v]="(?:-?("+u[y]+"(?:\\."+u[y]+")*))";var _=c++;u[_]="[0-9A-Za-z-]+";var b=c++;u[b]="(?:\\+("+u[_]+"(?:\\."+u[_]+")*))";var w=c++,E="v?"+u[h]+u[g]+"?"+u[b]+"?";u[w]="^"+E+"$";var x="[v=\\s]*"+u[d]+u[v]+"?"+u[b]+"?",C=c++;u[C]="^"+x+"$";var S=c++;u[S]="((?:<|>)?=?)";var T=c++;u[T]=u[p]+"|x|X|\\*";var k=c++;u[k]=u[l]+"|x|X|\\*";var P=c++;u[P]="[v=\\s]*("+u[k]+")(?:\\.("+u[k]+")(?:\\.("+u[k]+")(?:"+u[g]+")?"+u[b]+"?)?)?";var R=c++;u[R]="[v=\\s]*("+u[T]+")(?:\\.("+u[T]+")(?:\\.("+u[T]+")(?:"+u[v]+")?"+u[b]+"?)?)?";var A=c++;u[A]="^"+u[S]+"\\s*"+u[P]+"$";var j=c++;u[j]="^"+u[S]+"\\s*"+u[R]+"$";var O=c++;u[O]="(?:~>?)";var F=c++;u[F]="(\\s*)"+u[O]+"\\s+",a[F]=new RegExp(u[F],"g");var N=c++;u[N]="^"+u[O]+u[P]+"$";var I=c++;u[I]="^"+u[O]+u[R]+"$";var q=c++;u[q]="(?:\\^)";var M=c++;u[M]="(\\s*)"+u[q]+"\\s+",a[M]=new RegExp(u[M],"g");var L=c++;u[L]="^"+u[q]+u[P]+"$";var D=c++;u[D]="^"+u[q]+u[R]+"$";var Q=c++;u[Q]="^"+u[S]+"\\s*("+x+")$|^$";var B=c++;u[B]="^"+u[S]+"\\s*("+E+")$|^$";var U=c++;u[U]="(\\s*)"+u[S]+"\\s*("+x+"|"+u[P]+")",a[U]=new RegExp(u[U],"g");var $=c++;u[$]="^\\s*("+u[P]+")\\s+-\\s+("+u[P]+")\\s*$";var G=c++;u[G]="^\\s*("+u[R]+")\\s+-\\s+("+u[R]+")\\s*$";var V=c++;u[V]="(<|>)?=?\\s*\\*";for(var z=0;z<34;z++)o(z,u[z]),a[z]||(a[z]=new RegExp(u[z]));function H(t,e){if(t.length>256)return null;if(!(e?a[C]:a[w]).test(t))return null;try{return new W(t,e)}catch(t){return null}}function W(t,e){if(t instanceof W){if(t.loose===e)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof W))return new W(t,e);o("SemVer",t,e),this.loose=e;var n=t.trim().match(e?a[C]:a[w]);if(!n)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((function(t){return/^[0-9]+$/.test(t)?+t:t})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}e.parse=H,e.valid=function(t,e){var n=H(t,e);return n?n.version:null},e.clean=function(t,e){var n=H(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null},e.SemVer=W,W.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},W.prototype.inspect=function(){return'<SemVer "'+this+'">'},W.prototype.toString=function(){return this.version},W.prototype.compare=function(t){return o("SemVer.compare",this.version,this.loose,t),t instanceof W||(t=new W(t,this.loose)),this.compareMain(t)||this.comparePre(t)},W.prototype.compareMain=function(t){return t instanceof W||(t=new W(t,this.loose)),Y(this.major,t.major)||Y(this.minor,t.minor)||Y(this.patch,t.patch)},W.prototype.comparePre=function(t){if(t instanceof W||(t=new W(t,this.loose)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var n=this.prerelease[e],r=t.prerelease[e];if(o("prerelease compare",e,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return Y(n,r)}while(++e)},W.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this},e.inc=function(t,e,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new W(t,n).inc(e,r).version}catch(t){return null}},e.diff=function(t,e){if(et(t,e))return null;var n=H(t),r=H(e);if(n.prerelease.length||r.prerelease.length){for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return"pre"+i;return"prerelease"}for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return i},e.compareIdentifiers=Y;var J=/^[0-9]+$/;function Y(t,e){var n=J.test(t),r=J.test(e);return n&&r&&(t=+t,e=+e),n&&!r?-1:r&&!n?1:t<e?-1:t>e?1:0}function K(t,e,n){return new W(t,n).compare(e)}function X(t,e,n){return K(e,t,n)}function Z(t,e,n){return K(t,e,n)>0}function tt(t,e,n){return K(t,e,n)<0}function et(t,e,n){return 0===K(t,e,n)}function nt(t,e,n){return 0!==K(t,e,n)}function rt(t,e,n){return K(t,e,n)>=0}function it(t,e,n){return K(t,e,n)<=0}function ot(t,e,n,r){var i;switch(e){case"===":"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),i=t===n;break;case"!==":"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),i=t!==n;break;case"":case"=":case"==":i=et(t,n,r);break;case"!=":i=nt(t,n,r);break;case">":i=Z(t,n,r);break;case">=":i=rt(t,n,r);break;case"<":i=tt(t,n,r);break;case"<=":i=it(t,n,r);break;default:throw new TypeError("Invalid operator: "+e)}return i}function st(t,e){if(t instanceof st){if(t.loose===e)return t;t=t.value}if(!(this instanceof st))return new st(t,e);o("comparator",t,e),this.loose=e,this.parse(t),this.semver===at?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}e.rcompareIdentifiers=function(t,e){return Y(e,t)},e.major=function(t,e){return new W(t,e).major},e.minor=function(t,e){return new W(t,e).minor},e.patch=function(t,e){return new W(t,e).patch},e.compare=K,e.compareLoose=function(t,e){return K(t,e,!0)},e.rcompare=X,e.sort=function(t,n){return t.sort((function(t,r){return e.compare(t,r,n)}))},e.rsort=function(t,n){return t.sort((function(t,r){return e.rcompare(t,r,n)}))},e.gt=Z,e.lt=tt,e.eq=et,e.neq=nt,e.gte=rt,e.lte=it,e.cmp=ot,e.Comparator=st;var at={};function ut(t,e){if(t instanceof ut&&t.loose===e)return t;if(!(this instanceof ut))return new ut(t,e);if(this.loose=e,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((function(t){return this.parseRange(t.trim())}),this).filter((function(t){return t.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}function ct(t){return!t||"x"===t.toLowerCase()||"*"===t}function lt(t,e,n,r,i,o,s,a,u,c,l,p,f){return((e=ct(n)?"":ct(r)?">="+n+".0.0":ct(i)?">="+n+"."+r+".0":">="+e)+" "+(a=ct(u)?"":ct(c)?"<"+(+u+1)+".0.0":ct(l)?"<"+u+"."+(+c+1)+".0":p?"<="+u+"."+c+"."+l+"-"+p:"<="+a)).trim()}function pt(t,e){for(var n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length){for(n=0;n<t.length;n++){if(o(t[n].semver),t[n].semver===at)return!0;if(t[n].semver.prerelease.length>0){var r=t[n].semver;if(r.major===e.major&&r.minor===e.minor&&r.patch===e.patch)return!0}}return!1}return!0}function ft(t,e,n){try{e=new ut(e,n)}catch(t){return!1}return e.test(t)}function ht(t,e,n,r){var i,o,s,a,u;switch(t=new W(t,r),e=new ut(e,r),n){case">":i=Z,o=it,s=tt,a=">",u=">=";break;case"<":i=tt,o=rt,s=Z,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ft(t,e,r))return!1;for(var c=0;c<e.set.length;++c){var l=e.set[c],p=null,f=null;if(l.forEach((function(t){p=p||t,f=f||t,i(t.semver,p.semver,r)?p=t:s(t.semver,f.semver,r)&&(f=t)})),p.operator===a||p.operator===u)return!1;if((!f.operator||f.operator===a)&&o(t,f.semver))return!1;if(f.operator===u&&s(t,f.semver))return!1}return!0}st.prototype.parse=function(t){var e=this.loose?a[Q]:a[B],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new W(n[2],this.loose):this.semver=at},st.prototype.inspect=function(){return'<SemVer Comparator "'+this+'">'},st.prototype.toString=function(){return this.value},st.prototype.test=function(t){return o("Comparator.test",t,this.loose),this.semver===at||("string"==typeof t&&(t=new W(t,this.loose)),ot(t,this.operator,this.semver,this.loose))},e.Range=ut,ut.prototype.inspect=function(){return'<SemVer Range "'+this.range+'">'},ut.prototype.format=function(){return this.range=this.set.map((function(t){return t.join(" ").trim()})).join("||").trim(),this.range},ut.prototype.toString=function(){return this.range},ut.prototype.parseRange=function(t){var e=this.loose;t=t.trim(),o("range",t,e);var n=e?a[G]:a[$];t=t.replace(n,lt),o("hyphen replace",t),t=t.replace(a[U],"$1$2$3"),o("comparator trim",t,a[U]),t=(t=(t=t.replace(a[F],"$1~")).replace(a[M],"$1^")).split(/\s+/).join(" ");var r=e?a[Q]:a[B],i=t.split(" ").map((function(t){return function(t,e){return o("comp",t),t=function(t,e){return t.trim().split(/\s+/).map((function(t){return function(t,e){o("caret",t,e);var n=e?a[D]:a[L];return t.replace(n,(function(e,n,r,i,s){var a;return o("caret",t,e,n,r,i,s),ct(n)?a="":ct(r)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ct(i)?a="0"===n?">="+n+"."+r+".0 <"+n+"."+(+r+1)+".0":">="+n+"."+r+".0 <"+(+n+1)+".0.0":s?(o("replaceCaret pr",s),"-"!==s.charAt(0)&&(s="-"+s),a="0"===n?"0"===r?">="+n+"."+r+"."+i+s+" <"+n+"."+r+"."+(+i+1):">="+n+"."+r+"."+i+s+" <"+n+"."+(+r+1)+".0":">="+n+"."+r+"."+i+s+" <"+(+n+1)+".0.0"):(o("no pr"),a="0"===n?"0"===r?">="+n+"."+r+"."+i+" <"+n+"."+r+"."+(+i+1):">="+n+"."+r+"."+i+" <"+n+"."+(+r+1)+".0":">="+n+"."+r+"."+i+" <"+(+n+1)+".0.0"),o("caret return",a),a}))}(t,e)})).join(" ")}(t,e),o("caret",t),t=function(t,e){return t.trim().split(/\s+/).map((function(t){return function(t,e){var n=e?a[I]:a[N];return t.replace(n,(function(e,n,r,i,s){var a;return o("tilde",t,e,n,r,i,s),ct(n)?a="":ct(r)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ct(i)?a=">="+n+"."+r+".0 <"+n+"."+(+r+1)+".0":s?(o("replaceTilde pr",s),"-"!==s.charAt(0)&&(s="-"+s),a=">="+n+"."+r+"."+i+s+" <"+n+"."+(+r+1)+".0"):a=">="+n+"."+r+"."+i+" <"+n+"."+(+r+1)+".0",o("tilde return",a),a}))}(t,e)})).join(" ")}(t,e),o("tildes",t),t=function(t,e){return o("replaceXRanges",t,e),t.split(/\s+/).map((function(t){return function(t,e){t=t.trim();var n=e?a[j]:a[A];return t.replace(n,(function(e,n,r,i,s,a){o("xRange",t,e,n,r,i,s,a);var u=ct(r),c=u||ct(i),l=c||ct(s);return"="===n&&l&&(n=""),u?e=">"===n||"<"===n?"<0.0.0":"*":n&&l?(c&&(i=0),l&&(s=0),">"===n?(n=">=",c?(r=+r+1,i=0,s=0):l&&(i=+i+1,s=0)):"<="===n&&(n="<",c?r=+r+1:i=+i+1),e=n+r+"."+i+"."+s):c?e=">="+r+".0.0 <"+(+r+1)+".0.0":l&&(e=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0"),o("xRange return",e),e}))}(t,e)})).join(" ")}(t,e),o("xrange",t),t=function(t,e){return o("replaceStars",t,e),t.trim().replace(a[V],"")}(t,e),o("stars",t),t}(t,e)})).join(" ").split(/\s+/);return this.loose&&(i=i.filter((function(t){return!!t.match(r)}))),i=i.map((function(t){return new st(t,e)}))},e.toComparators=function(t,e){return new ut(t,e).set.map((function(t){return t.map((function(t){return t.value})).join(" ").trim().split(" ")}))},ut.prototype.test=function(t){if(!t)return!1;"string"==typeof t&&(t=new W(t,this.loose));for(var e=0;e<this.set.length;e++)if(pt(this.set[e],t))return!0;return!1},e.satisfies=ft,e.maxSatisfying=function(t,e,n){return t.filter((function(t){return ft(t,e,n)})).sort((function(t,e){return X(t,e,n)}))[0]||null},e.validRange=function(t,e){try{return new ut(t,e).range||"*"}catch(t){return null}},e.ltr=function(t,e,n){return ht(t,e,"<",n)},e.gtr=function(t,e,n){return ht(t,e,">",n)},e.outside=ht,void 0===(i="function"==typeof(r=e)?r.call(e,n,e,t):r)||(t.exports=i)},function(t,e,n){"use strict";t.exports=n(151)},function(t,e,n){const{InnerState:r}=n(18),{assertOptions:i}=n(6),o={os:n(4),utils:n(0),formatting:n(8),patterns:n(33)};class s extends r{constructor(t){if(super(),"string"==typeof t){const e=function(t){const e=t.match(o.patterns.validColumn);if(e&&e[0]===t){const e={};"?"===t[0]&&(e.cnd=!0,t=t.substr(1));const n=t.match(o.patterns.hasValidModifier);return n?(e.name=t.substr(0,n.index),e.mod=n[0]):e.name=t,e}throw new TypeError(`Invalid column syntax: ${o.utils.toJson(t)}.`)}(t);this.name=e.name,"mod"in e&&(this.mod=e.mod),"cnd"in e&&(this.cnd=e.cnd)}else{if(!("name"in(t=i(t,["name","prop","mod","cast","cnd","def","init","skip"]))))throw new TypeError("Invalid column details.");if(!o.utils.isText(t.name))throw new TypeError(`Invalid 'name' value: ${o.utils.toJson(t.name)}. A non-empty string was expected.`);if(o.utils.isNull(t.prop)&&!a(t.name))throw new TypeError(`Invalid 'name' syntax: ${o.utils.toJson(t.name)}.`);if(this.name=t.name,!o.utils.isNull(t.prop)){if(!o.utils.isText(t.prop))throw new TypeError(`Invalid 'prop' value: ${o.utils.toJson(t.prop)}. A non-empty string was expected.`);if(!a(t.prop))throw new TypeError(`Invalid 'prop' syntax: ${o.utils.toJson(t.prop)}.`);t.prop!==t.name&&(this.prop=t.prop)}if(!o.utils.isNull(t.mod)){if("string"!=typeof t.mod||(e=t.mod,-1===o.patterns.validModifiers.indexOf(e)))throw new TypeError(`Invalid 'mod' value: ${o.utils.toJson(t.mod)}.`);this.mod=t.mod}o.utils.isNull(t.cast)||(this.cast=function(t){if("string"==typeof t){const e=t.replace(/^[:\s]*|\s*$/g,"");if(e)return e}throw new TypeError(`Invalid 'cast' value: ${o.utils.toJson(t)}.`)}(t.cast)),"cnd"in t&&(this.cnd=!!t.cnd),"def"in t&&(this.def=t.def),"function"==typeof t.init&&(this.init=t.init),"function"==typeof t.skip&&(this.skip=t.skip)}var e;const n="${"+(this.prop||this.name)+(this.mod||"")+"}",r=this.cast?"::"+this.cast:"",s=o.formatting.as.name(this.name);this.extendState({variable:n,castText:r,escapedName:s}),Object.freeze(this)}get variable(){return this._inner.variable}get castText(){return this._inner.castText}get escapedName(){return this._inner.escapedName}}function a(t){const e=t.match(o.patterns.validVariable);return!!e&&e[0]===t}s.prototype.toString=function(t){t=t>0?parseInt(t):0;const e=o.utils.messageGap(t),n=o.utils.messageGap(t+1),r=[e+"Column {",n+"name: "+o.utils.toJson(this.name)];return"prop"in this&&r.push(n+"prop: "+o.utils.toJson(this.prop)),"mod"in this&&r.push(n+"mod: "+o.utils.toJson(this.mod)),"cast"in this&&r.push(n+"cast: "+o.utils.toJson(this.cast)),"cnd"in this&&r.push(n+"cnd: "+o.utils.toJson(this.cnd)),"def"in this&&r.push(n+"def: "+o.utils.toJson(this.def)),"init"in this&&r.push(n+"init: [Function]"),"skip"in this&&r.push(n+"skip: [Function]"),r.push(e+"}"),r.join(o.os.EOL)},o.utils.addInspection(s,(function(){return this.toString()})),t.exports={Column:s}},function(t,e,n){const{assertOptions:r}=n(6),i={fs:n(15),path:n(3),utils:n(0),package:n(75)};function o(t){return(t=t.replace(/[-_\s.]+(.)?/g,(t,e)=>e?e.toUpperCase():"")).substr(0,1).toLowerCase()+t.substr(1)}function s(t){return o(t=t.replace(/[^a-zA-Z0-9$_\-\s.]/g,"").replace(/^[0-9_\-\s.]+/,""))}t.exports={camelize:o,camelizeVar:s,enumSql:function(t,e,n){if(!i.utils.isText(t))throw new TypeError("Parameter 'dir' must be a non-empty text string.");return function t(e,n,r,o){const a={};return i.fs.readdirSync(e).forEach(u=>{let c;const l=i.path.join(e,u);try{c=i.fs.statSync(l)}catch(t){if(n.ignoreErrors)return;throw t}if(c.isDirectory()){if(n.recursive){const e=s(u),i=t(l,n,r,o?o+"."+e:e);if(Object.keys(i).length){if((!e.length||e in a)&&!n.ignoreErrors)throw new Error("Empty or duplicate camelized folder name: "+l);a[e]=i}}}else if(".sql"===i.path.extname(u).toLowerCase()){const t=s(u.replace(/\.[^/.]+$/,""));if((!t.length||t in a)&&!n.ignoreErrors)throw new Error("Empty or duplicate camelized file name: "+l);if(a[t]=l,r){const e=r(l,t,o?o+"."+t:t);void 0!==e&&(a[t]=e)}}}),a}(t,e=r(e,["recursive","ignoreErrors"]),n="function"==typeof n?n:null,"")},taskArgs:function(t){if(!t||"number"!=typeof t.length)throw new TypeError("Parameter 'args' must be an array-like object of arguments.");let e,n=t[0];"function"==typeof n?(e=n,n={},e.name&&(n.tag=e.name)):("function"==typeof t[1]&&(e=t[1]),"string"==typeof n||"number"==typeof n?n={tag:n}:(n="object"==typeof n&&n||{},!("tag"in n)&&e&&e.name&&(n.tag=e.name)));const r=[n,e];return Object.defineProperty(r,"options",{get:function(){return this[0]},set:function(t){this[0]=t},enumerable:!0}),Object.defineProperty(r,"cb",{get:function(){return this[1]},set:function(t){this[1]=t},enumerable:!0}),r}}},function(t){t.exports=JSON.parse('{"_args":[[{"raw":"pg-promise@^10.5.6","scope":null,"escapedName":"pg-promise","name":"pg-promise","rawSpec":"^10.5.6","spec":">=10.5.6 <11.0.0","type":"range"},"/Users/neilrussell/nona-mac/dev/neilrussell6/projects/react-markdown3/packages/markdown-api"]],"_from":"pg-promise@>=10.5.6 <11.0.0","_hasShrinkwrap":false,"_id":"pg-promise@10.5.8","_inCache":true,"_location":"/pg-promise","_nodeVersion":"14.4.0","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/pg-promise_10.5.8_1594180038291_0.2540525243134557"},"_npmUser":{"name":"vitaly.tomilov","email":"vitaly.tomilov@gmail.com"},"_npmVersion":"6.14.5","_phantomChildren":{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"2.3.0","pg-pool":"3.2.1","pg-protocol":"1.2.5","pg-types":"2.2.0","pgpass":"1.0.2","semver":"4.3.2"},"_requested":{"raw":"pg-promise@^10.5.6","scope":null,"escapedName":"pg-promise","name":"pg-promise","rawSpec":"^10.5.6","spec":">=10.5.6 <11.0.0","type":"range"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/pg-promise/-/pg-promise-10.5.8.tgz","_shasum":"42f6c0bb12e21b9b267eb0cb1ee9330da3279265","_shrinkwrap":null,"_spec":"pg-promise@^10.5.6","_where":"/Users/neilrussell/nona-mac/dev/neilrussell6/projects/react-markdown3/packages/markdown-api","author":{"name":"Vitaly Tomilov","email":"vitaly.tomilov@gmail.com"},"bugs":{"url":"https://github.com/vitaly-t/pg-promise/issues","email":"vitaly.tomilov@gmail.com"},"dependencies":{"assert-options":"0.6.2","pg":"8.2.2","pg-minify":"1.6.1","spex":"3.0.2"},"description":"PostgreSQL interface for Node.js","devDependencies":{"@types/node":"14.0.19","JSONStream":"1.3.5","bluebird":"3.7.2","coveralls":"3.1.0","eslint":"7.4.0","istanbul":"0.4.5","jasmine-node":"3.0.0","jsdoc":"3.6.4","pg-query-stream":"3.1.2","tslint":"6.1.2","typescript":"3.9.6"},"directories":{},"dist":{"integrity":"sha512-EdLyPd/XlmNsfA2uRKHuCnyLhk5DHPdKGPZmjzpcKfdx6dDZB+nEfSuaNSjReRrM7BmPaV/hSGppt9kG/W2Umw==","shasum":"42f6c0bb12e21b9b267eb0cb1ee9330da3279265","tarball":"https://registry.npmjs.org/pg-promise/-/pg-promise-10.5.8.tgz","fileCount":52,"unpackedSize":417477,"npm-signature":"-----BEGIN PGP SIGNATURE-----\\r\\nVersion: OpenPGP.js v3.0.4\\r\\nComment: https://openpgpjs.org\\r\\n\\r\\nwsFcBAEBCAAQBQJfBUHGCRA9TVsSAnZWagAANoMQAINSjiComEFYCd0OTCXH\\n3vaMkF5+Tha9h0GHUBhvvWO3qE+gtu2QQOe/eB4gmkoz+XhqPUivv6vcA+HY\\nbKvIdyqb8zo2VvmTwPoL1Nfsg8NQo48YRxzaCC2DlRorkZaD55uubgO3RZzG\\nZpmtVsbi7Q/hWW6dYlpbEWMrFwymRvqTkKREcSyYL2nm1EhiPy6f81Wyy4pT\\nD12/sJ12Fr1mB39T+LOy5hhDmT4WZJ6di+8XbMq0W6HhGiIhesvi1Isrui9A\\nazBsuAYQ3cA8WQeGiVXoACtj9IOI1PelNiAvfGR7oA0o43htMju4Xz81aLuk\\nG/miu+BE/0//wyzA0vnAUuPffywyDjMwTKKmZIsUFfsMCtYRY2x8y49BUrIq\\nJgCgseoztVFL7StDgtyWUxDWRnGf+gauCgD6dsqrecQFqOgljIqZmDbgegoF\\n0TRsCBsygwU9DGp0yxx8jHNSAyMb9G9klQu8kxDLgztP5NzcO4+lAcM4P6Ka\\nzOauMv7SiryfBHsjQoOzLzuNBy109OyIL9C+JXLVo9cy+haLw5guYINwe3Sy\\nTLVws75OdL45NMtgbeURBJjhCZ3RpnFPWnFse2O81vX7HDqQmW7JjVhO4A1M\\nxeI6tODuWLk3mScafRsqknl4amL3rYa5GAXt7VG0kvL8sen6L/ireXaFYvov\\n/+QI\\r\\n=kh+h\\r\\n-----END PGP SIGNATURE-----\\r\\n"},"engines":{"node":">=8.0"},"gitHead":"b5224b70e2200a98f6aa9eac050628a2622b7f78","homepage":"https://github.com/vitaly-t/pg-promise","keywords":["pg","promise","postgres"],"license":"MIT","main":"lib/index.js","maintainers":[{"name":"vitaly.tomilov","email":"vitaly.tomilov@gmail.com"}],"name":"pg-promise","optionalDependencies":{},"readme":"ERROR: No README data found!","repository":{"type":"git","url":"git+https://github.com/vitaly-t/pg-promise.git"},"scripts":{"coverage":"istanbul cover ./node_modules/jasmine-node/bin/jasmine-node test","doc":"jsdoc -c ./jsdoc/jsdoc.js ./jsdoc/README.md -t ./jsdoc/templates/custom","lint":"eslint ./lib ./test/*.js ./test/db --fix","test":"jasmine-node --captureExceptions test","test:native":"jasmine-node test --config PG_NATIVE true","travis":"npm run lint && npm run tslint && npm run coverage --captureExceptions && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage","tslint":"tslint ./typescript/*.ts"},"typings":"typescript/pg-promise.d.ts","version":"10.5.8"}')},function(t,e,n){const{InnerState:r}=n(18),{addInspection:i}=n(0),{assertOptions:o}=n(6),s={none:0,serializable:1,repeatableRead:2,readCommitted:3};class a extends r{constructor(t){t=o(t,["tiLevel","deferrable","readOnly"]);const{readOnly:e,deferrable:n}=t;let r,i,a,{tiLevel:u}=t,c="begin";if(u=u>0?parseInt(u):0,u>0&&u<4){r="isolation level "+["serializable","repeatable read","read committed"][u-1]}e?i="read only":void 0!==e&&(i="read write"),u===s.serializable&&e&&(n?a="deferrable":void 0!==n&&(a="not deferrable")),r&&(c+=" "+r),i&&(c+=" "+i),a&&(c+=" "+a),super({begin:c,capBegin:c.toUpperCase()})}begin(t){return t?this._inner.capBegin:this._inner.begin}}i(a,(function(){return this.begin(!0)})),t.exports={isolationLevel:s,TransactionMode:a}},function(t,e){const n=0,r=1,i=2;class o{constructor(t){this.isResult=t===n,this.isStream=t===i,this.isMultiResult=t===r}}const s={resultQuery:new o(n),multiResultQuery:new o(r),streamQuery:new o(i)};t.exports=Object.assign({SpecialQuery:o},s)},function(t,e,n){const{Events:r}=n(22),{QueryFile:i}=n(20),{ServerFormatting:o,PreparedStatement:s,ParameterizedQuery:a}=n(45),{SpecialQuery:u}=n(77),{queryResult:c}=n(37),l={util:n(2),utils:n(0),formatting:n(8),errors:n(19),stream:n(164),text:n(12)},p=l.errors.QueryResultError,f=l.utils.InternalError,h=l.errors.queryResultErrorCode,d=c.one|c.many;function m(t,e,n,m,y){const g=m instanceof u&&m,v=y.promise;if(g&&g.isStream)return l.stream.call(this,t,e,n,y);const _=t.options,b=_.capSQL;let w,E,x=_.pgFormatting,C=x?n:void 0;if("function"==typeof e)try{e=l.formatting.resolveFunc(e,n)}catch(t){w=t,C=n,e=l.util.inspect(e)}if(w||e||(w=new TypeError(l.text.invalidQuery)),w||"object"!=typeof e||(e instanceof i?(e.prepare(),e.error?(w=e.error,e=e.file):e=e[i.$query]):"entity"in e?(E=e.type,e=e.entity):(e instanceof o?x=!0:"name"in e?(e=new s(e),x=!0):"text"in e&&(e=new a(e),x=!0),e instanceof o&&!l.utils.isNull(n)&&(e.values=n))),!w){if(!x&&!l.utils.isText(e)){const t=E?"func"===E?l.text.invalidFunction:l.text.invalidProc:l.text.invalidQuery;w=new TypeError(t)}if(e instanceof o){const t=e.parse();t instanceof Error?w=t:e=t}}if(w||g||(l.utils.isNull(m)?m=c.any:(m!==parseInt(m)||(m&d)===d||m<1||m>6)&&(w=new TypeError(l.text.invalidMask))),!w&&(!x||E))try{E?(C=void 0,e=l.formatting.formatEntity(e,n,{capSQL:b,type:E})):e=l.formatting.formatQuery(e,n)}catch(t){if(E){let t="func"===E?"select * from":"call";b&&(t=t.toUpperCase()),e=t+" "+e+"(...)"}else C=n;w=t instanceof Error?t:new l.utils.InternalError(t)}return v((n,i)=>{if(!s()&&(w=r.query(_,o()),!s())){try{const i=Date.now();t.db.client.query(e,C,(a,u)=>{let f,d,y=u;if(a)l.utils.isConnectivityError(a)&&(t.db.client.$connectionError=a),w=a;else if(d=Array.isArray(u),d){y=u[u.length-1];for(let t=0;t<u.length;t++){const e=u[t];if(w=r.receive(_,e.rows,e,o()),w)break}}else u.duration=Date.now()-i,w=r.receive(_,u.rows,u,o());if(!w)if(f=y,g)g.isMultiResult&&(f=d?u:[u]);else{f=f.rows;const t=f.length;t?t>1&&m&c.one?w=new p(h.multiple,y,e,C):m&(c.one|c.many)?m&c.many||(f=f[0]):w=new p(h.notEmpty,y,e,C):m&c.none?f=m&c.one?null:m&c.many?f:null:w=new p(h.noData,y,e,C)}s()||n(f)})}catch(t){w=t}s()}function o(){let n;return t.db?n=t.db.client:w=new Error(l.text.looseQuery),{client:n,query:e,params:C,dc:t.dc,ctx:t.ctx}}function s(){const t=o();if(w)return w instanceof f&&(w=w.error),r.error(_,w,t),i(w),!0}})}t.exports=t=>function(e,n,r,i){return m.call(this,e,n,r,i,t)}},function(t,e,n){const r={u:n(2),os:n(4),utils:n(29)};class i extends Error{constructor(t,e,n){function o(){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]].result,n[r]instanceof i&&(n[r]=n[r].getErrors());return r.utils.extend(n,"$isErrorList",!0),n}const s=o();let a,u=s[0];for(;u&&u.$isErrorList;)u=u[0];u instanceof Error?a=u.message:("string"!=typeof u&&(u=r.u.inspect(u)),a=u),super(a),this.name=this.constructor.name,this.data=t,this.first=u,this.stat={total:t.length,succeeded:t.length-s.length,failed:s.length,duration:n},this.getErrors=o,Error.captureStackTrace(this,this.constructor)}}i.prototype.toString=function(t){t=t>0?parseInt(t):0;const e=r.utils.messageGap(t),n=r.utils.messageGap(t+1),i=r.utils.messageGap(t+2),o=["BatchError {",n+"stat: { total: "+this.stat.total+", succeeded: "+this.stat.succeeded+", failed: "+this.stat.failed+", duration: "+this.stat.duration+" }",n+"errors: ["];let s=0;return this.data.forEach((e,n)=>{!e.success&&s<5&&(o.push(i+n+": "+r.utils.formatError(e.result,t+2)),s++)}),o.push(n+"]"),o.push(e+"}"),o.join(r.os.EOL)},r.utils.addInspection(i,(function(){return this.toString()})),t.exports={BatchError:i}},function(t,e,n){const r={u:n(2),os:n(4),utils:n(29)},i={0:"Page with index %d rejected.",1:"Source %s returned a rejection at index %d.",2:"Source %s threw an error at index %d.",3:"Destination %s returned a rejection at index %d.",4:"Destination %s threw an error at index %d.",5:"Source %s returned a non-array value at index %d."};class o extends Error{constructor(t,e,n,o){let s;t.error instanceof Error?s=t.error.message:(s=t.error,"string"!=typeof s&&(s=r.u.inspect(s))),super(s),this.name=this.constructor.name,this.index=t.index,this.duration=o,this.error=t.error,"source"in t&&(this.source=t.source),"dest"in t&&(this.dest=t.dest),e?(n=n?"'"+n+"'":"<anonymous>",this.reason=r.u.format(i[e],n,t.index)):this.reason=r.u.format(i[e],t.index),Error.captureStackTrace(this,this.constructor)}}o.prototype.toString=function(t){t=t>0?parseInt(t):0;const e=r.utils.messageGap(t),n=r.utils.messageGap(t+1),i=["PageError {",n+"message: "+JSON.stringify(this.message),n+"reason: "+this.reason,n+"index: "+this.index,n+"duration: "+this.duration];return i.push(n+"error: "+r.utils.formatError(this.error,t+1)),i.push(e+"}"),i.join(r.os.EOL)},r.utils.addInspection(o,(function(){return this.toString()})),t.exports={PageError:o}},function(t,e,n){const r={u:n(2),os:n(4),utils:n(29)},i={0:"Source %s returned a rejection at index %d.",1:"Source %s threw an error at index %d.",2:"Destination %s returned a rejection at index %d.",3:"Destination %s threw an error at index %d."};class o extends Error{constructor(t,e,n,o){let s;t.error instanceof Error?s=t.error.message:(s=t.error,"string"!=typeof s&&(s=r.u.inspect(s))),super(s),this.name=this.constructor.name,this.index=t.index,this.duration=o,this.error=t.error,"source"in t?this.source=t.source:this.dest=t.dest,n=n?"'"+n+"'":"<anonymous>",this.reason=r.u.format(i[e],n,t.index),Error.captureStackTrace(this,this.constructor)}}o.prototype.toString=function(t){t=t>0?parseInt(t):0;const e=r.utils.messageGap(t),n=r.utils.messageGap(t+1),i=["SequenceError {",n+"message: "+JSON.stringify(this.message),n+"reason: "+this.reason,n+"index: "+this.index,n+"duration: "+this.duration];return i.push(n+"error: "+r.utils.formatError(this.error,t+1)),i.push(e+"}"),i.join(r.os.EOL)},r.utils.addInspection(o,(function(){return this.toString()})),t.exports={SequenceError:o}},function(t,e,n){const{isNil:r,identity:i}=n(9),o=n(14)({capSQL:!0}),{DATE:s,TIMESTAMP:a}=o.pg.types.builtins;o.pg.types.setTypeParser(s,i),o.pg.types.setTypeParser(a,i);const u=o(r(process.env.DATABASE_URL)?`postgresql://${process.env.PGUSER}:${process.env.PGPASSWORD}@${process.env.PGHOST}:${process.env.PGPORT}/${process.env.PGDATABASE}`:process.env.DATABASE_URL);t.exports.connection=u,t.exports.pgp=o},function(t,e,n){"use strict";var r;"undefined"!=typeof Promise&&(r=Promise);var i=n(178)();i.noConflict=function(){try{Promise===i&&(Promise=r)}catch(t){}return i},t.exports=i},function(t,e){t.exports=require("async_hooks")},function(t,e,n){"use strict";t.exports=function(t){var e=n(1),r=n(13).keys,i=e.tryCatch,o=e.errorObj;return function(n,s,a){return function(u){var c=a._boundValue();t:for(var l=0;l<n.length;++l){var p=n[l];if(p===Error||null!=p&&p.prototype instanceof Error){if(u instanceof p)return i(s).call(c,u)}else if("function"==typeof p){var f=i(p).call(c,u);if(f===o)return f;if(f)return i(s).call(c,u)}else if(e.isObject(u)){for(var h=r(p),d=0;d<h.length;++d){var m=h[d];if(p[m]!=u[m])continue t}return i(s).call(c,u)}}return t}}}},function(t,e,n){"use strict";var r=n(1),i=r.maybeWrapAsError,o=n(11).OperationalError,s=n(13);var a=/^(?:name|message|stack|cause)$/;function u(t){var e;if(function(t){return t instanceof Error&&s.getPrototypeOf(t)===Error.prototype}(t)){(e=new o(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var n=s.keys(t),i=0;i<n.length;++i){var u=n[i];a.test(u)||(e[u]=t[u])}return e}return r.markAsOriginatingFromRejection(t),t}t.exports=function(t,e){return function(n,r){if(null!==t){if(n){var o=u(i(n));t._attachExtraTrace(o),t._reject(o)}else if(e){for(var s=arguments.length,a=new Array(Math.max(s-1,0)),c=1;c<s;++c)a[c-1]=arguments[c];t._fulfill(a)}else t._fulfill(r);t=null}}}},function(t,e){t.exports.CONTENT_RESPONSE_KEYS=["id","categoryId","label","markdown"],t.exports.MODULE_CONTEXT={package:"markdown-api",module:"content"}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";var r=n(5),i=n(217),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,u={adapter:("undefined"!=typeof XMLHttpRequest?a=n(218):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(a=n(224)),a),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){u.headers[t]=r.merge(o)})),t.exports=u},function(t,e,n){"use strict";var r=n(41);t.exports=function(t,e,n){var i=n.config.validateStatus;!i||i(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(219),i=n(220);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},function(t,e){t.exports=require("http")},function(t,e){t.exports=require("https")},function(t,e,n){var r=n(38),i=n(94),o=n(95),s=n(17),a=n(16).Writable,u=n(225)("follow-redirects"),c={GET:!0,HEAD:!0,OPTIONS:!0,TRACE:!0},l=Object.create(null);function p(t,e){a.call(this),t.headers=t.headers||{},this._options=t,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t.host&&(t.hostname||(t.hostname=t.host),delete t.host),e&&this.on("response",e);var n=this;if(this._onNativeResponse=function(t){n._processResponse(t)},!t.pathname&&t.path){var r=t.path.indexOf("?");r<0?t.pathname=t.path:(t.pathname=t.path.substring(0,r),t.search=t.path.substring(r))}this._performRequest()}function f(t){var e={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(t).forEach((function(i){var o=i+":",a=n[o]=t[i],c=e[i]=Object.create(a);c.request=function(t,i){return"string"==typeof t?(t=r.parse(t)).maxRedirects=e.maxRedirects:t=Object.assign({protocol:o,maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},t),t.nativeProtocols=n,s.equal(t.protocol,o,"protocol mismatch"),u("options",t),new p(t,i)},c.get=function(t,e){var n=c.request(t,e);return n.end(),n}})),e}["abort","aborted","error","socket","timeout"].forEach((function(t){l[t]=function(e){this._redirectable.emit(t,e)}})),p.prototype=Object.create(a.prototype),p.prototype.write=function(t,e,n){if(!("string"==typeof t||"object"==typeof t&&"length"in t))throw new Error("data should be a string, Buffer or Uint8Array");"function"==typeof e&&(n=e,e=null),0!==t.length?this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,n)):(this.emit("error",new Error("Request body larger than maxBodyLength limit")),this.abort()):n&&n()},p.prototype.end=function(t,e,n){"function"==typeof t?(n=t,t=e=null):"function"==typeof e&&(n=e,e=null);var r=this._currentRequest;this.write(t||"",e,(function(){r.end(null,null,n)}))},p.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)},p.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive","setTimeout"].forEach((function(t){p.prototype[t]=function(e,n){return this._currentRequest[t](e,n)}})),["aborted","connection","socket"].forEach((function(t){Object.defineProperty(p.prototype,t,{get:function(){return this._currentRequest[t]}})})),p.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(e){if(this._options.agents){var n=t.substr(0,t.length-1);this._options.agent=this._options.agents[n]}var i=this._currentRequest=e.request(this._options,this._onNativeResponse);for(var o in this._currentUrl=r.format(this._options),i._redirectable=this,l)o&&i.on(o,l[o]);if(this._isRedirect){var s=0,a=this._requestBodyBuffers;!function t(){if(s<a.length){var e=a[s++];i.write(e.data,e.encoding,t)}else i.end()}()}}else this.emit("error",new Error("Unsupported protocol "+t))},p.prototype._processResponse=function(t){this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:t.statusCode});var e=t.headers.location;if(e&&!1!==this._options.followRedirects&&t.statusCode>=300&&t.statusCode<400){if(++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new Error("Max redirects exceeded."));var n,i=this._options.headers;if(307!==t.statusCode&&!(this._options.method in c))for(n in this._options.method="GET",this._requestBodyBuffers=[],i)/^content-/i.test(n)&&delete i[n];if(!this._isRedirect)for(n in i)/^host$/i.test(n)&&delete i[n];var o=r.resolve(this._currentUrl,e);u("redirecting to",o),Object.assign(this._options,r.parse(o)),this._isRedirect=!0,this._performRequest(),t.destroy()}else t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[]},t.exports=f({http:i,https:o}),t.exports.wrap=f},function(t,e,n){function r(t){var n;function r(){if(r.enabled){var t=r,i=+new Date,o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;u++;var i=e.formatters[r];if("function"==typeof i){var o=s[u];n=i.call(t,o),s.splice(u,1),u--}return n})),e.formatArgs.call(t,s);var c=r.log||e.log||console.log.bind(console);c.apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=i,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(227),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,n){"use strict";var r=n(5);t.exports=function(t,e){e=e||{};var n={},i=["url","method","params","data"],o=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(t){void 0!==e[t]&&(n[t]=e[t])})),r.forEach(o,(function(i){r.isObject(e[i])?n[i]=r.deepMerge(t[i],e[i]):void 0!==e[i]?n[i]=e[i]:r.isObject(t[i])?n[i]=r.deepMerge(t[i]):void 0!==t[i]&&(n[i]=t[i])})),r.forEach(s,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])}));var a=i.concat(o).concat(s),u=Object.keys(e).filter((function(t){return-1===a.indexOf(t)}));return r.forEach(u,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])})),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e){t.exports.CATEGORY_RESPONSE_KEYS=["id","label"],t.exports.MODULE_CONTEXT={package:"markdown-api",module:"categories"}},function(t,e,n){const{DEFAULT_HEADERS:r}=n(32),{getContents:i,getContent:o}=n(102),{getCategories:s}=n(236);t.exports.any=async()=>({statusCode:200,headers:r,body:null});const a={Logger:console};t.exports.getContents=i(a),t.exports.getContent=o(a),t.exports.getCategories=s(a)},function(t,e,n){const{getContents:r,getContent:i}=n(103),{DB:o}=n(31);t.exports.getContents=r({DB:o}),t.exports.getContent=i({DB:o})},function(t,e,n){const{map:r,path:i,assoc:o}=n(9),{ok:s,unknownError:a}=n(42),u=n(105),{pickContentResponseKeys:c}=n(209),{MODULE_CONTEXT:l}=n(87),{loadMarkdown:p}=n(210);t.exports.getContents=({DB:t})=>({Logger:e})=>{const n=u.findAllContent({Logger:e,DB:t}),i=o("function","presentation.handlers.getContent",l);return async t=>{e.info("REQUEST",t,i);try{const t=await n();e.debug("database content",t,i);const o=r(c)(t);e.debug("transformed content",t,i);const a=s(o);return e.info("RESPONSE",a,i),a}catch(t){return e.error("UNKNOWN ERROR",t,i),a({message:t.message})}}};t.exports.getContent=({DB:t})=>({Logger:e})=>{const n=u.findContent({Logger:e,DB:t}),r=o("function","presentation.handlers.getContent",l);return async t=>{try{e.info("REQUEST",t,r);const a=i(["pathParameters","id"])(t),u=await n(a),l=c(u),{markdown:f}=l,h=await p(f),d=s(o("markdownContent",h,l));return e.info("RESPONSE",d,r),d}catch(t){return console.log(t),a({message:t.message})}}}},function(t,e,n){const{mergeRight:r}=n(9),{DEFAULT_HEADERS:i}=n(32),o=(t,e)=>({statusCode:t,headers:i,body:JSON.stringify(e)});t.exports.buildResponse=o,t.exports.buildErrorResponse=t=>e=>{const{statusCode:n,key:i,message:s}=r(t,e);return o(n,{error:{key:i,message:s}})},t.exports.buildNoContentResponse=()=>({statusCode:204,headers:i})},function(t,e,n){const{map:r}=n(9),{sql:i}=n(106),{mapContentFromDB:o}=n(175),{contents:s}=i;t.exports.findAllContent=({DB:t})=>()=>t.any(s.findAll).then(r(o)),t.exports.findContent=({DB:t})=>e=>t.one(s.findById,[parseInt(e,10)]).then(o)},function(t,e,n){(function(e){const r=n(14),i=n(3),o=t=>{const n=process.env.APP_ROOT_PATH||e,o=i.join(n,"sql",t);return new r.QueryFile(o,{minify:!0})};t.exports={sql:{contents:{createTable:o("create-contents-table.sql"),findAll:o("find-all-contents.sql"),findById:o("find-content-by-id.sql")}}}}).call(this,"/")},function(t,e,n){const{PromiseAdapter:r}=n(43),{DatabasePool:i}=n(44),{PreparedStatement:o,ParameterizedQuery:s}=n(45),{QueryFile:a}=n(20),{queryResult:u}=n(37),{parsePromise:c}=n(118),{assertOptions:l}=n(6),p={path:n(3),pg:n(119),minify:n(36),formatting:n(8),helpers:n(154),errors:n(19),utils:n(0),pubUtils:n(74),mode:n(76),package:n(75),text:n(12)};let f;function h(t){t=l(t,["pgFormatting","pgNative","promiseLib","noLocking","capSQL","noWarnings","connect","disconnect","query","receive","task","transact","error","extend","schema"]);let e=p.pg;const r=c(t.promiseLib),o={version:p.package.version,promiseLib:r.promiseLib,promise:r.promise};if(p.utils.addReadProp(o,"$npm",{},!0),p.utils.addReadProp(t,"promiseLib",t.promiseLib),p.utils.addReadProp(t,"pgNative",!!t.pgNative),o.options=t,t.pgNative){if(e=p.pg.native,p.utils.isNull(e))throw new Error(p.text.nativeError)}else f||(f=e.Client.prototype.connect,e.Client.prototype.connect=function(){const t=e=>{"server_version"===e.parameterName&&(this.serverVersion=e.parameterValue,this.connection.removeListener("parameterStatus",t))};this.connection.on("parameterStatus",t),f.call(this,...arguments)});const s=n(161)(o),a=(t,e)=>{if(p.utils.isText(t)||t&&"object"==typeof t)return new s(t,e,o);throw new TypeError("Invalid connection details: "+p.utils.toJson(t))};return p.utils.addReadProperties(a,d),p.utils.addReadProp(a,"pg",e),p.utils.addReadProp(a,"end",()=>{i.shutDown()}),p.utils.addReadProp(a,"helpers",p.helpers(o)),p.utils.addReadProp(a,"spex",o.$npm.spex),o.pgp=a,p.utils.lock(o,!0,t),a}const d={as:p.formatting.as,minify:p.minify,queryResult:u,PromiseAdapter:r,ParameterizedQuery:s,PreparedStatement:o,QueryFile:a,errors:p.errors,utils:p.pubUtils,txMode:p.mode};p.utils.addReadProperties(h,d),t.exports=h},function(t,e,n){const{ServerFormatting:r}=n(34),{PreparedStatementError:i}=n(19),{QueryFile:o}=n(20),{assertOptions:s}=n(6),a={EOL:n(4).EOL,utils:n(0)};class u extends r{constructor(t){super(t=s(t,["name","text","values","binary","rowMode","rows"]))}get name(){return this._inner.options.name}set name(t){const e=this._inner;t!==e.options.name&&(e.options.name=t,e.changed=!0)}get rows(){return this._inner.options.rows}set rows(t){const e=this._inner;t!==e.options.rows&&(e.options.rows=t,e.changed=!0)}}u.prototype.parse=function(){const t=this._inner,e=t.options,n=e.text instanceof o?e.text:null;if(!t.changed&&!n)return t.target;const r=[],s=t.target.values;return t.target={name:e.name,text:e.text},t.changed=!0,t.currentError=void 0,a.utils.isText(t.target.name)||r.push("Property 'name' must be a non-empty text string."),n&&(n.prepare(),n.error?r.push(n.error):t.target.text=n[o.$query]),a.utils.isText(t.target.text)||r.push("Property 'text' must be a non-empty text string."),a.utils.isNull(s)||(t.target.values=s),void 0!==e.binary&&(t.target.binary=!!e.binary),void 0!==e.rowMode&&(t.target.rowMode=e.rowMode),void 0!==e.rows&&(t.target.rows=e.rows),r.length?t.currentError=new i(r[0],t.target):(t.changed=!1,t.target)},u.prototype.toString=function(t){t=t>0?parseInt(t):0;const e=a.utils.messageGap(t+1),n=this.parse(),r=["PreparedStatement {",e+"name: "+a.utils.toJson(this.name)];return a.utils.isText(n.text)&&r.push(e+'text: "'+n.text+'"'),void 0!==this.values&&r.push(e+"values: "+a.utils.toJson(this.values)),void 0!==this.binary&&r.push(e+"binary: "+a.utils.toJson(this.binary)),void 0!==this.rowMode&&r.push(e+"rowMode: "+a.utils.toJson(this.rowMode)),void 0!==this.rows&&r.push(e+"rows: "+a.utils.toJson(this.rows)),this.error&&r.push(e+"error: "+this.error.toString(t+1)),r.push(a.utils.messageGap(t)+"}"),r.join(a.EOL)},t.exports={PreparedStatement:u}},function(t,e,n){const r={os:n(4),utils:n(0),text:n(12)},i=[{name:"noData",message:r.text.noData},{name:"notEmpty",message:r.text.notEmpty},{name:"multiple",message:r.text.multiple}];class o extends Error{constructor(t,e,n,r){super(i[t].message),this.name=this.constructor.name,this.code=t,this.result=e,this.query=n,this.values=r,this.received=e.rows.length,Error.captureStackTrace(this,this.constructor)}}o.prototype.toString=function(t){t=t>0?parseInt(t):0;const e=r.utils.messageGap(t),n=r.utils.messageGap(t+1),o=["QueryResultError {",n+"code: queryResultErrorCode."+i[this.code].name,n+'message: "'+this.message+'"',n+"received: "+this.received,n+"query: "+("string"==typeof this.query?'"'+this.query+'"':r.utils.toJson(this.query))];return void 0!==this.values&&o.push(n+"values: "+r.utils.toJson(this.values)),o.push(e+"}"),o.join(r.os.EOL)},r.utils.addInspection(o,(function(){return this.toString()})),t.exports={QueryResultError:o,queryResultErrorCode:{noData:0,notEmpty:1,multiple:2}}},function(t,e,n){const{QueryFileError:r}=n(35),i={os:n(4),utils:n(0)};class o extends Error{constructor(t,e){const n=t instanceof r;super(n?"Failed to initialize 'text' from a QueryFile.":t),this.name=this.constructor.name,n&&(this.error=t),this.result=e,Error.captureStackTrace(this,this.constructor)}}o.prototype.toString=function(t){t=t>0?parseInt(t):0;const e=i.utils.messageGap(t),n=i.utils.messageGap(t+1),r=i.utils.messageGap(t+2),o=["PreparedStatementError {",n+'message: "'+this.message+'"',n+"result: {",r+"name: "+i.utils.toJson(this.result.name),r+"text: "+i.utils.toJson(this.result.text),r+"values: "+i.utils.toJson(this.result.values),n+"}"];return this.error&&o.push(n+"error: "+this.error.toString(t+1)),o.push(e+"}"),o.join(i.os.EOL)},i.utils.addInspection(o,(function(){return this.toString()})),t.exports={PreparedStatementError:o}},function(t,e,n){const{parsingErrorCode:r,SQLParsingError:i}=n(46),{getIndexPos:o}=n(47);function s(t){return" "===t||"\t"===t||"\r"===t||"\n"===t}t.exports=function(t,e){if("string"!=typeof t)throw new TypeError("Input SQL must be a text string.");if(!t.length)return"";t=t.replace(/\r\n/g,"\n"),e=e||{};let n=0,a="",u=!1;const c=t.length;do{const i=t[n],o=t[n+1];if(s(i)){for(;++n<c&&s(t[n]););n<c&&(u=!0),n--;continue}if("-"===i&&"-"===o){const e=t.indexOf("\n",n+2);if(e<0)break;n=e-1,l();continue}if("/"===i&&"*"===o){let i,o,s=n+1,h=0,d=0;for(;++s<c-1&&d<=h;)"/"===t[s]&&"*"===t[s+1]?(i=s,h++,s++):"*"===t[s]&&"/"===t[s+1]&&(o=s,d++,s++);d<=h&&(n=i,f(r.unclosedMLC)),"!"!==t[n+2]||e.removeAll||(e.compress&&(u=!1),p(),a+=t.substring(n,o+2).replace(/\n/g,"\r\n")),n=o+1,l();continue}let h,d;if('"'!==i)if("'"!==i)e.compress&&".,;:()[]=<>+-*/|!?@#".indexOf(i)>=0&&(u=!1,l()),p(),a+=i;else{h=n;do{if(h=t.indexOf("'",h+1),h>0){let e=h;for(;"\\"===t[--e];);if((h-e)%2){let e=h;for(;++e<c&&"'"===t[e];);if((e-h)%2){h=e-1;break}h=e===c?-1:e}}}while(h>0);h<0&&f(r.unclosedText),e.compress&&(u=!1),p(),d=t.substring(n,h+1);const i=d.indexOf("\n")>0;i&&(d=d.split("\n").map(t=>t.replace(/^\s+|\s+$/g,"")).join("\\n"));const o=d.indexOf("\t")>0;if(i||o){const e=n?t[n-1]:"";if("E"!==e&&"e"!==e){const t=a?a[a.length-1]:"";t&&" "!==t&&".,;:()[]=<>+-*/|!?@#".indexOf(t)<0&&(a+=" "),a+="E"}o&&(d=d.replace(/\t/g,"\\t"))}a+=d,n=h,l()}else h=t.indexOf('"',n+1),h<0&&f(r.unclosedQI),d=t.substring(n,h+1),d.indexOf("\n")>0&&f(r.multiLineQI),e.compress&&(u=!1),p(),a+=d,n=h,l()}while(++n<c);return a;function l(){if(e.compress)for(;n<c-1&&s(t[n+1])&&n++;);}function p(){u&&(a.length&&(a+=" "),u=!1)}function f(e){const r=o(t,n);throw new i(e,r)}}},function(t,e,n){const{QueryFileError:r}=n(35),i={os:n(4),utils:n(0)};class o extends Error{constructor(t,e){const n=t instanceof r;super(n?"Failed to initialize 'text' from a QueryFile.":t),this.name=this.constructor.name,n&&(this.error=t),this.result=e,Error.captureStackTrace(this,this.constructor)}}o.prototype.toString=function(t){t=t>0?parseInt(t):0;const e=i.utils.messageGap(t),n=i.utils.messageGap(t+1),r=i.utils.messageGap(t+2),o=["ParameterizedQueryError {",n+'message: "'+this.message+'"',n+"result: {",r+"text: "+i.utils.toJson(this.result.text),r+"values: "+i.utils.toJson(this.result.values),n+"}"];return this.error&&o.push(n+"error: "+this.error.toString(t+1)),o.push(e+"}"),o.join(i.os.EOL)},i.utils.addInspection(o,(function(){return this.toString()})),t.exports={ParameterizedQueryError:o}},function(t,e,n){var r=n(48),i=n(49),o=n(50),s=n(51),a=n(52);function u(t){return function(e){return null===e?e:t(e)}}function c(t){return null===t?t:"TRUE"===t||"t"===t||"true"===t||"y"===t||"yes"===t||"on"===t||"1"===t}function l(t){return t?r.parse(t,c):null}function p(t){return parseInt(t,10)}function f(t){return t?r.parse(t,u(p)):null}function h(t){return t?r.parse(t,u((function(t){return w(t).trim()}))):null}var d=function(t){return t?i.create(t,(function(t){return null!==t&&(t=x(t)),t})).parse():null},m=function(t){return t?i.create(t,(function(t){return null!==t&&(t=parseFloat(t)),t})).parse():null},y=function(t){return t?i.create(t).parse():null},g=function(t){return t?i.create(t,(function(t){return null!==t&&(t=o(t)),t})).parse():null},v=function(t){return t?i.create(t,(function(t){return null!==t&&(t=s(t)),t})).parse():null},_=function(t){return t?r.parse(t,u(a)):null},b=function(t){return parseInt(t,10)},w=function(t){var e=String(t);return/^\d+$/.test(e)?e:t},E=function(t){return t?r.parse(t,u(JSON.parse)):null},x=function(t){return"("!==t[0]?null:(t=t.substring(1,t.length-1).split(","),{x:parseFloat(t[0]),y:parseFloat(t[1])})},C=function(t){if("<"!==t[0]&&"("!==t[1])return null;for(var e="(",n="",r=!1,i=2;i<t.length-1;i++)r||(e+=t[i]),")"!==t[i]?r&&","!==t[i]&&(n+=t[i]):r=!0;var o=x(e);return o.radius=parseFloat(n),o};t.exports={init:function(t){t(20,w),t(21,b),t(23,b),t(26,b),t(700,parseFloat),t(701,parseFloat),t(16,c),t(1082,o),t(1114,o),t(1184,o),t(600,x),t(651,y),t(718,C),t(1e3,l),t(1001,_),t(1005,f),t(1007,f),t(1028,f),t(1016,h),t(1017,d),t(1021,m),t(1022,m),t(1231,m),t(1014,y),t(1015,y),t(1008,y),t(1009,y),t(1040,y),t(1041,y),t(1115,g),t(1182,g),t(1185,g),t(1186,s),t(1187,v),t(17,a),t(114,JSON.parse.bind(JSON)),t(3802,JSON.parse.bind(JSON)),t(199,E),t(3807,E),t(3907,y),t(2951,y),t(791,y),t(1183,y),t(1270,y)}}},function(t,e){t.exports=function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t};var n=Object.prototype.hasOwnProperty},function(t,e,n){var r=n(53),i=function(t,e,n,r,i){r=r||!1,i=i||function(t,e,n){return t*Math.pow(2,n)+e};var o=(n=n||0)>>3,s=function(t){return r?255&~t:t},a=255,u=8-n%8;e<u&&(a=255<<8-e&255,u=e),n&&(a>>=n%8);var c=0;n%8+e>=8&&(c=i(0,s(t[o])&a,u));for(var l=e+n>>3,p=o+1;p<l;p++)c=i(c,s(t[p]),8);var f=(e+n)%8;return f>0&&(c=i(c,s(t[l])>>8-f,f)),c},o=function(t,e,n){var r=Math.pow(2,n-1)-1,o=i(t,1),s=i(t,n,1);if(0===s)return 0;var a=1,u=i(t,e,n+1,!1,(function(t,e,n){0===t&&(t=1);for(var r=1;r<=n;r++)a/=2,(e&1<<n-r)>0&&(t+=a);return t}));return s==Math.pow(2,n+1)-1?0===u?0===o?1/0:-1/0:NaN:(0===o?1:-1)*Math.pow(2,s-r)*u},s=function(t){return 1==i(t,1)?-1*(i(t,15,1,!0)+1):i(t,15,1)},a=function(t){return 1==i(t,1)?-1*(i(t,31,1,!0)+1):i(t,31,1)},u=function(t){return o(t,23,8)},c=function(t){return o(t,52,11)},l=function(t){var e=i(t,16,32);if(49152==e)return NaN;for(var n=Math.pow(1e4,i(t,16,16)),r=0,o=i(t,16),s=0;s<o;s++)r+=i(t,16,64+16*s)*n,n/=1e4;var a=Math.pow(10,i(t,16,48));return(0===e?1:-1)*Math.round(r*a)/a},p=function(t,e){var n=i(e,1),r=i(e,63,1),o=new Date((0===n?1:-1)*r/1e3+9466848e5);return t||o.setTime(o.getTime()+6e4*o.getTimezoneOffset()),o.usec=r%1e3,o.getMicroSeconds=function(){return this.usec},o.setMicroSeconds=function(t){this.usec=t},o.getUTCMicroSeconds=function(){return this.usec},o},f=function(t){for(var e=i(t,32),n=(i(t,32,32),i(t,32,64)),r=96,o=[],s=0;s<e;s++)o[s]=i(t,32,r),r+=32,r+=32;var a=function(e){var n,o=i(t,32,r);return r+=32,4294967295==o?null:23==e||20==e?(n=i(t,8*o,r),r+=8*o,n):25==e?n=t.toString(this.encoding,r>>3,(r+=o<<3)>>3):void console.log("ERROR: ElementType not implemented: "+e)},u=function(t,e){var n,r=[];if(t.length>1){var i=t.shift();for(n=0;n<i;n++)r[n]=u(t,e);t.unshift(i)}else for(n=0;n<t[0];n++)r[n]=a(e);return r};return u(o,n)},h=function(t){return t.toString("utf8")},d=function(t){return null===t?null:i(t,8)>0};t.exports={init:function(t){t(20,r),t(21,s),t(23,a),t(26,a),t(1700,l),t(700,u),t(701,c),t(16,d),t(1114,p.bind(null,!1)),t(1184,p.bind(null,!0)),t(1e3,f),t(1007,f),t(1016,f),t(1008,f),t(1009,f),t(25,h)}}},function(t,e){t.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}},function(t,e,n){const{ServerFormatting:r}=n(34),{ParameterizedQueryError:i}=n(19),{QueryFile:o}=n(20),{assertOptions:s}=n(6),a={EOL:n(4).EOL,utils:n(0)};class u extends r{constructor(t){super(t="string"==typeof t||t instanceof o?{text:t}:s(t,["text","values","binary","rowMode"]))}}u.prototype.parse=function(){const t=this._inner,e=t.options,n=e.text instanceof o?e.text:null;if(!t.changed&&!n)return t.target;const r=[],s=t.target.values;return t.target={text:e.text},t.changed=!0,t.currentError=void 0,n&&(n.prepare(),n.error?r.push(n.error):t.target.text=n[o.$query]),a.utils.isText(t.target.text)||r.push("Property 'text' must be a non-empty text string."),a.utils.isNull(s)||(t.target.values=s),void 0!==e.binary&&(t.target.binary=!!e.binary),void 0!==e.rowMode&&(t.target.rowMode=e.rowMode),r.length?t.currentError=new i(r[0],t.target):(t.changed=!1,t.target)},u.prototype.toString=function(t){t=t>0?parseInt(t):0;const e=a.utils.messageGap(t+1),n=this.parse(),r=["ParameterizedQuery {"];return a.utils.isText(n.text)&&r.push(e+'text: "'+n.text+'"'),void 0!==this.values&&r.push(e+"values: "+a.utils.toJson(this.values)),void 0!==this.binary&&r.push(e+"binary: "+a.utils.toJson(this.binary)),void 0!==this.rowMode&&r.push(e+"rowMode: "+a.utils.toJson(this.rowMode)),void 0!==this.error&&r.push(e+"error: "+this.error.toString(t+1)),r.push(a.utils.messageGap(t)+"}"),r.join(a.EOL)},t.exports={ParameterizedQuery:u}},function(t,e,n){const{PromiseAdapter:r}=n(43);function i(t){let e;if(t instanceof r)return e=function(e){return t.create(e)},e.resolve=t.resolve,e.reject=t.reject,e.all=t.all,e;const n=typeof t;if("function"===n||"object"===n){const n="function"==typeof t.Promise?t.Promise:t;if(e=function(t){return new n(t)},e.resolve=n.resolve,e.reject=n.reject,e.all=n.all,"function"==typeof e.resolve&&"function"==typeof e.reject&&"function"==typeof e.all)return e}throw new TypeError("Invalid promise library specified.")}t.exports={parsePromise:function(t){const e={promiseLib:t};return t?e.promise=i(t):(e.promise=i(Promise),e.promiseLib=Promise),e}}},function(t,e,n){"use strict";var r=n(120),i=n(26),o=n(59),s=n(63);const a=t=>class extends s{constructor(e){super(e,t)}};var u=function(t){this.defaults=i,this.Client=t,this.Query=this.Client.Query,this.Pool=a(this.Client),this._pools=[],this.Connection=o,this.types=n(10)};void 0!==process.env.NODE_PG_FORCE_NATIVE?t.exports=new u(n(72)):(t.exports=new u(r),Object.defineProperty(t.exports,"native",{configurable:!0,enumerable:!1,get(){var e=null;try{e=new u(n(72))}catch(t){if("MODULE_NOT_FOUND"!==t.code)throw t;console.error(t.message)}return Object.defineProperty(t.exports,"native",{value:e}),e}}))},function(t,e,n){"use strict";var r=n(7).EventEmitter,i=n(2),o=n(24),s=n(121),a=n(54),u=n(55),c=n(56),l=n(126),p=n(26),f=n(59),h=function(t){r.call(this),this.connectionParameters=new c(t),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var e=t||{};this._Promise=e.Promise||global.Promise,this._types=new u(e.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=e.connection||new f({stream:e.stream,ssl:this.connectionParameters.ssl,keepAlive:e.keepAlive||!1,keepAliveInitialDelayMillis:e.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=e.binary||p.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this._connectionTimeoutMillis=e.connectionTimeoutMillis||0};i.inherits(h,r),h.prototype._errorAllQueries=function(t){const e=e=>{process.nextTick(()=>{e.handleError(t,this.connection)})};this.activeQuery&&(e(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(e),this.queryQueue.length=0},h.prototype._connect=function(t){var e,n,r=this,i=this.connection;if(this._connecting||this._connected){const e=new Error("Client has already been connected. You cannot reuse a client.");return void process.nextTick(()=>{t(e)})}function u(t){return function(e){"function"==typeof r.password?r._Promise.resolve().then(()=>r.password()).then(n=>{if(void 0!==n){if("string"!=typeof n)return void i.emit("error",new TypeError("Password must be a string"));r.connectionParameters.password=r.password=n}else r.connectionParameters.password=r.password=null;t(e)}).catch(t=>{i.emit("error",t)}):null!==r.password?t(e):a(r.connectionParameters,(function(n){void 0!==n&&(r.connectionParameters.password=r.password=n),t(e)}))}}this._connecting=!0,this._connectionTimeoutMillis>0&&(e=setTimeout(()=>{i._ending=!0,i.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&0===this.host.indexOf("/")?i.connect(this.host+"/.s.PGSQL."+this.port):i.connect(this.port,this.host),i.on("connect",(function(){r.ssl?i.requestSsl():i.startup(r.getStartupConf())})),i.on("sslconnect",(function(){i.startup(r.getStartupConf())})),i.on("authenticationCleartextPassword",u((function(){i.password(r.password)}))),i.on("authenticationMD5Password",u((function(t){i.password(o.postgresMd5PasswordHash(r.user,r.password,t.salt))}))),i.on("authenticationSASL",u((function(t){n=s.startSession(t.mechanisms),i.sendSASLInitialResponseMessage(n.mechanism,n.response)}))),i.on("authenticationSASLContinue",(function(t){s.continueSession(n,r.password,t.data),i.sendSCRAMClientFinalMessage(n.response)})),i.on("authenticationSASLFinal",(function(t){s.finalizeSession(n,t.data),n=null})),i.once("backendKeyData",(function(t){r.processID=t.processID,r.secretKey=t.secretKey}));const c=n=>{if(!this._connectionError){if(this._connectionError=!0,clearTimeout(e),t)return t(n);this.emit("error",n)}},l=t=>{this._queryable=!1,this._errorAllQueries(t),this.emit("error",t)},p=t=>{const e=this.activeQuery;e?(this.activeQuery=null,e.handleError(t,i)):l(t)};i.on("error",c),i.on("errorMessage",c),i.once("readyForQuery",(function(){r._connecting=!1,r._connected=!0,r._attachListeners(i),i.removeListener("error",c),i.removeListener("errorMessage",c),i.on("error",l),i.on("errorMessage",p),clearTimeout(e),t&&(t(null,r),t=null),r.emit("connect")})),i.on("readyForQuery",(function(){var t=r.activeQuery;r.activeQuery=null,r.readyForQuery=!0,t&&t.handleReadyForQuery(i),r._pulseQueryQueue()})),i.once("end",()=>{const n=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(e),this._errorAllQueries(n),this._ending||(this._connecting&&!this._connectionError?t?t(n):l(n):this._connectionError||l(n)),process.nextTick(()=>{this.emit("end")})}),i.on("notice",(function(t){r.emit("notice",t)}))},h.prototype.connect=function(t){if(!t)return new this._Promise((t,e)=>{this._connect(n=>{n?e(n):t()})});this._connect(t)},h.prototype._attachListeners=function(t){const e=this;t.on("rowDescription",(function(t){e.activeQuery.handleRowDescription(t)})),t.on("dataRow",(function(t){e.activeQuery.handleDataRow(t)})),t.on("portalSuspended",(function(n){e.activeQuery.handlePortalSuspended(t)})),t.on("emptyQuery",(function(n){e.activeQuery.handleEmptyQuery(t)})),t.on("commandComplete",(function(n){e.activeQuery.handleCommandComplete(n,t)})),t.on("parseComplete",(function(n){e.activeQuery.name&&(t.parsedStatements[e.activeQuery.name]=e.activeQuery.text)})),t.on("copyInResponse",(function(t){e.activeQuery.handleCopyInResponse(e.connection)})),t.on("copyData",(function(t){e.activeQuery.handleCopyData(t,e.connection)})),t.on("notification",(function(t){e.emit("notification",t)}))},h.prototype.getStartupConf=function(){var t=this.connectionParameters,e={user:t.user,database:t.database},n=t.application_name||t.fallback_application_name;return n&&(e.application_name=n),t.replication&&(e.replication=""+t.replication),t.statement_timeout&&(e.statement_timeout=String(parseInt(t.statement_timeout,10))),t.idle_in_transaction_session_timeout&&(e.idle_in_transaction_session_timeout=String(parseInt(t.idle_in_transaction_session_timeout,10))),e},h.prototype.cancel=function(t,e){if(t.activeQuery===e){var n=this.connection;this.host&&0===this.host.indexOf("/")?n.connect(this.host+"/.s.PGSQL."+this.port):n.connect(this.port,this.host),n.on("connect",(function(){n.cancel(t.processID,t.secretKey)}))}else-1!==t.queryQueue.indexOf(e)&&t.queryQueue.splice(t.queryQueue.indexOf(e),1)},h.prototype.setTypeParser=function(t,e,n){return this._types.setTypeParser(t,e,n)},h.prototype.getTypeParser=function(t,e){return this._types.getTypeParser(t,e)},h.prototype.escapeIdentifier=function(t){return'"'+t.replace(/"/g,'""')+'"'},h.prototype.escapeLiteral=function(t){for(var e=!1,n="'",r=0;r<t.length;r++){var i=t[r];"'"===i?n+=i+i:"\\"===i?(n+=i+i,e=!0):n+=i}return n+="'",!0===e&&(n=" E"+n),n},h.prototype._pulseQueryQueue=function(){if(!0===this.readyForQuery)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;const t=this.activeQuery.submit(this.connection);t&&process.nextTick(()=>{this.activeQuery.handleError(t,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))},h.prototype.query=function(t,e,n){var r,i,o,s,a;if(null==t)throw new TypeError("Client was passed a null or undefined query");return"function"==typeof t.submit?(o=t.query_timeout||this.connectionParameters.query_timeout,i=r=t,"function"==typeof e&&(r.callback=r.callback||e)):(o=this.connectionParameters.query_timeout,(r=new l(t,e,n)).callback||(i=new this._Promise((t,e)=>{r.callback=(n,r)=>n?e(n):t(r)}))),o&&(a=r.callback,s=setTimeout(()=>{var t=new Error("Query read timeout");process.nextTick(()=>{r.handleError(t,this.connection)}),a(t),r.callback=()=>{};var e=this.queryQueue.indexOf(r);e>-1&&this.queryQueue.splice(e,1),this._pulseQueryQueue()},o),r.callback=(t,e)=>{clearTimeout(s),a(t,e)}),this.binary&&!r.binary&&(r.binary=!0),r._result&&!r._result._types&&(r._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{r.handleError(new Error("Client was closed and is not queryable"),this.connection)}),i):(this.queryQueue.push(r),this._pulseQueryQueue(),i):(process.nextTick(()=>{r.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),i)},h.prototype.end=function(t){if(this._ending=!0,!this.connection._connecting){if(!t)return this._Promise.resolve();t()}if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),!t)return new this._Promise(t=>{this.connection.once("end",t)});this.connection.once("end",t)},h.Query=l,t.exports=h},function(t,e,n){"use strict";const r=n(25);function i(t,e){Buffer.isBuffer(t)||(t=Buffer.from(t)),Buffer.isBuffer(e)||(e=Buffer.from(e));var n=[];if(t.length>e.length)for(var r=0;r<e.length;r++)n.push(t[r]^e[r]);else for(var i=0;i<t.length;i++)n.push(t[i]^e[i]);return Buffer.from(n)}function o(t,e){return r.createHmac("sha256",t).update(e).digest()}t.exports={startSession:function(t){if(-1===t.indexOf("SCRAM-SHA-256"))throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");const e=r.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:e,response:"n,,n=*,r="+e,message:"SASLInitialResponse"}},continueSession:function(t,e,n){if("SASLInitialResponse"!==t.message)throw new Error("SASL: Last message was not SASLInitialResponse");const s=function(t){var e,n,r;if(String(t).split(",").forEach((function(t){switch(t[0]){case"r":e=t.substr(2);break;case"s":n=t.substr(2);break;case"i":r=parseInt(t.substr(2),10)}})),!e)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");if(!n)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");if(!r)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:e,salt:n,iteration:r}}(n);if(!s.nonce.startsWith(t.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var a=function(t,e,n){for(var r=o(t,Buffer.concat([e,Buffer.from([0,0,0,1])])),s=r,a=0;a<n-1;a++)r=o(t,r),s=i(s,r);return s}(e,Buffer.from(s.salt,"base64"),s.iteration),u=o(a,"Client Key"),c=r.createHash("sha256").update(u).digest(),l="n=*,r="+t.clientNonce,p="r="+s.nonce+",s="+s.salt+",i="+s.iteration,f="c=biws,r="+s.nonce,h=l+","+p+","+f,d=i(u,o(c,h)).toString("base64"),m=o(a,"Server Key"),y=o(m,h);t.message="SASLResponse",t.serverSignature=y.toString("base64"),t.response=f+",p="+d},finalizeSession:function(t,e){if("SASLResponse"!==t.message)throw new Error("SASL: Last message was not SASLResponse");var n;if(String(e).split(",").forEach((function(t){switch(t[0]){case"v":n=t.substr(2)}})),n!==t.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}}},function(t,e,n){"use strict";var r=n(3),i=n(16).Stream,o=n(123),s=n(2),a="win32"===process.platform,u=process.stderr;var c=["host","port","database","user","password"],l=c.length,p=c[l-1];function f(){var t=u instanceof i&&!0===u.writable;if(t){var e=Array.prototype.slice.call(arguments).concat("\n");u.write(s.format.apply(s,e))}}Object.defineProperty(t.exports,"isWin",{get:function(){return a},set:function(t){a=t}}),t.exports.warnTo=function(t){var e=u;return u=t,e},t.exports.getFileName=function(t){return(t=t||process.env).PGPASSFILE||(a?r.join(t.APPDATA,"postgresql","pgpass.conf"):r.join(t.HOME,".pgpass"))},t.exports.usePgPass=function(t,e){return!Object.prototype.hasOwnProperty.call(process.env,"PGPASSWORD")&&(!!a||(e=e||"<unkn>",32768!=(61440&t.mode)?(f('WARNING: password file "%s" is not a plain file',e),!1):!(63&t.mode)||(f('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',e),!1)))};var h=t.exports.match=function(t,e){return c.slice(0,-1).reduce((function(n,r,i){return 1==i&&Number(t[r]||5432)===Number(e[r])?n&&!0:n&&("*"===e[r]||e[r]===t[r])}),!0)};t.exports.getPassword=function(t,e,n){var r,i=e.pipe(new o);var s=function(t){e.destroy(),f("WARNING: error on reading file: %s",t),n(void 0)};e.on("error",s),i.on("data",(function(e){var n=d(e);n&&m(n)&&h(t,n)&&(r=n[p],i.end())})).on("end",(function(){e.destroy(),n(r)})).on("error",s)};var d=t.exports.parseLine=function(t){if(t.length<11||t.match(/^\s+#/))return null;for(var e="",n="",r=0,i=0,o={},s=function(e,n,r){var i=t.substring(n,r);Object.hasOwnProperty.call(process.env,"PGPASS_NO_DEESCAPE")||(i=i.replace(/\\([:\\])/g,"$1")),o[c[e]]=i},a=0;a<t.length-1;a+=1){if(e=t.charAt(a+1),n=t.charAt(a),r==l-1){s(r,i);break}a>=0&&":"==e&&"\\"!==n&&(s(r,i,a+1),i=a+2,r+=1)}return o=Object.keys(o).length===l?o:null},m=t.exports.isValidEntry=function(t){for(var e={0:function(t){return t.length>0},1:function(t){return"*"===t||(t=Number(t),isFinite(t)&&t>0&&t<9007199254740992&&Math.floor(t)===t)},2:function(t){return t.length>0},3:function(t){return t.length>0},4:function(t){return t.length>0}},n=0;n<c.length;n+=1){if(!(0,e[n])(t[c[n]]||""))return!1}return!0}},function(t,e,n){var r=n(124),i=n(125).StringDecoder;t.exports=function(t,e,n){var o=new i,s="",a=n&&n.maxLength,u=!n||!1!==n.trailing;"function"==typeof t&&(e=t,t=null);t||(t=/\r?\n/);function c(t,n){if(e){try{n=e(n)}catch(e){return t.emit("error",e)}void 0!==n&&t.queue(n)}else t.queue(n)}function l(e,n){var r=((null!=s?s:"")+n).split(t);if(s=r.pop(),a&&s.length>a)return e.emit("error",new Error("maximum buffer reached"));for(var i=0;i<r.length;i++){c(e,r[i])}}return r((function(t){l(this,o.write(t))}),(function(){o.end&&l(this,o.end()),u&&null!=s&&c(this,s),this.queue(null)}))}},function(t,e,n){var r=n(16);function i(t,e,n){t=t||function(t){this.queue(t)},e=e||function(){this.queue(null)};var i=!1,o=!1,s=[],a=!1,u=new r;function c(){for(;s.length&&!u.paused;){var t=s.shift();if(null===t)return u.emit("end");u.emit("data",t)}}function l(){u.writable=!1,e.call(u),!u.readable&&u.autoDestroy&&u.destroy()}return u.readable=u.writable=!0,u.paused=!1,u.autoDestroy=!(n&&!1===n.autoDestroy),u.write=function(e){return t.call(this,e),!u.paused},u.queue=u.push=function(t){return a||(null===t&&(a=!0),s.push(t),c()),u},u.on("end",(function(){u.readable=!1,!u.writable&&u.autoDestroy&&process.nextTick((function(){u.destroy()}))})),u.end=function(t){if(!i)return i=!0,arguments.length&&u.write(t),l(),u},u.destroy=function(){if(!o)return o=!0,i=!0,s.length=0,u.writable=u.readable=!1,u.emit("close"),u},u.pause=function(){if(!u.paused)return u.paused=!0,u},u.resume=function(){return u.paused&&(u.paused=!1,u.emit("resume")),c(),u.paused||u.emit("drain"),u},u}t.exports=i,i.through=i},function(t,e){t.exports=require("string_decoder")},function(t,e,n){"use strict";const{EventEmitter:r}=n(7),i=n(127),o=n(24);t.exports=class extends r{constructor(t,e,n){super(),t=o.normalizeQueryConfig(t,e,n),this.text=t.text,this.values=t.values,this.rows=t.rows,this.types=t.types,this.name=t.name,this.binary=t.binary,this.portal=t.portal||"",this.callback=t.callback,this._rowMode=t.rowMode,process.domain&&t.callback&&(this.callback=process.domain.bind(t.callback)),this._result=new i(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return!!this.name||(!!this.rows||!!this.text&&(!!this.values&&this.values.length>0))}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new i(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(t){this._checkForMultirow(),this._result.addFields(t.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(t){let e;if(!this._canceledDueToError){try{e=this._result.parseRow(t.fields)}catch(t){return void(this._canceledDueToError=t)}this.emit("row",e,this._result),this._accumulateRows&&this._result.addRow(e)}}handleCommandComplete(t,e){this._checkForMultirow(),this._result.addCommandComplete(t),this.isPreparedStatement&&e.sync()}handleEmptyQuery(t){this.isPreparedStatement&&t.sync()}handleReadyForQuery(t){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,t);this.callback&&this.callback(null,this._results),this.emit("end",this._results)}handleError(t,e){if(this.isPreparedStatement&&e.sync(),this._canceledDueToError&&(t=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(t);this.emit("error",t)}submit(t){if("string"!=typeof this.text&&"string"!=typeof this.name)return new Error("A query must have either text or a name. Supplying neither is unsupported.");const e=t.parsedStatements[this.name];return this.text&&e&&this.text!==e?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(t):t.query(this.text),null)}hasBeenParsed(t){return this.name&&t.parsedStatements[this.name]}handlePortalSuspended(t){this._getRows(t,this.rows)}_getRows(t,e){t.execute({portal:this.portal,rows:e},!0),t.flush()}prepare(t){if(this.isPreparedStatement=!0,this.hasBeenParsed(t)||t.parse({text:this.text,name:this.name,types:this.types},!0),this.values)try{this.values=this.values.map(o.prepareValue)}catch(e){return void this.handleError(e,t)}t.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary},!0),t.describe({type:"P",name:this.portal||""},!0),this._getRows(t,this.rows)}handleCopyInResponse(t){t.sendCopyFail("No source stream defined")}handleCopyData(t,e){}}},function(t,e,n){"use strict";var r=n(10),i=function(t,e){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=e,this.RowCtor=null,this.rowAsArray="array"===t,this.rowAsArray&&(this.parseRow=this._parseRowAsArray)},o=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/;i.prototype.addCommandComplete=function(t){var e;(e=t.text?o.exec(t.text):o.exec(t.command))&&(this.command=e[1],e[3]?(this.oid=parseInt(e[2],10),this.rowCount=parseInt(e[3],10)):e[2]&&(this.rowCount=parseInt(e[2],10)))},i.prototype._parseRowAsArray=function(t){for(var e=new Array(t.length),n=0,r=t.length;n<r;n++){var i=t[n];e[n]=null!==i?this._parsers[n](i):null}return e},i.prototype.parseRow=function(t){for(var e={},n=0,r=t.length;n<r;n++){var i=t[n],o=this.fields[n].name;e[o]=null!==i?this._parsers[n](i):null}return e},i.prototype.addRow=function(t){this.rows.push(t)},i.prototype.addFields=function(t){this.fields=t,this.fields.length&&(this._parsers=new Array(t.length));for(var e=0;e<t.length;e++){var n=t[e];this._types?this._parsers[e]=this._types.getTypeParser(n.dataTypeID,n.format||"text"):this._parsers[e]=r.getTypeParser(n.dataTypeID,n.format||"text")}},t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(129),i=new r.Writer,o=[],s=Buffer.from([69,0,0,0,9,0,0,0,0,0]),a=(t,e)=>{const n=4+Buffer.byteLength(e)+1,r=Buffer.allocUnsafe(1+n);return r[0]=t,r.writeInt32BE(n,1),r.write(e,5,"utf-8"),r[n]=0,r},u=i.addCString("P").flush(68),c=i.addCString("S").flush(68),l=t=>Buffer.from([t,0,0,0,4]),p=l(72),f=l(83),h=l(88),d=l(99),m={startup:t=>{i.addInt16(3).addInt16(0);for(const e of Object.keys(t))i.addCString(e).addCString(t[e]);i.addCString("client_encoding").addCString("UTF8");var e=i.addCString("").flush(),n=e.length+4;return(new r.Writer).addInt32(n).add(e).flush()},password:t=>i.addCString(t).flush(112),requestSsl:()=>{const t=Buffer.allocUnsafe(8);return t.writeInt32BE(8,0),t.writeInt32BE(80877103,4),t},sendSASLInitialResponseMessage:function(t,e){return i.addCString(t).addInt32(Buffer.byteLength(e)).addString(e),i.flush(112)},sendSCRAMClientFinalMessage:function(t){return i.addString(t).flush(112)},query:t=>i.addCString(t).flush(81),parse:t=>{const e=t.name||"";e.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",e,e.length),console.error("This can cause conflicts and silent errors executing queries"));const n=t.types||o;for(var r=n.length,s=i.addCString(e).addCString(t.text).addInt16(r),a=0;a<r;a++)s.addInt32(n[a]);return i.flush(80)},bind:(t={})=>{const e=t.portal||"",n=t.statement||"",r=t.binary||!1;for(var s=t.values||o,a=s.length,u=!1,c=0;c<a;c++)u=u||s[c]instanceof Buffer;var l=i.addCString(e).addCString(n);if(u)for(l.addInt16(a),c=0;c<a;c++)l.addInt16(s[c]instanceof Buffer?1:0);else l.addInt16(0);l.addInt16(a);for(var p=0;p<a;p++){var f=s[p];null==f?l.addInt32(-1):f instanceof Buffer?(l.addInt32(f.length),l.add(f)):(l.addInt32(Buffer.byteLength(f)),l.addString(f))}return r?(l.addInt16(1),l.addInt16(1)):l.addInt16(0),i.flush(66)},execute:t=>{if(!t||!t.portal&&!t.rows)return s;const e=t.portal||"",n=t.rows||0,r=Buffer.byteLength(e),i=4+r+1+4,o=Buffer.allocUnsafe(1+i);return o[0]=69,o.writeInt32BE(i,1),o.write(e,5,"utf-8"),o[r+5]=0,o.writeUInt32BE(n,o.length-4),o},describe:t=>t.name?a(68,`${t.type}${t.name||""}`):"P"===t.type?u:c,close:t=>{const e=`${t.type}${t.name||""}`;return a(67,e)},flush:()=>p,sync:()=>f,end:()=>h,copyData:t=>i.add(t).flush(100),copyDone:()=>d,copyFail:t=>a(102,t),cancel:(t,e)=>{const n=Buffer.allocUnsafe(16);return n.writeInt32BE(16,0),n.writeInt16BE(1234,4),n.writeInt16BE(5678,6),n.writeInt32BE(t,8),n.writeInt32BE(e,12),n}};e.serialize=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Writer=class{constructor(t=256){this.size=t,this.offset=5,this.headerPosition=0,this.buffer=Buffer.alloc(t)}ensure(t){if(this.buffer.length-this.offset<t){var e=this.buffer,n=e.length+(e.length>>1)+t;this.buffer=Buffer.alloc(n),e.copy(this.buffer)}}addInt32(t){return this.ensure(4),this.buffer[this.offset++]=t>>>24&255,this.buffer[this.offset++]=t>>>16&255,this.buffer[this.offset++]=t>>>8&255,this.buffer[this.offset++]=t>>>0&255,this}addInt16(t){return this.ensure(2),this.buffer[this.offset++]=t>>>8&255,this.buffer[this.offset++]=t>>>0&255,this}addCString(t){if(t){var e=Buffer.byteLength(t);this.ensure(e+1),this.buffer.write(t,this.offset,"utf-8"),this.offset+=e}else this.ensure(1);return this.buffer[this.offset++]=0,this}addString(t=""){var e=Buffer.byteLength(t);return this.ensure(e),this.buffer.write(t,this.offset),this.offset+=e,this}add(t){return this.ensure(t.length),t.copy(this.buffer,this.offset),this.offset+=t.length,this}join(t){if(t){this.buffer[this.headerPosition]=t;const e=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(e,this.headerPosition+1)}return this.buffer.slice(t?0:5,this.offset)}flush(t){var e=this.join(t);return this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(this.size),e}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(131),o=n(132),s=r(n(17)),a=Buffer.allocUnsafe(0);e.Parser=class{constructor(t){var e,n;if(this.buffer=a,this.bufferLength=0,this.bufferOffset=0,this.reader=new o.BufferReader,"binary"===(null===(e=t)||void 0===e?void 0:e.mode))throw new Error("Binary mode not supported yet");this.mode=(null===(n=t)||void 0===n?void 0:n.mode)||"text"}parse(t,e){this.mergeBuffer(t);const n=this.bufferOffset+this.bufferLength;let r=this.bufferOffset;for(;r+5<=n;){const t=this.buffer[r],i=this.buffer.readUInt32BE(r+1),o=1+i;if(!(o+r<=n))break;e(this.handlePacket(r+5,t,i,this.buffer)),r+=o}r===n?(this.buffer=a,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=n-r,this.bufferOffset=r)}mergeBuffer(t){if(this.bufferLength>0){const e=this.bufferLength+t.byteLength;if(e+this.bufferOffset>this.buffer.byteLength){let t;if(e<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)t=this.buffer;else{let n=2*this.buffer.byteLength;for(;e>=n;)n*=2;t=Buffer.allocUnsafe(n)}this.buffer.copy(t,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=t,this.bufferOffset=0}t.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=e}else this.buffer=t,this.bufferOffset=0,this.bufferLength=t.byteLength}handlePacket(t,e,n,r){switch(e){case 50:return i.bindComplete;case 49:return i.parseComplete;case 51:return i.closeComplete;case 110:return i.noData;case 115:return i.portalSuspended;case 99:return i.copyDone;case 87:return i.replicationStart;case 73:return i.emptyQuery;case 68:return this.parseDataRowMessage(t,n,r);case 67:return this.parseCommandCompleteMessage(t,n,r);case 90:return this.parseReadyForQueryMessage(t,n,r);case 65:return this.parseNotificationMessage(t,n,r);case 82:return this.parseAuthenticationResponse(t,n,r);case 83:return this.parseParameterStatusMessage(t,n,r);case 75:return this.parseBackendKeyData(t,n,r);case 69:return this.parseErrorMessage(t,n,r,"error");case 78:return this.parseErrorMessage(t,n,r,"notice");case 84:return this.parseRowDescriptionMessage(t,n,r);case 71:return this.parseCopyInMessage(t,n,r);case 72:return this.parseCopyOutMessage(t,n,r);case 100:return this.parseCopyData(t,n,r);default:s.default.fail("unknown message code: "+e.toString(16))}}parseReadyForQueryMessage(t,e,n){this.reader.setBuffer(t,n);const r=this.reader.string(1);return new i.ReadyForQueryMessage(e,r)}parseCommandCompleteMessage(t,e,n){this.reader.setBuffer(t,n);const r=this.reader.cstring();return new i.CommandCompleteMessage(e,r)}parseCopyData(t,e,n){const r=n.slice(t,t+(e-4));return new i.CopyDataMessage(e,r)}parseCopyInMessage(t,e,n){return this.parseCopyMessage(t,e,n,"copyInResponse")}parseCopyOutMessage(t,e,n){return this.parseCopyMessage(t,e,n,"copyOutResponse")}parseCopyMessage(t,e,n,r){this.reader.setBuffer(t,n);const o=0!==this.reader.byte(),s=this.reader.int16(),a=new i.CopyResponse(e,r,o,s);for(let t=0;t<s;t++)a.columnTypes[t]=this.reader.int16();return a}parseNotificationMessage(t,e,n){this.reader.setBuffer(t,n);const r=this.reader.int32(),o=this.reader.cstring(),s=this.reader.cstring();return new i.NotificationResponseMessage(e,r,o,s)}parseRowDescriptionMessage(t,e,n){this.reader.setBuffer(t,n);const r=this.reader.int16(),o=new i.RowDescriptionMessage(e,r);for(let t=0;t<r;t++)o.fields[t]=this.parseField();return o}parseField(){const t=this.reader.cstring(),e=this.reader.int32(),n=this.reader.int16(),r=this.reader.int32(),o=this.reader.int16(),s=this.reader.int32(),a=0===this.reader.int16()?"text":"binary";return new i.Field(t,e,n,r,o,s,a)}parseDataRowMessage(t,e,n){this.reader.setBuffer(t,n);const r=this.reader.int16(),o=new Array(r);for(let t=0;t<r;t++){const e=this.reader.int32();o[t]=-1===e?null:this.reader.string(e)}return new i.DataRowMessage(e,o)}parseParameterStatusMessage(t,e,n){this.reader.setBuffer(t,n);const r=this.reader.cstring(),o=this.reader.cstring();return new i.ParameterStatusMessage(e,r,o)}parseBackendKeyData(t,e,n){this.reader.setBuffer(t,n);const r=this.reader.int32(),o=this.reader.int32();return new i.BackendKeyDataMessage(e,r,o)}parseAuthenticationResponse(t,e,n){this.reader.setBuffer(t,n);const r=this.reader.int32(),o={name:"authenticationOk",length:e};switch(r){case 0:break;case 3:8===o.length&&(o.name="authenticationCleartextPassword");break;case 5:if(12===o.length){o.name="authenticationMD5Password";const t=this.reader.bytes(4);return new i.AuthenticationMD5Password(e,t)}break;case 10:let t;o.name="authenticationSASL",o.mechanisms=[];do{t=this.reader.cstring(),t&&o.mechanisms.push(t)}while(t);break;case 11:o.name="authenticationSASLContinue",o.data=this.reader.string(e-8);break;case 12:o.name="authenticationSASLFinal",o.data=this.reader.string(e-8);break;default:throw new Error("Unknown authenticationOk message type "+r)}return o}parseErrorMessage(t,e,n,r){this.reader.setBuffer(t,n);const o={};let s=this.reader.string(1);for(;"\0"!==s;)o[s]=this.reader.cstring(),s=this.reader.string(1);const a=o.M,u="notice"===r?new i.NoticeMessage(e,a):new i.DatabaseError(a,e,r);return u.severity=o.S,u.code=o.C,u.detail=o.D,u.hint=o.H,u.position=o.P,u.internalPosition=o.p,u.internalQuery=o.q,u.where=o.W,u.schema=o.s,u.table=o.t,u.column=o.c,u.dataType=o.d,u.constraint=o.n,u.file=o.F,u.line=o.L,u.routine=o.R,u}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseComplete={name:"parseComplete",length:5},e.bindComplete={name:"bindComplete",length:5},e.closeComplete={name:"closeComplete",length:5},e.noData={name:"noData",length:5},e.portalSuspended={name:"portalSuspended",length:5},e.replicationStart={name:"replicationStart",length:4},e.emptyQuery={name:"emptyQuery",length:4},e.copyDone={name:"copyDone",length:4};class r extends Error{constructor(t,e,n){super(t),this.length=e,this.name=n}}e.DatabaseError=r;e.CopyDataMessage=class{constructor(t,e){this.length=t,this.chunk=e,this.name="copyData"}};e.CopyResponse=class{constructor(t,e,n,r){this.length=t,this.name=e,this.binary=n,this.columnTypes=new Array(r)}};e.Field=class{constructor(t,e,n,r,i,o,s){this.name=t,this.tableID=e,this.columnID=n,this.dataTypeID=r,this.dataTypeSize=i,this.dataTypeModifier=o,this.format=s}};e.RowDescriptionMessage=class{constructor(t,e){this.length=t,this.fieldCount=e,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};e.ParameterStatusMessage=class{constructor(t,e,n){this.length=t,this.parameterName=e,this.parameterValue=n,this.name="parameterStatus"}};e.AuthenticationMD5Password=class{constructor(t,e){this.length=t,this.salt=e,this.name="authenticationMD5Password"}};e.BackendKeyDataMessage=class{constructor(t,e,n){this.length=t,this.processID=e,this.secretKey=n,this.name="backendKeyData"}};e.NotificationResponseMessage=class{constructor(t,e,n,r){this.length=t,this.processId=e,this.channel=n,this.payload=r,this.name="notification"}};e.ReadyForQueryMessage=class{constructor(t,e){this.length=t,this.status=e,this.name="readyForQuery"}};e.CommandCompleteMessage=class{constructor(t,e){this.length=t,this.text=e,this.name="commandComplete"}};e.DataRowMessage=class{constructor(t,e){this.length=t,this.fields=e,this.name="dataRow",this.fieldCount=e.length}};e.NoticeMessage=class{constructor(t,e){this.length=t,this.message=e,this.name="notice"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=Buffer.allocUnsafe(0);e.BufferReader=class{constructor(t=0){this.offset=t,this.buffer=r,this.encoding="utf-8"}setBuffer(t,e){this.offset=t,this.buffer=e}int16(){const t=this.buffer.readInt16BE(this.offset);return this.offset+=2,t}byte(){const t=this.buffer[this.offset];return this.offset++,t}int32(){const t=this.buffer.readInt32BE(this.offset);return this.offset+=4,t}string(t){const e=this.buffer.toString(this.encoding,this.offset,this.offset+t);return this.offset+=t,e}cstring(){const t=this.offset;let e=t;for(;0!==this.buffer[e++];);return this.offset=e,this.buffer.toString(this.encoding,t,e-1)}bytes(t){const e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e}}},function(t,e,n){"use strict";var r=n(134),i=n(27),o=n(66),s=n(63);const a=t=>class extends s{constructor(e){super(e,t)}};var u=function(t){this.defaults=i,this.Client=t,this.Query=this.Client.Query,this.Pool=a(this.Client),this._pools=[],this.Connection=o,this.types=n(10)};void 0!==process.env.NODE_PG_FORCE_NATIVE?t.exports=new u(n(67)):(t.exports=new u(r),Object.defineProperty(t.exports,"native",{configurable:!0,enumerable:!1,get(){var e=null;try{e=new u(n(67))}catch(t){if("MODULE_NOT_FOUND"!==t.code)throw t;console.error(t.message)}return Object.defineProperty(t.exports,"native",{value:e}),e}}))},function(t,e,n){"use strict";var r=n(7).EventEmitter,i=n(2),o=n(39),s=n(135),a=n(54),u=n(64),c=n(65),l=n(136),p=n(27),f=n(66),h=function(t){r.call(this),this.connectionParameters=new c(t),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var e=t||{};this._Promise=e.Promise||global.Promise,this._types=new u(e.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=e.connection||new f({stream:e.stream,ssl:this.connectionParameters.ssl,keepAlive:e.keepAlive||!1,keepAliveInitialDelayMillis:e.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=e.binary||p.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this._connectionTimeoutMillis=e.connectionTimeoutMillis||0};i.inherits(h,r),h.prototype._errorAllQueries=function(t){const e=e=>{process.nextTick(()=>{e.handleError(t,this.connection)})};this.activeQuery&&(e(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(e),this.queryQueue.length=0},h.prototype._connect=function(t){var e,n,r=this,i=this.connection;if(this._connecting||this._connected){const e=new Error("Client has already been connected. You cannot reuse a client.");return void process.nextTick(()=>{t(e)})}function u(t){return function(e){"function"==typeof r.password?r._Promise.resolve().then(()=>r.password()).then(n=>{if(void 0!==n){if("string"!=typeof n)return void i.emit("error",new TypeError("Password must be a string"));r.connectionParameters.password=r.password=n}else r.connectionParameters.password=r.password=null;t(e)}).catch(t=>{i.emit("error",t)}):null!==r.password?t(e):a(r.connectionParameters,(function(n){void 0!==n&&(r.connectionParameters.password=r.password=n),t(e)}))}}this._connecting=!0,this._connectionTimeoutMillis>0&&(e=setTimeout(()=>{i._ending=!0,i.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&0===this.host.indexOf("/")?i.connect(this.host+"/.s.PGSQL."+this.port):i.connect(this.port,this.host),i.on("connect",(function(){r.ssl?i.requestSsl():i.startup(r.getStartupConf())})),i.on("sslconnect",(function(){i.startup(r.getStartupConf())})),i.on("authenticationCleartextPassword",u((function(){i.password(r.password)}))),i.on("authenticationMD5Password",u((function(t){i.password(o.postgresMd5PasswordHash(r.user,r.password,t.salt))}))),i.on("authenticationSASL",u((function(t){n=s.startSession(t.mechanisms),i.sendSASLInitialResponseMessage(n.mechanism,n.response)}))),i.on("authenticationSASLContinue",(function(t){s.continueSession(n,r.password,t.data),i.sendSCRAMClientFinalMessage(n.response)})),i.on("authenticationSASLFinal",(function(t){s.finalizeSession(n,t.data),n=null})),i.once("backendKeyData",(function(t){r.processID=t.processID,r.secretKey=t.secretKey}));const c=n=>{if(!this._connectionError){if(this._connectionError=!0,clearTimeout(e),t)return t(n);this.emit("error",n)}},l=t=>{this._queryable=!1,this._errorAllQueries(t),this.emit("error",t)},p=t=>{const e=this.activeQuery;e?(this.activeQuery=null,e.handleError(t,i)):l(t)};i.on("error",c),i.on("errorMessage",c),i.once("readyForQuery",(function(){r._connecting=!1,r._connected=!0,r._attachListeners(i),i.removeListener("error",c),i.removeListener("errorMessage",c),i.on("error",l),i.on("errorMessage",p),clearTimeout(e),t&&(t(null,r),t=null),r.emit("connect")})),i.on("readyForQuery",(function(){var t=r.activeQuery;r.activeQuery=null,r.readyForQuery=!0,t&&t.handleReadyForQuery(i),r._pulseQueryQueue()})),i.once("end",()=>{const n=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(e),this._errorAllQueries(n),this._ending||(this._connecting&&!this._connectionError?t?t(n):l(n):this._connectionError||l(n)),process.nextTick(()=>{this.emit("end")})}),i.on("notice",(function(t){r.emit("notice",t)}))},h.prototype.connect=function(t){if(!t)return new this._Promise((t,e)=>{this._connect(n=>{n?e(n):t()})});this._connect(t)},h.prototype._attachListeners=function(t){const e=this;t.on("rowDescription",(function(t){e.activeQuery.handleRowDescription(t)})),t.on("dataRow",(function(t){e.activeQuery.handleDataRow(t)})),t.on("portalSuspended",(function(n){e.activeQuery.handlePortalSuspended(t)})),t.on("emptyQuery",(function(n){e.activeQuery.handleEmptyQuery(t)})),t.on("commandComplete",(function(n){e.activeQuery.handleCommandComplete(n,t)})),t.on("parseComplete",(function(n){e.activeQuery.name&&(t.parsedStatements[e.activeQuery.name]=e.activeQuery.text)})),t.on("copyInResponse",(function(t){e.activeQuery.handleCopyInResponse(e.connection)})),t.on("copyData",(function(t){e.activeQuery.handleCopyData(t,e.connection)})),t.on("notification",(function(t){e.emit("notification",t)}))},h.prototype.getStartupConf=function(){var t=this.connectionParameters,e={user:t.user,database:t.database},n=t.application_name||t.fallback_application_name;return n&&(e.application_name=n),t.replication&&(e.replication=""+t.replication),t.statement_timeout&&(e.statement_timeout=String(parseInt(t.statement_timeout,10))),t.idle_in_transaction_session_timeout&&(e.idle_in_transaction_session_timeout=String(parseInt(t.idle_in_transaction_session_timeout,10))),t.options&&(e.options=t.options),e},h.prototype.cancel=function(t,e){if(t.activeQuery===e){var n=this.connection;this.host&&0===this.host.indexOf("/")?n.connect(this.host+"/.s.PGSQL."+this.port):n.connect(this.port,this.host),n.on("connect",(function(){n.cancel(t.processID,t.secretKey)}))}else-1!==t.queryQueue.indexOf(e)&&t.queryQueue.splice(t.queryQueue.indexOf(e),1)},h.prototype.setTypeParser=function(t,e,n){return this._types.setTypeParser(t,e,n)},h.prototype.getTypeParser=function(t,e){return this._types.getTypeParser(t,e)},h.prototype.escapeIdentifier=function(t){return'"'+t.replace(/"/g,'""')+'"'},h.prototype.escapeLiteral=function(t){for(var e=!1,n="'",r=0;r<t.length;r++){var i=t[r];"'"===i?n+=i+i:"\\"===i?(n+=i+i,e=!0):n+=i}return n+="'",!0===e&&(n=" E"+n),n},h.prototype._pulseQueryQueue=function(){if(!0===this.readyForQuery)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;const t=this.activeQuery.submit(this.connection);t&&process.nextTick(()=>{this.activeQuery.handleError(t,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))},h.prototype.query=function(t,e,n){var r,i,o,s,a;if(null==t)throw new TypeError("Client was passed a null or undefined query");return"function"==typeof t.submit?(o=t.query_timeout||this.connectionParameters.query_timeout,i=r=t,"function"==typeof e&&(r.callback=r.callback||e)):(o=this.connectionParameters.query_timeout,(r=new l(t,e,n)).callback||(i=new this._Promise((t,e)=>{r.callback=(n,r)=>n?e(n):t(r)}))),o&&(a=r.callback,s=setTimeout(()=>{var t=new Error("Query read timeout");process.nextTick(()=>{r.handleError(t,this.connection)}),a(t),r.callback=()=>{};var e=this.queryQueue.indexOf(r);e>-1&&this.queryQueue.splice(e,1),this._pulseQueryQueue()},o),r.callback=(t,e)=>{clearTimeout(s),a(t,e)}),this.binary&&!r.binary&&(r.binary=!0),r._result&&!r._result._types&&(r._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{r.handleError(new Error("Client was closed and is not queryable"),this.connection)}),i):(this.queryQueue.push(r),this._pulseQueryQueue(),i):(process.nextTick(()=>{r.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),i)},h.prototype.end=function(t){if(this._ending=!0,!this.connection._connecting){if(!t)return this._Promise.resolve();t()}if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),!t)return new this._Promise(t=>{this.connection.once("end",t)});this.connection.once("end",t)},h.Query=l,t.exports=h},function(t,e,n){"use strict";const r=n(25);function i(t,e){Buffer.isBuffer(t)||(t=Buffer.from(t)),Buffer.isBuffer(e)||(e=Buffer.from(e));var n=[];if(t.length>e.length)for(var r=0;r<e.length;r++)n.push(t[r]^e[r]);else for(var i=0;i<t.length;i++)n.push(t[i]^e[i]);return Buffer.from(n)}function o(t,e){return r.createHmac("sha256",t).update(e).digest()}t.exports={startSession:function(t){if(-1===t.indexOf("SCRAM-SHA-256"))throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");const e=r.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:e,response:"n,,n=*,r="+e,message:"SASLInitialResponse"}},continueSession:function(t,e,n){if("SASLInitialResponse"!==t.message)throw new Error("SASL: Last message was not SASLInitialResponse");const s=function(t){var e,n,r;if(String(t).split(",").forEach((function(t){switch(t[0]){case"r":e=t.substr(2);break;case"s":n=t.substr(2);break;case"i":r=parseInt(t.substr(2),10)}})),!e)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");if(!n)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");if(!r)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:e,salt:n,iteration:r}}(n);if(!s.nonce.startsWith(t.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var a=function(t,e,n){for(var r=o(t,Buffer.concat([e,Buffer.from([0,0,0,1])])),s=r,a=0;a<n-1;a++)r=o(t,r),s=i(s,r);return s}(e,Buffer.from(s.salt,"base64"),s.iteration),u=o(a,"Client Key"),c=r.createHash("sha256").update(u).digest(),l="n=*,r="+t.clientNonce,p="r="+s.nonce+",s="+s.salt+",i="+s.iteration,f="c=biws,r="+s.nonce,h=l+","+p+","+f,d=i(u,o(c,h)).toString("base64"),m=o(a,"Server Key"),y=o(m,h);t.message="SASLResponse",t.serverSignature=y.toString("base64"),t.response=f+",p="+d},finalizeSession:function(t,e){if("SASLResponse"!==t.message)throw new Error("SASL: Last message was not SASLResponse");var n;if(String(e).split(",").forEach((function(t){switch(t[0]){case"v":n=t.substr(2)}})),n!==t.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}}},function(t,e,n){"use strict";const{EventEmitter:r}=n(7),i=n(137),o=n(39);t.exports=class extends r{constructor(t,e,n){super(),t=o.normalizeQueryConfig(t,e,n),this.text=t.text,this.values=t.values,this.rows=t.rows,this.types=t.types,this.name=t.name,this.binary=t.binary,this.portal=t.portal||"",this.callback=t.callback,this._rowMode=t.rowMode,process.domain&&t.callback&&(this.callback=process.domain.bind(t.callback)),this._result=new i(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return!!this.name||(!!this.rows||!!this.text&&(!!this.values&&this.values.length>0))}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new i(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(t){this._checkForMultirow(),this._result.addFields(t.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(t){let e;if(!this._canceledDueToError){try{e=this._result.parseRow(t.fields)}catch(t){return void(this._canceledDueToError=t)}this.emit("row",e,this._result),this._accumulateRows&&this._result.addRow(e)}}handleCommandComplete(t,e){this._checkForMultirow(),this._result.addCommandComplete(t),this.isPreparedStatement&&e.sync()}handleEmptyQuery(t){this.isPreparedStatement&&t.sync()}handleReadyForQuery(t){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,t);this.callback&&this.callback(null,this._results),this.emit("end",this._results)}handleError(t,e){if(this.isPreparedStatement&&e.sync(),this._canceledDueToError&&(t=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(t);this.emit("error",t)}submit(t){if("string"!=typeof this.text&&"string"!=typeof this.name)return new Error("A query must have either text or a name. Supplying neither is unsupported.");const e=t.parsedStatements[this.name];return this.text&&e&&this.text!==e?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(t):t.query(this.text),null)}hasBeenParsed(t){return this.name&&t.parsedStatements[this.name]}handlePortalSuspended(t){this._getRows(t,this.rows)}_getRows(t,e){t.execute({portal:this.portal,rows:e},!0),t.flush()}prepare(t){if(this.isPreparedStatement=!0,this.hasBeenParsed(t)||t.parse({text:this.text,name:this.name,types:this.types},!0),this.values)try{this.values=this.values.map(o.prepareValue)}catch(e){return void this.handleError(e,t)}t.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary},!0),t.describe({type:"P",name:this.portal||""},!0),this._getRows(t,this.rows)}handleCopyInResponse(t){t.sendCopyFail("No source stream defined")}handleCopyData(t,e){}}},function(t,e,n){"use strict";var r=n(10),i=function(t,e){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=e,this.RowCtor=null,this.rowAsArray="array"===t,this.rowAsArray&&(this.parseRow=this._parseRowAsArray)},o=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/;i.prototype.addCommandComplete=function(t){var e;(e=t.text?o.exec(t.text):o.exec(t.command))&&(this.command=e[1],e[3]?(this.oid=parseInt(e[2],10),this.rowCount=parseInt(e[3],10)):e[2]&&(this.rowCount=parseInt(e[2],10)))},i.prototype._parseRowAsArray=function(t){for(var e=new Array(t.length),n=0,r=t.length;n<r;n++){var i=t[n];e[n]=null!==i?this._parsers[n](i):null}return e},i.prototype.parseRow=function(t){for(var e={},n=0,r=t.length;n<r;n++){var i=t[n],o=this.fields[n].name;e[o]=null!==i?this._parsers[n](i):null}return e},i.prototype.addRow=function(t){this.rows.push(t)},i.prototype.addFields=function(t){this.fields=t,this.fields.length&&(this._parsers=new Array(t.length));for(var e=0;e<t.length;e++){var n=t[e];this._types?this._parsers[e]=this._types.getTypeParser(n.dataTypeID,n.format||"text"):this._parsers[e]=r.getTypeParser(n.dataTypeID,n.format||"text")}},t.exports=i},function(t,e,n){"use strict";var r=n(68),i=n(64),o=n(71),s=n(149),a=n(17),u=n(7).EventEmitter,c=n(2),l=n(65),p="Version >= "+s.minNativeVersion+" of pg-native required.";a(o.gte(r.version,s.minNativeVersion),p);var f=n(150),h=t.exports=function(t){u.call(this),t=t||{},this._Promise=t.Promise||global.Promise,this._types=new i(t.types),this.native=new r({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var e=this.connectionParameters=new l(t);this.user=e.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),this.database=e.database,this.host=e.host,this.port=e.port,this.namedQueries={}};h.Query=f,c.inherits(h,u),h.prototype._errorAllQueries=function(t){const e=e=>{process.nextTick(()=>{e.native=this.native,e.handleError(t)})};this._hasActiveQuery()&&(e(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(e),this._queryQueue.length=0},h.prototype._connect=function(t){var e=this;this._connecting?process.nextTick(()=>t(new Error("Client has already been connected. You cannot reuse a client."))):(this._connecting=!0,this.connectionParameters.getLibpqConnectionString((function(n,r){if(n)return t(n);e.native.connect(r,(function(n){if(n)return e.native.end(),t(n);e._connected=!0,e.native.on("error",(function(t){e._queryable=!1,e._errorAllQueries(t),e.emit("error",t)})),e.native.on("notification",(function(t){e.emit("notification",{channel:t.relname,payload:t.extra})})),e.emit("connect"),e._pulseQueryQueue(!0),t()}))})))},h.prototype.connect=function(t){if(!t)return new this._Promise((t,e)=>{this._connect(n=>{n?e(n):t()})});this._connect(t)},h.prototype.query=function(t,e,n){var r,i,o,s,a;if(null==t)throw new TypeError("Client was passed a null or undefined query");if("function"==typeof t.submit)o=t.query_timeout||this.connectionParameters.query_timeout,i=r=t,"function"==typeof e&&(t.callback=e);else if(o=this.connectionParameters.query_timeout,!(r=new f(t,e,n)).callback){let t,e;i=new this._Promise((n,r)=>{t=n,e=r}),r.callback=(n,r)=>n?e(n):t(r)}return o&&(a=r.callback,s=setTimeout(()=>{var t=new Error("Query read timeout");process.nextTick(()=>{r.handleError(t,this.connection)}),a(t),r.callback=()=>{};var e=this._queryQueue.indexOf(r);e>-1&&this._queryQueue.splice(e,1),this._pulseQueryQueue()},o),r.callback=(t,e)=>{clearTimeout(s),a(t,e)}),this._queryable?this._ending?(r.native=this.native,process.nextTick(()=>{r.handleError(new Error("Client was closed and is not queryable"))}),i):(this._queryQueue.push(r),this._pulseQueryQueue(),i):(r.native=this.native,process.nextTick(()=>{r.handleError(new Error("Client has encountered a connection error and is not queryable"))}),i)},h.prototype.end=function(t){var e,n=this;return this._ending=!0,this._connected||this.once("connect",this.end.bind(this,t)),t||(e=new this._Promise((function(e,n){t=t=>t?n(t):e()}))),this.native.end((function(){n._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{n.emit("end"),t&&t()})})),e},h.prototype._hasActiveQuery=function(){return this._activeQuery&&"error"!==this._activeQuery.state&&"end"!==this._activeQuery.state},h.prototype._pulseQueryQueue=function(t){if(this._connected&&!this._hasActiveQuery()){var e=this._queryQueue.shift();if(e){this._activeQuery=e,e.submit(this);var n=this;e.once("_done",(function(){n._pulseQueryQueue()}))}else t||this.emit("drain")}},h.prototype.cancel=function(t){this._activeQuery===t?this.native.cancel((function(){})):-1!==this._queryQueue.indexOf(t)&&this._queryQueue.splice(this._queryQueue.indexOf(t),1)},h.prototype.setTypeParser=function(t,e,n){return this._types.setTypeParser(t,e,n)},h.prototype.getTypeParser=function(t,e){return this._types.getTypeParser(t,e)}},function(t,e,n){(function(t,e){var r=t.exports=n(141)("addon.node").PQ;if(!t.parent){var i=n(3);console.log(i.normalize(e+"/src"))}var o=n(7).EventEmitter,s=n(17);for(var a in o.prototype)r.prototype[a]=o.prototype[a];r.prototype.connectSync=function(t){if(this.connected=!0,t||(t=""),!this.$connectSync(t)){var e=new Error(this.errorMessage());throw this.finish(),e}},r.prototype.connect=function(t,e){this.connected=!0,"function"==typeof t&&(e=t,t=""),t||(t=""),s(e,"Must provide a connection callback"),process.domain&&(e=process.domain.bind(e)),this.$connect(t,e)},r.prototype.errorMessage=function(){return this.$getLastErrorMessage()},r.prototype.socket=function(){return this.$socket()},r.prototype.serverVersion=function(){return this.$serverVersion()},r.prototype.finish=function(){this.connected=!1,this.$finish()},r.prototype.exec=function(t){t||(t=""),this.$exec(t)},r.prototype.execParams=function(t,e){t||(t=""),e||(e=[]),this.$execParams(t,e)},r.prototype.prepare=function(t,e,n){s.equal(arguments.length,3,"Must supply 3 arguments"),t||(t=""),e||(e=""),n=Number(n)||0,this.$prepare(t,e,n)},r.prototype.execPrepared=function(t,e){t||(t=""),e||(e=[]),this.$execPrepared(t,e)},r.prototype.sendQuery=function(t){return t||(t=""),this.$sendQuery(t)},r.prototype.sendQueryParams=function(t,e){return t||(t=""),e||(e=[]),this.$sendQueryParams(t,e)},r.prototype.sendPrepare=function(t,e,n){return s.equal(arguments.length,3,"Must supply 3 arguments"),t||(t=""),e||(e=""),n=Number(n)||0,this.$sendPrepare(t,e,n)},r.prototype.sendQueryPrepared=function(t,e){return t||(t=""),e||(e=[]),this.$sendQueryPrepared(t,e)},r.prototype.getResult=function(){return this.$getResult()},r.prototype.resultStatus=function(){return this.$resultStatus()},r.prototype.resultErrorMessage=function(){return this.$resultErrorMessage()},r.prototype.resultErrorFields=function(){return this.$resultErrorFields()},r.prototype.clear=function(){this.$clear()},r.prototype.ntuples=function(){return this.$ntuples()},r.prototype.nfields=function(){return this.$nfields()},r.prototype.fname=function(t){return this.$fname(t)},r.prototype.ftype=function(t){return this.$ftype(t)},r.prototype.getvalue=function(t,e){return this.$getvalue(t,e)},r.prototype.getisnull=function(t,e){return this.$getisnull(t,e)},r.prototype.cmdStatus=function(){return this.$cmdStatus()},r.prototype.cmdTuples=function(){return this.$cmdTuples()},r.prototype.startReader=function(){s(this.connected,"Must be connected to start reader"),this.$startRead()},r.prototype.stopReader=function(){this.$stopRead()},r.prototype.writable=function(t){return s(this.connected,"Must be connected to start writer"),this.$startWrite(),this.once("writable",t)},r.prototype.consumeInput=function(){return this.$consumeInput()},r.prototype.isBusy=function(){return this.$isBusy()},r.prototype.setNonBlocking=function(t){return this.$setNonBlocking(t?1:0)},r.prototype.isNonBlocking=function(){return this.$isNonBlocking()},r.prototype.flush=function(){return this.$flush()},r.prototype.escapeLiteral=function(t){return t?this.$escapeLiteral(t):t},r.prototype.escapeIdentifier=function(t){return t?this.$escapeIdentifier(t):t},r.prototype.notifies=function(){return this.$notifies()},r.prototype.putCopyData=function(t){return s(t instanceof Buffer),this.$putCopyData(t)},r.prototype.putCopyEnd=function(t){return t?this.$putCopyEnd(t):this.$putCopyEnd()},r.prototype.getCopyData=function(t){return this.$getCopyData(!!t)},r.prototype.cancel=function(){return this.$cancel()}}).call(this,n(140)(t),"/")},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){(function(r){var i=n(15),o=n(3),s=n(142),a=o.join,u=o.dirname,c=i.accessSync&&function(t){try{i.accessSync(t)}catch(t){return!1}return!0}||i.existsSync||o.existsSync,l={arrow:process.env.NODE_BINDINGS_ARROW||" → ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};t.exports=e=function(t){"string"==typeof t?t={bindings:t}:t||(t={}),Object.keys(l).map((function(e){e in t||(t[e]=l[e])})),t.module_root||(t.module_root=e.getRoot(e.getFileName())),".node"!=o.extname(t.bindings)&&(t.bindings+=".node");for(var n,r,i,s=require,u=[],c=0,p=t.try.length;c<p;c++){n=a.apply(null,t.try[c].map((function(e){return t[e]||e}))),u.push(n);try{return r=t.path?s.resolve(n):s(n),t.path||(r.path=n),r}catch(t){if("MODULE_NOT_FOUND"!==t.code&&"QUALIFIED_PATH_RESOLUTION_FAILED"!==t.code&&!/not find/i.test(t.message))throw t}}throw(i=new Error("Could not locate the bindings file. Tried:\n"+u.map((function(e){return t.arrow+e})).join("\n"))).tries=u,i},e.getFileName=function(t){var e,n=Error.prepareStackTrace,i=Error.stackTraceLimit,o={};Error.stackTraceLimit=10,Error.prepareStackTrace=function(n,i){for(var o=0,s=i.length;o<s;o++)if((e=i[o].getFileName())!==r){if(!t)return;if(e!==t)return}},Error.captureStackTrace(o),Error.prepareStackTrace=n,Error.stackTraceLimit=i;return 0===e.indexOf("file://")&&(e=s(e)),e},e.getRoot=function(t){for(var e,n=u(t);;){if("."===n&&(n=process.cwd()),c(a(n,"package.json"))||c(a(n,"node_modules")))return n;if(e===n)throw new Error('Could not find module root given file: "'+t+'". Do you have a `package.json` file? ');e=n,n=a(n,"..")}}}).call(this,"/index.js")},function(t,e,n){var r=n(3).sep||"/";t.exports=function(t){if("string"!=typeof t||t.length<=7||"file://"!=t.substring(0,7))throw new TypeError("must pass in a file:// URI to convert to a file path");var e=decodeURI(t.substring(7)),n=e.indexOf("/"),i=e.substring(0,n),o=e.substring(n+1);"localhost"==i&&(i="");i&&(i=r+r+i);o=o.replace(/^(.+)\|/,"$1:"),"\\"==r&&(o=o.replace(/\//g,"\\"));/^.+\:/.test(o)||(o=r+o);return i+o}},function(t,e,n){var r=n(144),i=n(145),o=n(70);e.getTypeParser=function(t,e){if(!s[e=e||"text"])return a;return s[e][t]||a},e.setTypeParser=function(t,e,n){"function"==typeof e&&(n=e,e="text");s[e][t]=n},e.arrayParser=o;var s={text:{},binary:{}};function a(t){return String(t)}r.init((function(t,e){s.text[t]=e})),i.init((function(t,e){s.binary[t]=e}))},function(t,e,n){var r=n(69),i=n(70),o=n(50),s=n(51),a=n(52);function u(t){return function(e){return null===e?e:t(e)}}function c(t){return null===t?t:"TRUE"===t||"t"===t||"true"===t||"y"===t||"yes"===t||"on"===t||"1"===t}function l(t){return t?r.parse(t,c):null}function p(t){return parseInt(t,10)}function f(t){return t?r.parse(t,u(p)):null}function h(t){return t?r.parse(t,u((function(t){return b(t).trim()}))):null}var d=function(t){return t?i.create(t,(function(t){return null!==t&&(t=E(t)),t})).parse():null},m=function(t){return t?i.create(t,(function(t){return null!==t&&(t=parseFloat(t)),t})).parse():null},y=function(t){return t?i.create(t).parse():null},g=function(t){return t?i.create(t,(function(t){return null!==t&&(t=o(t)),t})).parse():null},v=function(t){return t?r.parse(t,u(a)):null},_=function(t){return parseInt(t,10)},b=function(t){var e=String(t);return/^\d+$/.test(e)?e:t},w=function(t){var e=y(t);return e?e.map((function(t){return JSON.parse(t)})):e},E=function(t){return"("!==t[0]?null:(t=t.substring(1,t.length-1).split(","),{x:parseFloat(t[0]),y:parseFloat(t[1])})},x=function(t){if("<"!==t[0]&&"("!==t[1])return null;for(var e="(",n="",r=!1,i=2;i<t.length-1;i++)r||(e+=t[i]),")"!==t[i]?r&&","!==t[i]&&(n+=t[i]):r=!0;var o=E(e);return o.radius=parseFloat(n),o};t.exports={init:function(t){t(20,b),t(21,_),t(23,_),t(26,_),t(700,parseFloat),t(701,parseFloat),t(16,c),t(1082,o),t(1114,o),t(1184,o),t(600,E),t(651,y),t(718,x),t(1e3,l),t(1001,v),t(1005,f),t(1007,f),t(1028,f),t(1016,h),t(1017,d),t(1021,m),t(1022,m),t(1231,m),t(1014,y),t(1015,y),t(1008,y),t(1009,y),t(1040,y),t(1041,y),t(1115,g),t(1182,g),t(1185,g),t(1186,s),t(17,a),t(114,JSON.parse.bind(JSON)),t(3802,JSON.parse.bind(JSON)),t(199,w),t(3807,w),t(3907,y),t(2951,y),t(791,y),t(1183,y),t(1270,y)}}},function(t,e,n){var r=n(53),i=function(t,e,n,r,i){r=r||!1,i=i||function(t,e,n){return t*Math.pow(2,n)+e};var o=(n=n||0)>>3,s=function(t){return r?255&~t:t},a=255,u=8-n%8;e<u&&(a=255<<8-e&255,u=e),n&&(a>>=n%8);var c=0;n%8+e>=8&&(c=i(0,s(t[o])&a,u));for(var l=e+n>>3,p=o+1;p<l;p++)c=i(c,s(t[p]),8);var f=(e+n)%8;return f>0&&(c=i(c,s(t[l])>>8-f,f)),c},o=function(t,e,n){var r=Math.pow(2,n-1)-1,o=i(t,1),s=i(t,n,1);if(0===s)return 0;var a=1,u=i(t,e,n+1,!1,(function(t,e,n){0===t&&(t=1);for(var r=1;r<=n;r++)a/=2,(e&1<<n-r)>0&&(t+=a);return t}));return s==Math.pow(2,n+1)-1?0===u?0===o?1/0:-1/0:NaN:(0===o?1:-1)*Math.pow(2,s-r)*u},s=function(t){return 1==i(t,1)?-1*(i(t,15,1,!0)+1):i(t,15,1)},a=function(t){return 1==i(t,1)?-1*(i(t,31,1,!0)+1):i(t,31,1)},u=function(t){return o(t,23,8)},c=function(t){return o(t,52,11)},l=function(t){var e=i(t,16,32);if(49152==e)return NaN;for(var n=Math.pow(1e4,i(t,16,16)),r=0,o=i(t,16),s=0;s<o;s++)r+=i(t,16,64+16*s)*n,n/=1e4;var a=Math.pow(10,i(t,16,48));return(0===e?1:-1)*Math.round(r*a)/a},p=function(t,e){var n=i(e,1),r=i(e,63,1),o=new Date((0===n?1:-1)*r/1e3+9466848e5);return t||o.setTime(o.getTime()+6e4*o.getTimezoneOffset()),o.usec=r%1e3,o.getMicroSeconds=function(){return this.usec},o.setMicroSeconds=function(t){this.usec=t},o.getUTCMicroSeconds=function(){return this.usec},o},f=function(t){for(var e=i(t,32),n=(i(t,32,32),i(t,32,64)),r=96,o=[],s=0;s<e;s++)o[s]=i(t,32,r),r+=32,r+=32;var a=function(e){var n,o=i(t,32,r);return r+=32,4294967295==o?null:23==e||20==e?(n=i(t,8*o,r),r+=8*o,n):25==e?n=t.toString(this.encoding,r>>3,(r+=o<<3)>>3):void console.log("ERROR: ElementType not implemented: "+e)},u=function(t,e){var n,r=[];if(t.length>1){var i=t.shift();for(n=0;n<i;n++)r[n]=u(t,e);t.unshift(i)}else for(n=0;n<t[0];n++)r[n]=a(e);return r};return u(o,n)},h=function(t){return t.toString("utf8")},d=function(t){return null===t?null:i(t,8)>0};t.exports={init:function(t){t(20,r),t(21,s),t(23,a),t(26,a),t(1700,l),t(700,u),t(701,c),t(16,d),t(1114,p.bind(null,!1)),t(1184,p.bind(null,!0)),t(1e3,f),t(1007,f),t(1016,f),t(1008,f),t(1009,f),t(25,h)}}},function(t,e,n){"use strict";class r{constructor(t,e){this._types=t,this._arrayMode=e,this.command=void 0,this.rowCount=void 0,this.fields=[],this.rows=[]}consumeCommand(t){this.command=t.cmdStatus().split(" ")[0],this.rowCount=parseInt(t.cmdTuples(),10)}consumeFields(t){const e=t.nfields();for(var n=0;n<e;n++)this.fields.push({name:t.fname(n),dataTypeID:t.ftype(n)})}consumeRows(t){const e=t.ntuples();for(var n=0;n<e;n++){const e=this._arrayMode?this.consumeRowAsArray(t,n):this.consumeRowAsObject(t,n);this.rows.push(e)}}consumeRowAsObject(t,e){const n={};for(var r=0;r<this.fields.length;r++){const i=this.readValue(t,e,r);n[this.fields[r].name]=i}return n}consumeRowAsArray(t,e){const n=[];for(var r=0;r<this.fields.length;r++){const i=this.readValue(t,e,r);n.push(i)}return n}readValue(t,e,n){var r=t.getvalue(e,n);if(""===r&&t.getisnull(e,n))return null;const i=this.fields[n].dataTypeID;return this._types.getTypeParser(i)(r)}}t.exports=function(t,e,n){const i=new r(e,n);return i.consumeCommand(t),i.consumeFields(t),i.consumeRows(t),i}},function(t,e,n){var r=n(16).Duplex,i=n(16).Writable,o=n(2),s=t.exports=function(t,e){r.call(this,e),this.pq=t,this._reading=!1};o.inherits(s,r),s.prototype._write=function(t,e,n){var r=this.pq.putCopyData(t);if(1===r)return n();if(-1===r)return n(new Error(this.pq.errorMessage()));var i=this;this.pq.writable((function(){i._write(t,e,n)}))},s.prototype.end=function(){var t=Array.prototype.slice.call(arguments,0),e=this,n=t.pop();t.length&&this.write(t[0]);var r=this.pq.putCopyEnd();if(1===r)return a(this.pq,(function(t,r){i.prototype.end.call(e),n&&n(t)}));if(-1===r){var o=new Error(this.pq.errorMessage());return this.emit("error",o)}return this.pq.writable((function(){return e.end.apply(e,n)}))},s.prototype._consumeBuffer=function(t){var e=this.pq.getCopyData(!0);if(e instanceof Buffer)return setImmediate((function(){t(null,e)}));if(-1===e)return t(null,null);if(0===e){var n=this;return this.pq.once("readable",(function(){n.pq.stopReader(),n.pq.consumeInput(),n._consumeBuffer(t)})),this.pq.startReader()}t(new Error("Unrecognized read status: "+e))},s.prototype._read=function(t){if(!this._reading){this._reading=!0;var e=this;this._consumeBuffer((function(t,n){if(e._reading=!1,t)return e.emit("error",t);!1!==n&&e.push(n)}))}};var a=function(t,e){var n=function(){t.removeListener("readable",i),t.stopReader()},r=function(r){return n(),e(new Error(r||t.errorMessage()))},i=function(){return t.consumeInput()?t.isBusy()?void 0:(t.getResult(),t.getResult()&&"PGRES_COPY_OUT"!==t.resultStatus()?r("Only one result at a time is accepted"):"PGRES_FATAL_ERROR"===t.resultStatus()?r():(n(),e(null))):r()};t.on("readable",i),t.startReader()}},function(t){t.exports=JSON.parse('{"_args":[[{"raw":"pg-native@^3.0.0","scope":null,"escapedName":"pg-native","name":"pg-native","rawSpec":"^3.0.0","spec":">=3.0.0 <4.0.0","type":"range"},"/Users/neilrussell/nona-mac/dev/neilrussell6/projects/react-markdown3/packages/markdown-api"]],"_from":"pg-native@>=3.0.0 <4.0.0","_id":"pg-native@3.0.0","_inCache":true,"_location":"/pg-native","_nodeVersion":"8.9.1","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/pg-native_3.0.0_1525459737629_0.03485663059005728"},"_npmUser":{"name":"brianc","email":"brian.m.carlson@gmail.com"},"_npmVersion":"5.8.0","_phantomChildren":{"pg-int8":"1.0.1","postgres-bytea":"1.0.0","postgres-date":"1.0.6","postgres-interval":"1.2.0"},"_requested":{"raw":"pg-native@^3.0.0","scope":null,"escapedName":"pg-native","name":"pg-native","rawSpec":"^3.0.0","spec":">=3.0.0 <4.0.0","type":"range"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/pg-native/-/pg-native-3.0.0.tgz","_shasum":"20c64e651e20b28f5c060b3823522d1c8c4429c3","_shrinkwrap":null,"_spec":"pg-native@^3.0.0","_where":"/Users/neilrussell/nona-mac/dev/neilrussell6/projects/react-markdown3/packages/markdown-api","author":{"name":"Brian M. Carlson"},"bugs":{"url":"https://github.com/brianc/node-pg-native/issues"},"dependencies":{"libpq":"^1.7.0","pg-types":"^1.12.1","readable-stream":"1.0.31"},"description":"A slightly nicer interface to Postgres over node-libpq","devDependencies":{"async":"^0.9.0","concat-stream":"^1.4.6","eslint":"4.2.0","eslint-config-standard":"10.2.1","eslint-plugin-import":"2.7.0","eslint-plugin-node":"5.1.0","eslint-plugin-promise":"3.5.0","eslint-plugin-standard":"3.0.1","generic-pool":"^2.1.1","lodash":"^2.4.1","mocha":"3.4.2","okay":"^0.3.0","pg":"*","semver":"^4.1.0"},"directories":{},"dist":{"integrity":"sha512-qZZyywXJ8O4lbiIN7mn6vXIow1fd3QZFqzRe+uET/SZIXvCa3HBooXQA4ZU8EQX8Ae6SmaYtDGLp5DwU+8vrfg==","shasum":"20c64e651e20b28f5c060b3823522d1c8c4429c3","tarball":"https://registry.npmjs.org/pg-native/-/pg-native-3.0.0.tgz","fileCount":33,"unpackedSize":51190,"npm-signature":"-----BEGIN PGP SIGNATURE-----\\r\\nVersion: OpenPGP.js v3.0.4\\r\\nComment: https://openpgpjs.org\\r\\n\\r\\nwsFcBAEBCAAQBQJa7KscCRA9TVsSAnZWagAAFHQP/1ZVY6lBpv9oOwNzwVsL\\nH4VuyvWX+vc9hAfj6bvOsVz5JsY8sY/zzlH5bt85pa5mwYHaTlfpwHNQcchL\\nFPcC4QyJrTInxx5N4edvVPclaHUmBeBaWG/PKGfwuapOmRXzT4jkpiQ0WtuL\\ny25T3ssXFkwequhLMNCWE3iozlYhKxvGHbG/k4cYMk6SvJpSKyxnJJXirNno\\n9KbmfwEhdu++sebnPGKYXSX1fHNIeDWzHLpfuo+Si4yC3KccHG84ss/Ik2Pc\\npiHjWTefs9g5C5pgWmLyfIPAk8kvKaxxQ5qBwD+enYT9+bfZWUDl1BNWMVk3\\nzb3mIGbEVJLJvSSoW8RcJoHZJzjbX2Pvxre6tJ8qfEW3AlxLJtYspbDh1nn1\\nUCqr99f6dFArQjHNv3JcVsAorLWjFODtj9NTm0GnbJW31X7y0w0T5pg0R0uv\\n/3HhvISLDTQ962MtmAom+caV6TcHM8Zpc9tY+Vx3F2eoM9uLvAR/ZSjO6GW7\\nbzGUv/cv2eKEbZlyvGAXDyXbYqzFwDMjjBsKRJZESjG0/7ZTxjavnpYxNXBL\\n5w6UDFPyzVXqd7tjKMJMKSBKxhb2AZaKeiqrCVLvWH121YSe5pmlYVxey8+7\\nNSiuEep+xLVkqBRfmIP6yloO2IsURGQIo7ORFCP61hf632AxMMHr33vCgV8C\\ndB+0\\r\\n=0FP6\\r\\n-----END PGP SIGNATURE-----\\r\\n"},"gitHead":"506f86d22f180b4098cf43bcecaa976b8c006114","homepage":"https://github.com/brianc/node-pg-native","keywords":["postgres","pg","libpq"],"license":"MIT","main":"index.js","maintainers":[{"name":"brianc","email":"brian.m.carlson@gmail.com"}],"name":"pg-native","optionalDependencies":{},"readme":"ERROR: No README data found!","repository":{"type":"git","url":"git://github.com/brianc/node-pg-native.git"},"scripts":{"test":"mocha && eslint ."},"version":"3.0.0"}')},function(t){t.exports=JSON.parse('{"_args":[[{"raw":"pg@^8.2.1","scope":null,"escapedName":"pg","name":"pg","rawSpec":"^8.2.1","spec":">=8.2.1 <9.0.0","type":"range"},"/Users/neilrussell/nona-mac/dev/neilrussell6/projects/react-markdown3/packages/markdown-api"]],"_from":"pg@>=8.2.1 <9.0.0","_hasShrinkwrap":false,"_id":"pg@8.3.0","_inCache":true,"_location":"/pg","_nodeVersion":"10.16.3","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/pg_8.3.0_1594309282084_0.12377096165970647"},"_npmUser":{"name":"brianc","email":"brian.m.carlson@gmail.com"},"_npmVersion":"6.13.4","_phantomChildren":{},"_requested":{"raw":"pg@^8.2.1","scope":null,"escapedName":"pg","name":"pg","rawSpec":"^8.2.1","spec":">=8.2.1 <9.0.0","type":"range"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/pg/-/pg-8.3.0.tgz","_shasum":"941383300d38eef51ecb88a0188cec441ab64d81","_shrinkwrap":null,"_spec":"pg@^8.2.1","_where":"/Users/neilrussell/nona-mac/dev/neilrussell6/projects/react-markdown3/packages/markdown-api","author":{"name":"Brian Carlson","email":"brian.m.carlson@gmail.com"},"bugs":{"url":"https://github.com/brianc/node-postgres/issues"},"dependencies":{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.3.0","pg-pool":"^3.2.1","pg-protocol":"^1.2.5","pg-types":"^2.1.0","pgpass":"1.x","semver":"4.3.2"},"description":"PostgreSQL client - pure javascript & libpq with the same API","devDependencies":{"async":"0.9.0","bluebird":"3.5.2","co":"4.6.0","pg-copy-streams":"0.3.0"},"directories":{},"dist":{"integrity":"sha512-jQPKWHWxbI09s/Z9aUvoTbvGgoj98AU7FDCcQ7kdejupn/TcNpx56v2gaOTzXkzOajmOEJEdi9eTh9cA2RVAjQ==","shasum":"941383300d38eef51ecb88a0188cec441ab64d81","tarball":"https://registry.npmjs.org/pg/-/pg-8.3.0.tgz","fileCount":15,"unpackedSize":67938,"npm-signature":"-----BEGIN PGP SIGNATURE-----\\r\\nVersion: OpenPGP.js v3.0.4\\r\\nComment: https://openpgpjs.org\\r\\n\\r\\nwsFcBAEBCAAQBQJfBzqiCRA9TVsSAnZWagAA8p0P/itcZAP2bY9rzm0UNcg+\\nBXV3hMiFxB8g3UpPBGyKOpbqaA+QQHf7tpPvccL0za2Yi1rf3+kjUajQXTJC\\n7kH20zhY9gyfC9A/uiHTtDi2RQ16RMD7BKhfkyTTyDZw8zVGcQ4+hMiehIYg\\nK+UgxS3ZRQ60h4Qjzu0f9+oiaYmCPB6TtWOcynHVoqdLyYLZ211HbVF5u4dT\\nZY7LLLreEgCTZVQVXYwm0L0ODPElMGru6CYMJdG0DU0jz7CRFDXUK6klZsgh\\nee7/GExPUrIMQIlge4fLh9C0PS4i/P1tkz+PFSUBWxGEVtgfpYeJRR+Xw66d\\nXVKxYLkhhv5kbhS9bwRtPDJl8FHrD3aYmikUbDMYh5MtlfN1qH3iHVGNnE+Y\\n2OR7+5wWW9u58w3pAi44YHx54rEBnJMDKUzuIFyWXLiS2WM0L602At1BZlbv\\nrTznsWAwTlftmcQth8Omy16uMwADvTDDiSm0vB+LR2yYiyhv7JQn72ZjZxad\\nWjQCJ0pMKGC08mUjaIL0RWgKh2cgR1sLMOofcf8e2BUksMxrAukxPeh5gTvW\\nBMoUmKXIR8F0ZCqpvVX45fq7jLOxCNOym7bllo+4trLCMY0aNipUuArHrv/Y\\nJuT27lHpEIUPwG7Pj0VTzfsCwTlWT+Wm9NRf/yVcyv3t2Q918mvzfx6ZR8oP\\n73tV\\r\\n=S7ED\\r\\n-----END PGP SIGNATURE-----\\r\\n"},"engines":{"node":">= 8.0.0"},"homepage":"https://github.com/brianc/node-postgres","keywords":["database","libpq","pg","postgre","postgres","postgresql","rdbms"],"license":"MIT","main":"./lib","maintainers":[{"name":"brianc","email":"brian.m.carlson@gmail.com"}],"minNativeVersion":"2.0.0","name":"pg","optionalDependencies":{},"readme":"ERROR: No README data found!","repository":{"type":"git","url":"git://github.com/brianc/node-postgres.git"},"scripts":{"test":"make test-all"},"version":"8.3.0"}')},function(t,e,n){"use strict";var r=n(7).EventEmitter,i=n(2),o=n(39),s=t.exports=function(t,e,n){r.call(this),t=o.normalizeQueryConfig(t,e,n),this.text=t.text,this.values=t.values,this.name=t.name,this.callback=t.callback,this.state="new",this._arrayMode="array"===t.rowMode,this._emitRowEvents=!1,this.on("newListener",function(t){"row"===t&&(this._emitRowEvents=!0)}.bind(this))};i.inherits(s,r);var a={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};s.prototype.handleError=function(t){var e=this.native.pq.resultErrorFields();if(e)for(var n in e){t[a[n]||n]=e[n]}this.callback?this.callback(t):this.emit("error",t),this.state="error"},s.prototype.then=function(t,e){return this._getPromise().then(t,e)},s.prototype.catch=function(t){return this._getPromise().catch(t)},s.prototype._getPromise=function(){return this._promise||(this._promise=new Promise(function(t,e){this._once("end",t),this._once("error",e)}.bind(this))),this._promise},s.prototype.submit=function(t){this.state="running";var e=this;this.native=t.native,t.native.arrayMode=this._arrayMode;var n=function(n,r,i){if(t.native.arrayMode=!1,setImmediate((function(){e.emit("_done")})),n)return e.handleError(n);e._emitRowEvents&&(i.length>1?r.forEach((t,n)=>{t.forEach(t=>{e.emit("row",t,i[n])})}):r.forEach((function(t){e.emit("row",t,i)}))),e.state="end",e.emit("end",i),e.callback&&e.callback(null,i)};if(process.domain&&(n=process.domain.bind(n)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var r=(this.values||[]).map(o.prepareValue);if(t.namedQueries[this.name]){if(this.text&&t.namedQueries[this.name]!==this.text){const t=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return n(t)}return t.native.execute(this.name,r,n)}return t.native.prepare(this.name,this.text,r.length,(function(i){return i?n(i):(t.namedQueries[e.name]=e.text,e.native.execute(e.name,r,n))}))}if(this.values){if(!Array.isArray(this.values)){const t=new Error("Query values must be an array");return n(t)}var i=this.values.map(o.prepareValue);t.native.query(this.text,i,n)}else t.native.query(this.text,n)}},function(t,e,n){"use strict";var r=n(68),i=n(55),o=n(71),s=n(152),a=n(17),u=n(7).EventEmitter,c=n(2),l=n(56),p="Version >= "+s.minNativeVersion+" of pg-native required.";a(o.gte(r.version,s.minNativeVersion),p);var f=n(153),h=t.exports=function(t){u.call(this),t=t||{},this._Promise=t.Promise||global.Promise,this._types=new i(t.types),this.native=new r({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var e=this.connectionParameters=new l(t);this.user=e.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),this.database=e.database,this.host=e.host,this.port=e.port,this.namedQueries={}};h.Query=f,c.inherits(h,u),h.prototype._errorAllQueries=function(t){const e=e=>{process.nextTick(()=>{e.native=this.native,e.handleError(t)})};this._hasActiveQuery()&&(e(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(e),this._queryQueue.length=0},h.prototype._connect=function(t){var e=this;this._connecting?process.nextTick(()=>t(new Error("Client has already been connected. You cannot reuse a client."))):(this._connecting=!0,this.connectionParameters.getLibpqConnectionString((function(n,r){if(n)return t(n);e.native.connect(r,(function(n){if(n)return e.native.end(),t(n);e._connected=!0,e.native.on("error",(function(t){e._queryable=!1,e._errorAllQueries(t),e.emit("error",t)})),e.native.on("notification",(function(t){e.emit("notification",{channel:t.relname,payload:t.extra})})),e.emit("connect"),e._pulseQueryQueue(!0),t()}))})))},h.prototype.connect=function(t){if(!t)return new this._Promise((t,e)=>{this._connect(n=>{n?e(n):t()})});this._connect(t)},h.prototype.query=function(t,e,n){var r,i,o,s,a;if(null==t)throw new TypeError("Client was passed a null or undefined query");if("function"==typeof t.submit)o=t.query_timeout||this.connectionParameters.query_timeout,i=r=t,"function"==typeof e&&(t.callback=e);else if(o=this.connectionParameters.query_timeout,!(r=new f(t,e,n)).callback){let t,e;i=new this._Promise((n,r)=>{t=n,e=r}),r.callback=(n,r)=>n?e(n):t(r)}return o&&(a=r.callback,s=setTimeout(()=>{var t=new Error("Query read timeout");process.nextTick(()=>{r.handleError(t,this.connection)}),a(t),r.callback=()=>{};var e=this._queryQueue.indexOf(r);e>-1&&this._queryQueue.splice(e,1),this._pulseQueryQueue()},o),r.callback=(t,e)=>{clearTimeout(s),a(t,e)}),this._queryable?this._ending?(r.native=this.native,process.nextTick(()=>{r.handleError(new Error("Client was closed and is not queryable"))}),i):(this._queryQueue.push(r),this._pulseQueryQueue(),i):(r.native=this.native,process.nextTick(()=>{r.handleError(new Error("Client has encountered a connection error and is not queryable"))}),i)},h.prototype.end=function(t){var e,n=this;return this._ending=!0,this._connected||this.once("connect",this.end.bind(this,t)),t||(e=new this._Promise((function(e,n){t=t=>t?n(t):e()}))),this.native.end((function(){n._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{n.emit("end"),t&&t()})})),e},h.prototype._hasActiveQuery=function(){return this._activeQuery&&"error"!==this._activeQuery.state&&"end"!==this._activeQuery.state},h.prototype._pulseQueryQueue=function(t){if(this._connected&&!this._hasActiveQuery()){var e=this._queryQueue.shift();if(e){this._activeQuery=e,e.submit(this);var n=this;e.once("_done",(function(){n._pulseQueryQueue()}))}else t||this.emit("drain")}},h.prototype.cancel=function(t){this._activeQuery===t?this.native.cancel((function(){})):-1!==this._queryQueue.indexOf(t)&&this._queryQueue.splice(this._queryQueue.indexOf(t),1)},h.prototype.setTypeParser=function(t,e,n){return this._types.setTypeParser(t,e,n)},h.prototype.getTypeParser=function(t,e){return this._types.getTypeParser(t,e)}},function(t){t.exports=JSON.parse('{"_args":[[{"raw":"pg@8.2.2","scope":null,"escapedName":"pg","name":"pg","rawSpec":"8.2.2","spec":"8.2.2","type":"version"},"/Users/neilrussell/nona-mac/dev/neilrussell6/projects/react-markdown3/packages/markdown-api/node_modules/pg-promise"]],"_from":"pg@8.2.2","_hasShrinkwrap":false,"_id":"pg@8.2.2","_inCache":true,"_location":"/pg-promise/pg","_nodeVersion":"10.16.3","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/pg_8.2.2_1594132530893_0.10641154265660435"},"_npmUser":{"name":"brianc","email":"brian.m.carlson@gmail.com"},"_npmVersion":"lerna/3.19.0/node@v10.16.3+x64 (darwin)","_phantomChildren":{},"_requested":{"raw":"pg@8.2.2","scope":null,"escapedName":"pg","name":"pg","rawSpec":"8.2.2","spec":"8.2.2","type":"version"},"_requiredBy":["/pg-promise"],"_resolved":"https://registry.npmjs.org/pg/-/pg-8.2.2.tgz","_shasum":"a8c2bbe1f20e67b11333a672b3bc2135338fd7e4","_shrinkwrap":null,"_spec":"pg@8.2.2","_where":"/Users/neilrussell/nona-mac/dev/neilrussell6/projects/react-markdown3/packages/markdown-api/node_modules/pg-promise","author":{"name":"Brian Carlson","email":"brian.m.carlson@gmail.com"},"bugs":{"url":"https://github.com/brianc/node-postgres/issues"},"dependencies":{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.2.3","pg-pool":"^3.2.1","pg-protocol":"^1.2.5","pg-types":"^2.1.0","pgpass":"1.x","semver":"4.3.2"},"description":"PostgreSQL client - pure javascript & libpq with the same API","devDependencies":{"async":"0.9.0","bluebird":"3.5.2","co":"4.6.0","pg-copy-streams":"0.3.0"},"directories":{},"dist":{"integrity":"sha512-Uni50U0W2CNPM68+zfC/1WWjSO3q/uBSF/Nl7D+1npZGsPSM4/EZt0xSMW2jox1Bn0EfDlnTWnTsM/TrSOtBEA==","shasum":"a8c2bbe1f20e67b11333a672b3bc2135338fd7e4","tarball":"https://registry.npmjs.org/pg/-/pg-8.2.2.tgz","fileCount":16,"unpackedSize":68916,"npm-signature":"-----BEGIN PGP SIGNATURE-----\\r\\nVersion: OpenPGP.js v3.0.4\\r\\nComment: https://openpgpjs.org\\r\\n\\r\\nwsFcBAEBCAAQBQJfBIgzCRA9TVsSAnZWagAAsMoP/3TX1mEz4BW3Sxx+SQ3l\\na+TG8lDTlj8l2aVfLfJ1mAerjlj1k8JnkDGtv+z2CHOEe8CJKqAvZnAJnY9G\\nvqAr+7HOAOq0FscrhX2mFWIN84T0l2BK/nQXwf1lOwzQ8BVsjbU10gfdEJte\\nhBEE7NHJeilk56mzPNxHIwbB8vZVvtzCw/ncBimFNwOrb537k31+trmzRSUe\\n0JMS9j/aXwU5Yr3txMtZOgHkOc6hgTKf8i8bxhZ5hLPotvbPFaABfFqWaGq0\\n5iA3w4CCXgeamLCPiE/TyOakGvZO52i8i4Mc1VEkZpopnTiqNDNyXgu8lIfj\\nSeZBd/Ti2o81yQBN4+SSWBeulIgrZSKOfHcaWE8TZUiaNu8oalylLZjc21oX\\n41NijVfakzTBYyLr2aVEvAtn7kHLf0NyPx48chcKD67f66GpLpN5i/RSfNCR\\nzG1t452I2xCtVqJRNfbvk3wiB7w44MpmDxx3TnXfsISXxuY6PwM3gIs/5hmA\\nuHF/t1BsmtpGlPN8VMpncXCv2a0RcB5f0dGJCB3pn2ALZX97R+nuYWWi/Pqp\\noboOd0JglMT9kz2b2cnuM26h+BXYMklyPBgLLfMkRr+z26159RKn0A6HD3iv\\nXlaLzWbgJWl2E8cFc1VUpa3R2rdBk3SSsyNxPXZZHcp5Te4j/wNSKZFuD9DN\\nAt2m\\r\\n=6vJx\\r\\n-----END PGP SIGNATURE-----\\r\\n"},"engines":{"node":">= 8.0.0"},"gitHead":"dec892ed015af8844f1aa6a9475832c88693b464","homepage":"https://github.com/brianc/node-postgres","keywords":["database","libpq","pg","postgre","postgres","postgresql","rdbms"],"license":"MIT","main":"./lib","maintainers":[{"name":"brianc","email":"brian.m.carlson@gmail.com"}],"minNativeVersion":"2.0.0","name":"pg","optionalDependencies":{},"readme":"ERROR: No README data found!","repository":{"type":"git","url":"git://github.com/brianc/node-postgres.git"},"scripts":{"test":"make test-all"},"version":"8.2.2"}')},function(t,e,n){"use strict";var r=n(7).EventEmitter,i=n(2),o=n(24),s=t.exports=function(t,e,n){r.call(this),t=o.normalizeQueryConfig(t,e,n),this.text=t.text,this.values=t.values,this.name=t.name,this.callback=t.callback,this.state="new",this._arrayMode="array"===t.rowMode,this._emitRowEvents=!1,this.on("newListener",function(t){"row"===t&&(this._emitRowEvents=!0)}.bind(this))};i.inherits(s,r);var a={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};s.prototype.handleError=function(t){var e=this.native.pq.resultErrorFields();if(e)for(var n in e){t[a[n]||n]=e[n]}this.callback?this.callback(t):this.emit("error",t),this.state="error"},s.prototype.then=function(t,e){return this._getPromise().then(t,e)},s.prototype.catch=function(t){return this._getPromise().catch(t)},s.prototype._getPromise=function(){return this._promise||(this._promise=new Promise(function(t,e){this._once("end",t),this._once("error",e)}.bind(this))),this._promise},s.prototype.submit=function(t){this.state="running";var e=this;this.native=t.native,t.native.arrayMode=this._arrayMode;var n=function(n,r,i){if(t.native.arrayMode=!1,setImmediate((function(){e.emit("_done")})),n)return e.handleError(n);e._emitRowEvents&&(i.length>1?r.forEach((t,n)=>{t.forEach(t=>{e.emit("row",t,i[n])})}):r.forEach((function(t){e.emit("row",t,i)}))),e.state="end",e.emit("end",i),e.callback&&e.callback(null,i)};if(process.domain&&(n=process.domain.bind(n)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var r=(this.values||[]).map(o.prepareValue);if(t.namedQueries[this.name]){if(this.text&&t.namedQueries[this.name]!==this.text){const t=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return n(t)}return t.native.execute(this.name,r,n)}return t.native.prepare(this.name,this.text,r.length,(function(i){return i?n(i):(t.namedQueries[e.name]=e.text,e.native.execute(e.name,r,n))}))}if(this.values){if(!Array.isArray(this.values)){const t=new Error("Query values must be an array");return n(t)}var i=this.values.map(o.prepareValue);t.native.query(this.text,i,n)}else t.native.query(this.text,n)}},function(t,e,n){const{Column:r}=n(73),{ColumnSet:i}=n(21),{TableName:o}=n(28),s=n(155),a=n(0);t.exports=t=>{const e=()=>t.options&&t.options.capSQL,n={insert:(t,n,r)=>s.insert(t,n,r,e()),update:(t,n,r,i)=>s.update(t,n,r,i,e()),concat:t=>s.concat(t,e()),values:(t,n)=>s.values(t,n,e()),sets:(t,n)=>s.sets(t,n,e()),TableName:o,ColumnSet:i,Column:r};return a.lock(n,!0,t.options),n}},function(t,e,n){const{concat:r}=n(156),{insert:i}=n(157),{update:o}=n(158),{values:s}=n(159),{sets:a}=n(160);t.exports={concat:r,insert:i,update:o,values:s,sets:a}},function(t,e,n){const{QueryFile:r}=n(20),i={formatting:n(8)};function o(t){return t.replace(/^[\s;]*|[\s;]*$/g,"")}t.exports={concat:function(t,e){if(!Array.isArray(t))throw new TypeError("Parameter 'queries' must be an array.");const n={capSQL:e};return t.map((t,e)=>{if("string"==typeof t)return o(t);if(t&&"object"==typeof t){if(t instanceof r)return o(t[i.formatting.as.ctf.toPostgres]());if("query"in t){let e=t.options&&"object"==typeof t.options?t.options:{};return e=void 0===e.capSQL?Object.assign(e,n):e,o(i.formatting.as.format(t.query,t.values,e))}}throw new Error(`Invalid query element at index ${e}.`)}).filter(t=>t).join(";")}}},function(t,e,n){const{TableName:r}=n(28),{ColumnSet:i}=n(21),o={formatting:n(8),utils:n(0)};const s={lowCase:"insert into $1^($2^) values",capCase:"INSERT INTO $1^($2^) VALUES"};t.exports={insert:function(t,e,n,a){if(!t||"object"!=typeof t)throw new TypeError("Invalid parameter 'data' specified.");const u=Array.isArray(t);if(u&&!t.length)throw new TypeError("Cannot generate an INSERT from an empty array.");if(e instanceof i)o.utils.isNull(n)&&(n=e.table);else{if(u&&o.utils.isNull(e))throw new TypeError("Parameter 'columns' is required when inserting multiple records.");e=new i(e||t)}if(!e.columns.length)throw new Error("Cannot generate an INSERT without any columns.");if(!n)throw new Error("Table name is unknown.");n instanceof r||(n=new r(n));let c=a?s.capCase:s.lowCase;const l={capSQL:a},p=o.formatting.as.format;return c=p(c,[n.name,e.names],l),u?c+t.map((t,n)=>{if(!t||"object"!=typeof t)throw new Error(`Invalid insert object at index ${n}.`);return"("+p(e.variables,e.prepare(t),l)+")"}).join():c+"("+p(e.variables,e.prepare(t),l)+")"}}},function(t,e,n){const{assertOptions:r}=n(6),{TableName:i}=n(28),{ColumnSet:o}=n(21),s={formatting:n(8),utils:n(0)};const a={single:{lowCase:"update $1^ set ",capCase:"UPDATE $1^ SET "},multi:{lowCase:"update $1^ as $2^ set $3^ from (values$4^) as $5^($6^)",capCase:"UPDATE $1^ AS $2^ SET $3^ FROM (VALUES$4^) AS $5^($6^)"}};t.exports={update:function(t,e,n,u,c){if(!t||"object"!=typeof t)throw new TypeError("Invalid parameter 'data' specified.");const l=Array.isArray(t);if(l&&!t.length)throw new TypeError("Cannot generate an UPDATE from an empty array.");if(e instanceof o)s.utils.isNull(n)&&(n=e.table);else{if(l&&s.utils.isNull(e))throw new TypeError("Parameter 'columns' is required when updating multiple records.");e=new o(e||t)}u=r(u,["tableAlias","valueAlias","emptyUpdate"]);const p=s.formatting.as.format,f="emptyUpdate"in u,h={capSQL:c};if(l){const r=s.formatting.as.alias(s.utils.isNull(u.tableAlias)?"t":u.tableAlias),i=s.formatting.as.alias(s.utils.isNull(u.valueAlias)?"v":u.valueAlias),o=c?a.multi.capCase:a.multi.lowCase,l=e.columns.filter(t=>!t.cnd);if(g(l))return u.emptyUpdate;y();const f=l.map(t=>t.escapedName+"="+i+"."+t.escapedName).join(),d=t.map((t,n)=>{if(!t||"object"!=typeof t)throw new Error(`Invalid update object at index ${n}.`);return"("+p(e.variables,e.prepare(t),h)+")"}).join();return p(o,[n.name,r,f,d,i,e.names],h)}const d=e.assign({source:t});if(g(d))return u.emptyUpdate;y();const m=c?a.single.capCase:a.single.lowCase;return p(m,n.name)+p(d,e.prepare(t),h);function y(){if(!n||n instanceof i||(n=new i(n)),!n)throw new Error("Table name is unknown.")}function g(t){if(!t.length){if(f)return!0;throw new Error("Cannot generate an UPDATE without any columns.")}}}}},function(t,e,n){const{ColumnSet:r}=n(21),i={formatting:n(8),utils:n(0)};t.exports={values:function(t,e,n){if(!t||"object"!=typeof t)throw new TypeError("Invalid parameter 'data' specified.");const o=Array.isArray(t);if(!(e instanceof r)){if(o&&i.utils.isNull(e))throw new TypeError("Parameter 'columns' is required when generating multi-row values.");e=new r(e||t)}if(!e.columns.length)throw new Error("Cannot generate values without any columns.");const s=i.formatting.as.format,a={capSQL:n};return o?t.map((t,n)=>{if(!t||"object"!=typeof t)throw new Error(`Invalid object at index ${n}.`);return"("+s(e.variables,e.prepare(t),a)+")"}).join():"("+s(e.variables,e.prepare(t),a)+")"}}},function(t,e,n){const{ColumnSet:r}=n(21),i={format:n(8).as.format,utils:n(0)};t.exports={sets:function(t,e,n){if(!t||"object"!=typeof t||Array.isArray(t))throw new TypeError("Invalid parameter 'data' specified.");return e instanceof r||(e=new r(e||t)),i.format(e.assign({source:t}),e.prepare(t),{capSQL:n})}}},function(t,e,n){const{Events:r}=n(22),{assertOptions:i}=n(6),{resultQuery:o,multiResultQuery:s,streamQuery:a}=n(77),{ConnectionContext:u}=n(162),{DatabasePool:c}=n(44),{queryResult:l}=n(37),p={utils:n(0),pubUtils:n(74),connect:n(163),query:n(78),task:n(165),text:n(12)};function f(t,e,n){const f=this,d=n.promise,m="string"==typeof t?{connectionString:t}:t,y=new n.pgp.pg.Pool(m),g=y.end;let v;function _(){return new u({cn:t,dc:e,options:n.options})}function b(t,e,n){return"function"==typeof e?t.then(t=>e.call(n,t)):t}function w(t,e){function u(r,i){if("function"!=typeof r.cb)return d.reject(new TypeError("Callback function is required."));if(r.options.reusable)return n.$npm.task.callback(e.ctx,e,r.cb,n);const o=t.clone();i&&(o.txLevel=o.txLevel>=0?o.txLevel+1:0),o.inTransaction=o.txLevel>=0,o.level=o.level>=0?o.level+1:0,o.cb=r.cb,o.mode=r.options.mode,this!==e&&(o.context=this);const s=new n.$npm.task.Task(o,r.options.tag,i,n);return o.taskCtx=s.ctx,w(o,s),o.db?(p.utils.addReadProp(s.ctx,"useCount",o.db.useCount),c(s.ctx,o.db.client),n.$npm.task.execute(o,s,i,n)):n.$npm.connect.pool(o,f).then(t=>(o.connect(t),p.utils.addReadProp(s.ctx,"useCount",t.useCount),c(s.ctx,t.client),n.$npm.task.execute(o,s,i,n))).then(t=>(o.disconnect(),t)).catch(t=>(o.disconnect(),d.reject(t)))}function c(t,e){e.serverVersion&&p.utils.addReadProp(t,"serverVersion",e.serverVersion)}e.none=function(t,n){return e.query.call(this,t,n,l.none)},e.one=function(t,n,r,i){return b(e.query.call(this,t,n,l.one),r,i)},e.many=function(t,n){return e.query.call(this,t,n,l.many)},e.oneOrNone=function(t,n,r,i){return b(e.query.call(this,t,n,l.one|l.none),r,i)},e.manyOrNone=function(t,n){return e.query.call(this,t,n,l.many|l.none)},e.any=function(t,n){return e.query.call(this,t,n,l.any)},e.result=function(t,n,r,i){return b(e.query.call(this,t,n,o),r,i)},e.multiResult=function(t,n){return e.query.call(this,t,n,s)},e.multi=function(t,n){return e.query.call(this,t,n,s).then(t=>t.map(t=>t.rows))},e.stream=function(t,n){return e.query.call(this,t,n,a)},e.func=function(t,n,r){return e.query.call(this,{entity:t,type:"func"},n,r)},e.proc=function(t,n,r,i){return b(e.query.call(this,{entity:t,type:"proc"},n,l.one|l.none),r,i)},e.map=function(t,n,r,i){return e.any.call(this,t,n).then(t=>t.map(r,i))},e.each=function(t,n,r,i){return e.any.call(this,t,n).then(t=>(t.forEach(r,i),t))},e.task=function(){const t=p.pubUtils.taskArgs(arguments);return i(t.options,["tag"]),u.call(this,t,!1)},e.taskIf=function(){const t=p.pubUtils.taskArgs(arguments);i(t.options,["tag","cnd"]);try{let n=t.options.cnd;n="cnd"in t.options?"function"==typeof n?n.call(e,e):!!n:!e.ctx,t.options.reusable=!n&&!!e.ctx}catch(t){return d.reject(t)}return u.call(this,t,!1)},e.tx=function(){const t=p.pubUtils.taskArgs(arguments);return i(t.options,["tag","mode"]),u.call(this,t,!0)},e.txIf=function(){const t=p.pubUtils.taskArgs(arguments);i(t.options,["tag","mode","cnd","reusable"]);try{let n;"cnd"in t.options?(n=t.options.cnd,n="function"==typeof n?n.call(e,e):!!n):n=!e.ctx||!e.ctx.inTransaction,t.options.cnd=n;const r=t.options.reusable;t.options.reusable=!n&&e.ctx&&"function"==typeof r?r.call(e,e):!!r}catch(t){return d.reject(t)}return u.call(this,t,t.options.cnd)},p.utils.lock(e,!1,t.options),r.extend(t.options,e,t.dc),p.utils.lock(e,!0,t.options)}y.end=t=>{const e=g.call(y,t);return f.$destroy(),e},y.on("error",h),this.connect=function(t){t=t||{};const e=_();e.cnOptions=t;const r={query(t,r,i){return e.db?n.$npm.query.call(this,e,t,r,i):d.reject(new Error(p.text.queryDisconnected))},done(t){if(!e.db)throw new Error(p.text.looseQuery);e.disconnect(t)},batch(t,e){return n.$npm.spex.batch.call(this,t,e)},page(t,e){return n.$npm.spex.page.call(this,t,e)},sequence(t,e){return n.$npm.spex.sequence.call(this,t,e)}};return(t.direct?n.$npm.connect.direct(e):n.$npm.connect.pool(e,f)).then(t=>(e.connect(t),r.client=t.client,w(e,r),r))},this.query=function(t,e,r){const i=this,o=_();return n.$npm.connect.pool(o,f).then(s=>(o.connect(s),n.$npm.query.call(i,o,t,e,r))).then(t=>(o.disconnect(),t)).catch(t=>(o.disconnect(),d.reject(t)))},p.utils.addReadProp(this,"$config",n,!0),p.utils.addReadProp(this,"$cn",t,!0),p.utils.addReadProp(this,"$dc",e,!0),p.utils.addReadProp(this,"$pool",y,!0),p.utils.addReadProp(this,"$destroy",()=>{v||(y.ending||g.call(y),c.unregister(f),y.removeListener("error",h),v=!0)},!0),c.register(this),w(_(),this)}function h(t){if(!t.client.$ctx)return;const e=t.client.$ctx;r.error(e.options,t,{cn:p.utils.getSafeConnection(e.cn),dc:e.dc})}t.exports=t=>{const e=t.$npm;return e.connect=e.connect||p.connect(t),e.query=e.query||p.query(t),e.task=e.task||p.task(t),f}},function(t,e){class n{constructor(t){this.cn=t.cn,this.dc=t.dc,this.options=t.options,this.db=t.db,this.level=t.level,this.txLevel=t.txLevel,this.parentCtx=null,this.taskCtx=null,this.start=null}connect(t){this.db=t,this.start=new Date}disconnect(t){this.db&&(this.db.release(t),this.db=null)}clone(){const t=new n(this);return t.parentCtx=this.taskCtx,t}}t.exports={ConnectionContext:n}},function(t,e,n){const{Events:r}=n(22),{ColorConsole:i}=n(23),o={utils:n(0),text:n(12),formatting:n(8)};function s(t){const e=this.$ctx,n=o.utils.getSafeConnection(e.cn);if(r.error(e.options,t,{cn:n,dc:e.dc}),e.cnOptions&&"function"==typeof e.cnOptions.onLost&&!e.notified){try{e.cnOptions.onLost.call(this,t,{cn:n,dc:e.dc,start:e.start,client:this})}catch(t){i.error(t&&t.stack||t)}e.notified=!0}}function a(t){const e=t.end;return t.end=n=>{i.error(`${o.text.clientEnd}\n${o.utils.getLocalStack(1,3)}\n`),n||e.call(t)},e}function u(t,e){Object.defineProperty(t,"$ctx",{value:e,writable:!0})}function c(t,e){let n=e.options.schema;n&&("function"==typeof n&&(n=n.call(e.dc,e.dc)),Array.isArray(n)&&(n=n.filter(t=>t&&"string"==typeof t)),("string"==typeof n||Array.isArray(n)&&n.length)&&t.query(o.formatting.as.format("SET search_path TO $1:name",[n]),t=>{if(t)throw t}))}t.exports=t=>({pool:(e,n)=>function(t,e,n){return n.promise((n,i)=>{const l=e.$pool;if(l.ending){e.$destroy();const n=new Error(o.text.poolDestroyed);return r.error(t.options,n,{dc:t.dc}),void i(n)}l.connect((e,l)=>{if(e)r.error(t.options,e,{cn:o.utils.getSafeConnection(t.cn),dc:t.dc}),i(e);else{"$useCount"in l?l.$useCount++:(Object.defineProperty(l,"$useCount",{value:0,configurable:!1,enumerable:!1,writable:!0}),c(l,t)),u(l,t);const e=a(l);l.on("error",s),n({client:l,useCount:l.$useCount,release(n){l.end=e,l.release(n||l.$connectionError),r.disconnect(t,l),l.removeListener("error",s)}}),r.connect(t,l,l.$useCount)}})})}(e,n,t),direct:e=>function(t,e){return e.promise((n,i)=>{const l=new e.pgp.pg.Client(t.cn);l.connect(e=>{if(e)r.error(t.options,e,{cn:o.utils.getSafeConnection(t.cn),dc:t.dc}),i(e);else{c(l,t),u(l,t);const e=a(l);l.on("error",s),n({client:l,useCount:0,release(){l.end=e,l.end(),r.disconnect(t,l),l.removeListener("error",s)}}),r.connect(t,l,0)}})})}(e,t)})},function(t,e,n){const{Events:r}=n(22),i={utils:n(0),text:n(12)};t.exports=function(t,e,n,o){const s=o.promise;if(t.options.pgNative)return s.reject(new Error(i.text.nativeStreaming));if(!e||!e.constructor||"PgQueryStream"!==e.constructor.name)return s.reject(new TypeError(i.text.invalidStream));if(e._reading||e._closed)return s.reject(new Error(i.text.invalidStreamState));if("function"!=typeof n)return s.reject(new TypeError(i.text.invalidStreamCB));let a=r.query(t.options,v());if(a)return a=g(a),r.error(t.options,a,v()),s.reject(a);const u=t.db.client.query(e);u.on("data",h),u.on("error",d),u.on("end",m);try{n.call(this,u)}catch(e){return y(),a=g(e),r.error(t.options,a,v()),s.reject(a)}const c=Date.now();let l,p,f=0;function h(e){f++,a=r.receive(t.options,[e],void 0,v()),a&&d(a)}function d(e){y(),u.destroy(),e=g(e),r.error(t.options,e,v()),p(e)}function m(){y(),l({processed:f,duration:Date.now()-c})}function y(){u.removeListener("data",h),u.removeListener("error",d),u.removeListener("end",m)}function g(t){return t instanceof i.utils.InternalError?t.error:t}function v(){let n;return t.db?n=t.db.client:a=new Error(i.text.looseQuery),{client:n,dc:t.dc,query:e.cursor.text,params:e.cursor.values,ctx:t.ctx}}return s((t,e)=>{l=t,p=e})}},function(t,e,n){const{Events:r}=n(22),i={spex:n(166),utils:n(0),mode:n(76),query:n(78),text:n(12)};function o(t,e,n,r){const o=r.promise;this.ctx=t.ctx={},i.utils.addReadProp(this.ctx,"isTX",n),"context"in t&&i.utils.addReadProp(this.ctx,"context",t.context),i.utils.addReadProp(this.ctx,"connected",!t.db),i.utils.addReadProp(this.ctx,"tag",e),i.utils.addReadProp(this.ctx,"dc",t.dc),i.utils.addReadProp(this.ctx,"level",t.level),i.utils.addReadProp(this.ctx,"inTransaction",t.inTransaction),n&&i.utils.addReadProp(this.ctx,"txLevel",t.txLevel),i.utils.addReadProp(this.ctx,"parent",t.parentCtx),this.query=function(e,n,s){return t.db?r.$npm.query.call(this,t,e,n,s):o.reject(new Error(i.text.looseQuery))},this.batch=function(t,e){return r.$npm.spex.batch.call(this,t,e)},this.page=function(t,e){return r.$npm.spex.page.call(this,t,e)},this.sequence=function(t,e){return r.$npm.spex.sequence.call(this,t,e)}}const s=(t,e,n,i)=>{const o=i.promise;let s;try{if("GeneratorFunction"===n.constructor.name)throw new TypeError("ES6 generator functions are no longer supported!");s=n.call(e,e)}catch(e){return r.error(t.options,e,{client:t.db&&t.db.client,dc:t.dc,ctx:t.ctx}),o.reject(e)}return s&&"function"==typeof s.then?s:o.resolve(s)},a=(t,e,n,o)=>{const a=o.promise;function u(e,o,s){const a=t.ctx;e?i.utils.addReadProp(a,"start",new Date):(a.finish=new Date,a.success=o,a.result=s,a.duration=a.finish-a.start,i.utils.lock(a,!0)),(n?r.transact:r.task)(t.options,{client:t.db&&t.db.client,dc:t.dc,ctx:a})}let c,l,p,f;const h=t.options.capSQL;if(u(!0),n)return f="level_"+t.txLevel,function(){if(!t.txLevel&&t.mode instanceof i.mode.TransactionMode)return d(t.mode.begin(h),"savepoint");return d("begin","savepoint")}().then(()=>s(t,e,t.cb,o).then(t=>(c=t,p=!0,d("commit","release savepoint")),t=>(l=t,d("rollback","rollback to savepoint"))).then(()=>p?(u(!1,!0,c),c):(u(!1,!1,l),a.reject(l)),t=>(u(!1,!1,t),a.reject(t))),t=>(u(!1,!1,t),a.reject(t)));function d(n,r){return t.txLevel?e.none((h?r.toUpperCase():r)+" "+f):e.none(h?n.toUpperCase():n)}return s(t,e,t.cb,o).then(t=>(u(!1,!0,t),t)).catch(t=>(u(!1,!1,t),a.reject(t)))};t.exports=t=>{const e=t.$npm;return e.query=e.query||i.query(t),e.spex=e.spex||i.spex(t.promiseLib),{Task:o,execute:a,callback:s}}},function(t,e,n){const r={utils:n(167),batch:n(168),page:n(169),sequence:n(170),stream:n(171),errors:n(173)};function i(t){const e={},n=function(t){if(t){let e;if(t instanceof i.PromiseAdapter)return e=function(e){return t.create(e)},e.resolve=t.resolve,e.reject=t.reject,e;const n=typeof t;if("function"===n||"object"===n){const n="function"==typeof t.Promise?t.Promise:t;if(e=function(t){return new n(t)},e.resolve=n.resolve,e.reject=n.reject,"function"==typeof e.resolve&&"function"==typeof e.reject)return e}}throw new TypeError("Invalid promise library specified.")}(t),o={spex:e,promise:n,utils:r.utils(n)};return e.errors=r.errors,e.batch=r.batch(o),e.page=r.page(o),e.sequence=r.sequence(o),e.stream=r.stream(o),o.utils.extend(e,"$p",n),Object.freeze(e),e}i.PromiseAdapter=n(174),i.errors=r.errors,Object.freeze(i),t.exports=i},function(t,e,n){const r={stat:n(29)};t.exports=function(t){const e={formatError:r.stat.formatError,isPromise:r.stat.isPromise,isReadableStream:r.stat.isReadableStream,messageGap:r.stat.messageGap,extend:r.stat.extend,resolve:function(t,r,i,o){const s=this;let a=!1;!function u(){for(;"function"==typeof t;){"GeneratorFunction"===t.constructor.name&&(t=n(t));try{t=r?t.apply(s,r):t.call(s)}catch(t){return void o(t,!1)}}e.isPromise(t)?t.then(e=>(a=!0,t=e,u(),null)).catch(t=>{o(t,!0)}):i(t,a)}()},wrap:function(t){if("function"==typeof t)return"GeneratorFunction"===t.constructor.name?n(t):t;return null}};return e;function n(e){return function(){const n=e.apply(this,arguments);function r(e){return e.done?t.resolve(e.value):t.resolve(e.value).then(t=>r(n.next(t)),t=>r(n.throw(t)))}return r(n.next())}}}},function(t,e,n){const{BatchError:r}=n(79);function i(t,e,n){const i=n.promise,o=n.utils;if(!Array.isArray(t))return i.reject(new TypeError("Method 'batch' requires an array of values."));if(!t.length){const t=[];return o.extend(t,"duration",0),i.resolve(t)}e=e||{};const s=o.wrap(e.cb),a=this,u=Date.now();return i((e,n)=>{let i,c=t.length;const l=[],p=new Array(c);function f(t,f,h){if(s){const e=Date.now(),n=t?e-i:void 0;let r;i=e;try{r=s.call(a,t,f,h,n)}catch(t){d(t)}o.isPromise(r)?r.then(m).catch(t=>{d(t),m()}):m()}else m();function d(e){const n=f?{success:!1}:p[t];f&&(p[t]=n,l.push(t)),n.result=e,n.origin={success:f,result:h}}function m(){if(!--c)if(l.length){if(l.sort(),l.length<p.length)for(let t=0,e=0;t<p.length;t++)t===l[e]?e++:p[t]={success:!0,result:p[t]};n(new r(p,l,Date.now()-u))}else o.extend(p,"duration",Date.now()-u),e(p);return null}}t.forEach((t,e)=>{o.resolve.call(a,t,null,t=>{p[e]=t,f(e,!0,t)},t=>{p[e]={success:!1,result:t},l.push(e),f(e,!1,t)})})})}t.exports=function(t){return function(e,n){return i.call(this,e,n,t)}}},function(t,e,n){const{PageError:r}=n(80);function i(t,e,n){const i=n.promise,o=n.spex,s=n.utils;if("function"!=typeof t)return i.reject(new TypeError("Parameter 'source' must be a function."));e=e||{},t=s.wrap(t);const a=e.limit>0?parseInt(e.limit):0,u=s.wrap(e.dest),c=this,l=Date.now();let p,f,h,d=0;return i((e,n)=>{!function i(m){const y=Date.now(),g=m?y-f:void 0;function v(){return a===++m?_():i(m),null}function _(){e({pages:m,total:d,duration:Date.now()-l})}function b(t,e,i){t.index=m,n(new r(t,e,i,Date.now()-l))}f=y,s.resolve.call(c,t,[m,p,g],e=>{void 0===e?_():e instanceof Array?o.batch(e).then(t=>{if(p=t,d+=t.length,u){const e=Date.now(),n=m?e-h:void 0;let r;h=e;try{r=u.call(c,m,t,n)}catch(e){return void b({error:e,dest:t},4,u.name)}s.isPromise(r)?r.then(v).catch(e=>{b({error:e,dest:t},3,u.name)}):v()}else v();return null}).catch(t=>{b({error:t},0)}):b({error:new Error("Unexpected data returned from the source."),source:p},5,t.name)},(e,n)=>{b({error:e,source:p},n?1:2,t.name)})}(0)})}t.exports=function(t){return function(e,n){return i.call(this,e,n,t)}}},function(t,e,n){const{SequenceError:r}=n(81);function i(t,e,n){const i=n.promise,o=n.utils;if("function"!=typeof t)return i.reject(new TypeError("Parameter 'source' must be a function."));t=o.wrap(t);const s=(e=e||{}).limit>0?parseInt(e.limit):0,a=o.wrap(e.dest),u=this,c=Date.now();let l,p,f,h=[];return i((n,d)=>{!function m(y){const g=Date.now(),v=y?g-p:void 0;function _(t){s===++y?b():t?m(y):i.resolve().then(()=>(m(y),null))}function b(){const t=Date.now()-c;e.track?o.extend(h,"duration",t):h={total:y,duration:t},n(h)}function w(t,e,n){t.index=y,d(new r(t,e,n,Date.now()-c))}p=g,o.resolve.call(u,t,[y,l,v],(t,n)=>{if(l=t,void 0===l)b();else if(e.track&&h.push(l),a){const t=Date.now(),e=y?t-f:void 0;let r;f=t;try{r=a.call(u,y,l,e)}catch(t){return void w({error:t,dest:l},3,a.name)}o.isPromise(r)?r.then(()=>(_(!0),null)).catch(t=>{w({error:t,dest:l},2,a.name)}):_(n)}else _(n)},(e,n)=>{w({error:e,source:l},n?0:1,t.name)})}(0)})}t.exports=function(t){return function(e,n){return i.call(this,e,n,t)}}},function(t,e,n){const r={read:n(172)};t.exports=function(t){const e={read:r.read(t)};return Object.freeze(e),e}},function(t,e){function n(t,e,n,r){const i=r.promise,o=r.utils;if(!o.isReadableStream(t))return i.reject(new TypeError("Readable stream is required."));if("function"!=typeof e)return i.reject(new TypeError("Invalid stream receiver."));e=o.wrap(e);const s=(n=n||{}).readSize>0?parseInt(n.readSize):null,a=this,u=Date.now(),c=n.readChunks?"data":"readable";let l,p,f,h,d=0,m=0,y=0;return i((r,i)=>{function g(r){p=!0,function r(i){if(!p||h||f)return;let u;if(p=!1,n.readChunks)u=i,Array.isArray(u)||(u=[u]),m+=u.length,d++;else{let e;u=[],f=!0;do{e=t.read(s),e&&(u.push(e),m+=e.length||0,d++)}while(e);if(!u.length)return void(f=!1)}const c=Date.now(),g=y?c-l:void 0;let v;l=c;try{v=e.call(a,y++,u,g)}catch(t){return void E(t)}o.isPromise(v)?v.then(()=>(f=!1,r(),null)).catch(t=>{E(t)}):(f=!1,r())}(r)}function v(){n.closable||w()}function _(){w()}function b(t){E(t)}function w(){x(),r({calls:y,reads:d,length:m,duration:Date.now()-u})}function E(t){h=!0,x(),i(t)}function x(){t.removeListener(c,g),t.removeListener("close",_),t.removeListener("error",b),t.removeListener("end",v)}t.on(c,g),t.on("end",v),t.on("close",_),t.on("error",b)})}t.exports=function(t){return function(e,r,i){return n.call(this,e,r,i,t)}}},function(t,e,n){const{BatchError:r}=n(79),{PageError:i}=n(80),{SequenceError:o}=n(81);t.exports={BatchError:r,PageError:i,SequenceError:o},Object.freeze(t.exports)},function(t,e){t.exports=class{constructor(t,e,n){if(this.create=t,this.resolve=e,this.reject=n,"function"!=typeof t)throw new TypeError("Adapter requires a function to create a promise.");if("function"!=typeof e)throw new TypeError("Adapter requires a function to resolve a promise.");if("function"!=typeof n)throw new TypeError("Adapter requires a function to reject a promise.")}}},function(t,e,n){const{invert:r,pick:i}=n(9),{renameKeys:o}=n(30),{CONTENT_DB_KEY_MAP:s,CONTENT_DB_KEYS:a}=n(176);t.exports.mapContentToDB=o(r(s)),t.exports.mapContentFromDB=o(s),t.exports.pickContentDBKeys=i(a)},function(t,e,n){const{PGP:r}=n(31),i=["id","category_id","label","markdown"],o=new r.helpers.ColumnSet(i,{table:"contents"});t.exports={ERROR_MESSAGE_NOT_FOUND_CONTENT:"could not find content",CONTENT_DB_KEY_MAP:{category_id:"categoryId"},CONTENT_DB_KEYS:i,CONTENT_TABLE:"contents",CONTENT_COLUMN_SET:o,MODULE_CONTEXT:{package:"markdown-api",module:"contents"}}},function(t,e,n){(function(e){const r=n(83),{errors:i}=n(14),o=n(3),{connection:s}=n(82),a=n(208),{QueryResultError:u}=i;t.exports.migrationStateStore={load:t=>s.task(e=>r.resolve(e).tap(t=>t.none(a.createTable)).then(t=>t.one(a.find)).tap(({data:e})=>{t(null,e)}).catch(u,()=>{console.warn("Cannot read migrations from database. If this is the first time you run migrations, then this is normal."),t(null,{})})),save:(t,e)=>s.task(n=>r.resolve(n).tap(t=>t.none(a.createTable)).tap(e=>e.none(a.create,[{lastRun:t.lastRun,migrations:t.migrations}])).tap(()=>{e()}))},t.exports.handleMigrationError=(t,n)=>r=>{const i=o.relative(process.cwd(),e);return console.error(`${i} :: ${t} :: ERROR :: ${n}`),console.error(r.stack),Promise.reject(r)}}).call(this,"/index.js")},function(t,e,n){"use strict";t.exports=function(){var e=function(){return new g("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new O.PromiseInspection(this._target())},i=function(t){return O.reject(new g(t))};function o(){}var s={},a=n(1);a.setReflectHandler(r);var u=function(){var t=process.domain;return void 0===t?null:t},c=function(){return{domain:u(),async:null}},l=a.isNode&&a.nodeSupportsAsyncResource?n(84).AsyncResource:null,p=function(){return{domain:u(),async:new l("Bluebird::Promise")}},f=a.isNode?c:function(){return null};a.notEnumerableProp(O,"_getContext",f);var h=n(13),d=n(179),m=new d;h.defineProperty(O,"_async",{value:m});var y=n(11),g=O.TypeError=y.TypeError;O.RangeError=y.RangeError;var v=O.CancellationError=y.CancellationError;O.TimeoutError=y.TimeoutError,O.OperationalError=y.OperationalError,O.RejectionError=y.OperationalError,O.AggregateError=y.AggregateError;var _=function(){},b={},w={},E=n(182)(O,_),x=n(183)(O,_,E,i,o),C=n(184)(O),S=C.create,T=n(185)(O,C,(function(){f=p,a.notEnumerableProp(O,"_getContext",p)}),(function(){f=c,a.notEnumerableProp(O,"_getContext",c)})),k=(T.CapturedTrace,n(186)(O,E,w)),P=n(85)(w),R=n(86),A=a.errorObj,j=a.tryCatch;function O(t){t!==_&&function(t,e){if(null==t||t.constructor!==O)throw new g("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new g("expecting a function but got "+a.classString(e))}(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function F(t){this.promise._resolveCallback(t)}function N(t){this.promise._rejectCallback(t,!1)}function I(t){var e=new O(_);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}return O.prototype.toString=function(){return"[object Promise]"},O.prototype.caught=O.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),o=0;for(n=0;n<e-1;++n){var s=arguments[n];if(!a.isObject(s))return i("Catch statement predicate: expecting an object but got "+a.classString(s));r[o++]=s}if(r.length=o,"function"!=typeof(t=arguments[n]))throw new g("The last argument to .catch() must be a function, got "+a.toString(t));return this.then(void 0,P(r,t,this))}return this.then(void 0,t)},O.prototype.reflect=function(){return this._then(r,r,void 0,this,void 0)},O.prototype.then=function(t,e){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+a.classString(t);arguments.length>1&&(n+=", "+a.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},O.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},O.prototype.spread=function(t){return"function"!=typeof t?i("expecting a function but got "+a.classString(t)):this.all()._then(t,void 0,void 0,b,void 0)},O.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},O.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new x(this).promise()},O.prototype.error=function(t){return this.caught(a.originatesFromRejection,t)},O.getNewLibraryCopy=t.exports,O.is=function(t){return t instanceof O},O.fromNode=O.fromCallback=function(t){var e=new O(_);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=j(t)(R(e,n));return r===A&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},O.all=function(t){return new x(t).promise()},O.cast=function(t){var e=E(t);return e instanceof O||((e=new O(_))._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},O.resolve=O.fulfilled=O.cast,O.reject=O.rejected=function(t){var e=new O(_);return e._captureStackTrace(),e._rejectCallback(t,!0),e},O.setScheduler=function(t){if("function"!=typeof t)throw new g("expecting a function but got "+a.classString(t));return m.setScheduler(t)},O.prototype._then=function(t,e,n,r,i){var o=void 0!==i,s=o?i:new O(_),u=this._target(),c=u._bitField;o||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&c)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var l=f();if(0!=(50397184&c)){var p,h,d=u._settlePromiseCtx;0!=(33554432&c)?(h=u._rejectionHandler0,p=t):0!=(16777216&c)?(h=u._fulfillmentHandler0,p=e,u._unsetRejectionIsUnhandled()):(d=u._settlePromiseLateCancellationObserver,h=new v("late cancellation observer"),u._attachExtraTrace(h),p=e),m.invoke(d,u,{handler:a.contextBind(l,p),promise:s,receiver:r,value:h})}else u._addCallbacks(t,e,s,r,l);return s},O.prototype._length=function(){return 65535&this._bitField},O.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},O.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},O.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},O.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},O.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},O.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},O.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},O.prototype._isFinal=function(){return(4194304&this._bitField)>0},O.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},O.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},O.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},O.prototype._setAsyncGuaranteed=function(){if(!m.hasCustomScheduler()){var t=this._bitField;this._bitField=t|(536870912&t)>>2^134217728}},O.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},O.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==s)return void 0===e&&this._isBound()?this._boundValue():e},O.prototype._promiseAt=function(t){return this[4*t-4+2]},O.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},O.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},O.prototype._boundValue=function(){},O.prototype._migrateCallback0=function(t){t._bitField;var e=t._fulfillmentHandler0,n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=s),this._addCallbacks(e,n,r,i,null)},O.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=s),this._addCallbacks(n,r,i,o,null)},O.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=a.contextBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=a.contextBind(i,e));else{var s=4*o-4;this[s+2]=n,this[s+3]=r,"function"==typeof t&&(this[s+0]=a.contextBind(i,t)),"function"==typeof e&&(this[s+1]=a.contextBind(i,e))}return this._setLength(o+1),o},O.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},O.prototype._resolveCallback=function(t,n){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(e(),!1);var r=E(t,this);if(!(r instanceof O))return this._fulfill(t);n&&this._propagateFrom(r,2);var i=r._target();if(i!==this){var o=i._bitField;if(0==(50397184&o)){var s=this._length();s>0&&i._migrateCallback0(this);for(var a=1;a<s;++a)i._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!=(33554432&o))this._fulfill(i._value());else if(0!=(16777216&o))this._reject(i._reason());else{var u=new v("late cancellation observer");i._attachExtraTrace(u),this._reject(u)}}else this._reject(e())}},O.prototype._rejectCallback=function(t,e,n){var r=a.ensureErrorObject(t),i=r===t;if(!i&&!n&&T.warnings()){var o="a promise was rejected with a non-error: "+a.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},O.prototype._resolveFromExecutor=function(t){if(t!==_){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,(function(t){e._resolveCallback(t)}),(function(t){e._rejectCallback(t,n)}));n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)}},O.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0==(65536&i)){var o;r._pushContext(),e===b?n&&"number"==typeof n.length?o=j(t).apply(this._boundValue(),n):(o=A).e=new g("cannot .spread() a non-array: "+a.classString(n)):o=j(t).call(e,n);var s=r._popContext();0==(65536&(i=r._bitField))&&(o===w?r._reject(n):o===A?r._rejectCallback(o.e,!1):(T.checkForgottenReturns(o,s,"",r,this),r._resolveCallback(o)))}},O.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},O.prototype._followee=function(){return this._rejectionHandler0},O.prototype._setFollowee=function(t){this._rejectionHandler0=t},O.prototype._settlePromise=function(t,e,n,i){var s=t instanceof O,a=this._bitField,u=0!=(134217728&a);0!=(65536&a)?(s&&t._invokeInternalOnCancel(),n instanceof k&&n.isFinallyHandler()?(n.cancelPromise=t,j(e).call(n,i)===A&&t._reject(A.e)):e===r?t._fulfill(r.call(n)):n instanceof o?n._promiseCancelled(t):s||t instanceof x?t._cancel():n.cancel()):"function"==typeof e?s?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof o?n._isResolved()||(0!=(33554432&a)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):s&&(u&&t._setAsyncGuaranteed(),0!=(33554432&a)?t._fulfill(i):t._reject(i))},O.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof O?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof O&&n._reject(i)},O.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},O.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},O.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},O.prototype._fulfill=function(t){var n=this._bitField;if(!((117506048&n)>>>16)){if(t===this){var r=e();return this._attachExtraTrace(r),this._reject(r)}this._setFulfilled(),this._rejectionHandler0=t,(65535&n)>0&&(0!=(134217728&n)?this._settlePromises():m.settlePromises(this),this._dereferenceTrace())}},O.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal())return m.fatalError(t,a.isNode);(65535&e)>0?m.settlePromises(this):this._ensurePossibleRejectionHandled()}},O.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},O.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},O.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!=(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},O.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&h.defineProperty(O.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),O.defer=O.pending=function(){return T.deprecated("Promise.defer","new Promise"),{promise:new O(_),resolve:F,reject:N}},a.notEnumerableProp(O,"_makeSelfResolutionError",e),n(187)(O,_,E,i,T),n(188)(O,_,E,T),n(189)(O,x,i,T),n(190)(O),n(191)(O),n(192)(O,x,E,_,m),O.Promise=O,O.version="3.7.2",n(193)(O),n(194)(O,i,_,E,o,T),n(195)(O,x,i,E,_,T),n(196)(O),n(197)(O,_),n(198)(O,x,E,i),n(199)(O,_,E,i),n(200)(O,x,i,E,_,T),n(201)(O,x,T),n(202)(O,x,i),n(203)(O,_,T),n(204)(O,i,E,S,_,T),n(205)(O),n(206)(O,_),n(207)(O,_),a.toFastProperties(O),a.toFastProperties(O.prototype),I({a:1}),I({b:2}),I({c:3}),I(1),I((function(){})),I(void 0),I(!1),I(new O(_)),T.setBounds(d.firstLineError,a.lastLineError),O}},function(t,e,n){"use strict";var r;try{throw new Error}catch(t){r=t}var i=n(180),o=n(181);function s(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new o(16),this._normalQueue=new o(16),this._haveDrainedQueues=!1;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=i}function a(t){for(;t.length()>0;)u(t)}function u(t){var e=t.shift();if("function"!=typeof e)e._settlePromises();else{var n=t.shift(),r=t.shift();e.call(n,r)}}s.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},s.prototype.hasCustomScheduler=function(){return this._customScheduler},s.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},s.prototype.fatalError=function(t,e){e?(process.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},s.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout((function(){t(e)}),0);else try{this._schedule((function(){t(e)}))}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.prototype.invokeLater=function(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()},s.prototype.invoke=function(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()},s.prototype.settlePromises=function(t){this._normalQueue._pushOne(t),this._queueTick()},s.prototype._drainQueues=function(){a(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,a(this._lateQueue)},s.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},s.prototype._reset=function(){this._isTickUsed=!1},t.exports=s,t.exports.firstLineError=r},function(t,e,n){"use strict";var r,i=n(1),o=i.getNativePromise();if(i.isNode&&"undefined"==typeof MutationObserver){var s=global.setImmediate,a=process.nextTick;r=i.isRecentNode?function(t){s.call(global,t)}:function(t){a.call(process,t)}}else if("function"==typeof o&&"function"==typeof o.resolve){var u=o.resolve();r=function(t){u.then(t)}}else r="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)||!("classList"in document.documentElement)?"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div");new MutationObserver((function(){t.classList.toggle("foo"),n=!1})).observe(r,e);return function(i){var o=new MutationObserver((function(){o.disconnect(),i()}));o.observe(t,e),n||(n=!0,r.classList.toggle("foo"))}}();t.exports=r},function(t,e,n){"use strict";function r(t){this._capacity=t,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(t){return this._capacity<t},r.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},r.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},r.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,function(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+e],t[o+e]=void 0}(this,0,this,e,this._front+this._length&e-1)},t.exports=r},function(t,e,n){"use strict";t.exports=function(t,e){var r=n(1),i=r.errorObj,o=r.isObject;var s={}.hasOwnProperty;return function(n,a){if(o(n)){if(n instanceof t)return n;var u=function(t){try{return function(t){return t.then}(t)}catch(t){return i.e=t,i}}(n);if(u===i){a&&a._pushContext();var c=t.reject(u.e);return a&&a._popContext(),c}if("function"==typeof u){if(function(t){try{return s.call(t,"_promise0")}catch(t){return!1}}(n)){c=new t(e);return n._then(c._fulfill,c._reject,void 0,c,null),c}return function(n,o,s){var a=new t(e),u=a;s&&s._pushContext();a._captureStackTrace(),s&&s._popContext();var c=r.tryCatch(o).call(n,(function(t){if(!a)return;a._resolveCallback(t),a=null}),(function(t){if(!a)return;a._rejectCallback(t,!1,!0),a=null}));!1,a&&c===i&&(a._rejectCallback(c.e,!0,!0),a=null);return u}(n,u,a)}}return n}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o){var s=n(1);s.isArray;function a(n){var r=this._promise=new t(e);n instanceof t&&(r._propagateFrom(n,3),n.suppressUnhandledRejections()),r._setOnCancel(this),this._values=n,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function e(n,o){var a=r(this._values,this._promise);if(a instanceof t){var u=(a=a._target())._bitField;if(this._values=a,0==(50397184&u))return this._promise._setAsyncGuaranteed(),a._then(e,this._reject,void 0,this,o);if(0==(33554432&u))return 0!=(16777216&u)?this._reject(a._reason()):this._cancel();a=a._value()}if(null!==(a=s.asArray(a)))0!==a.length?this._iterate(a):-5===o?this._resolveEmptyArray():this._resolve(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(o));else{var c=i("expecting an array or an iterable object but got "+s.classString(a)).reason();this._promise._rejectCallback(c,!1)}},a.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,s=null,a=0;a<n;++a){var u=r(e[a],i);s=u instanceof t?(u=u._target())._bitField:null,o?null!==s&&u.suppressUnhandledRejections():null!==s?0==(50397184&s)?(u._proxy(this,a),this._values[a]=u):o=0!=(33554432&s)?this._promiseFulfilled(u._value(),a):0!=(16777216&s)?this._promiseRejected(u._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(u,a)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},function(t,e,n){"use strict";t.exports=function(t){var e=!1,n=[];function r(){this._trace=new r.CapturedTrace(i())}function i(){var t=n.length-1;if(t>=0)return n[t]}return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},r.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(void 0!==this._trace){var t=n.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},r.CapturedTrace=null,r.create=function(){if(e)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,s=t._peekContext,a=t.prototype._peekContext,u=t.prototype._promiseCreated;r.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=s,t.prototype._peekContext=a,t.prototype._promiseCreated=u,e=!1},e=!0,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,t._peekContext=t.prototype._peekContext=i,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},r}},function(t,e,n){"use strict";t.exports=function(t,e,r,i){var o,s,a,u,c=t._async,l=n(11).Warning,p=n(1),f=n(13),h=p.canAttachTrace,d=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,y=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,g=null,v=null,_=!1,b=!(0==p.env("BLUEBIRD_DEBUG")||!p.env("BLUEBIRD_DEBUG")&&"development"!==p.env("NODE_ENV")),w=!(0==p.env("BLUEBIRD_WARNINGS")||!b&&!p.env("BLUEBIRD_WARNINGS")),E=!(0==p.env("BLUEBIRD_LONG_STACK_TRACES")||!b&&!p.env("BLUEBIRD_LONG_STACK_TRACES")),x=0!=p.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(w||!!p.env("BLUEBIRD_W_FORGOTTEN_RETURN"));!function(){var e=[];function n(){for(var t=0;t<e.length;++t)e[t]._notifyUnhandledRejection();r()}function r(){e.length=0}u=function(t){e.push(t),setTimeout(n,1)},f.defineProperty(t,"_unhandledRejectionCheck",{value:n}),f.defineProperty(t,"_unhandledRejectionClear",{value:r})}(),t.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},t.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),u(this))},t.prototype._notifyUnhandledRejectionIsHandled=function(){H("rejectionHandled",o,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},t.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),H("unhandledRejection",s,t,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},t.prototype._warn=function(t,e,n){return $(t,e,n||this)},t.onPossiblyUnhandledRejection=function(e){var n=t._getContext();s=p.contextBind(n,e)},t.onUnhandledRejectionHandled=function(e){var n=t._getContext();o=p.contextBind(n,e)};var C=function(){};t.longStackTraces=function(){if(c.haveItemsQueued()&&!et.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&J()){var n=t.prototype._captureStackTrace,r=t.prototype._attachExtraTrace,i=t.prototype._dereferenceTrace;et.longStackTraces=!0,C=function(){if(c.haveItemsQueued()&&!et.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=n,t.prototype._attachExtraTrace=r,t.prototype._dereferenceTrace=i,e.deactivateLongStackTraces(),et.longStackTraces=!1},t.prototype._captureStackTrace=Q,t.prototype._attachExtraTrace=B,t.prototype._dereferenceTrace=U,e.activateLongStackTraces()}},t.hasLongStackTraces=function(){return et.longStackTraces&&J()};var S={unhandledrejection:{before:function(){var t=p.global.onunhandledrejection;return p.global.onunhandledrejection=null,t},after:function(t){p.global.onunhandledrejection=t}},rejectionhandled:{before:function(){var t=p.global.onrejectionhandled;return p.global.onrejectionhandled=null,t},after:function(t){p.global.onrejectionhandled=t}}},T=function(){var t=function(t,e){if(!t)return!p.global.dispatchEvent(e);var n;try{return n=t.before(),!p.global.dispatchEvent(e)}finally{t.after(n)}};try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return p.global.dispatchEvent(e),function(e,n){e=e.toLowerCase();var r=new CustomEvent(e,{detail:n,cancelable:!0});return f.defineProperty(r,"promise",{value:n.promise}),f.defineProperty(r,"reason",{value:n.reason}),t(S[e],r)}}if("function"==typeof Event){e=new Event("CustomEvent");return p.global.dispatchEvent(e),function(e,n){e=e.toLowerCase();var r=new Event(e,{cancelable:!0});return r.detail=n,f.defineProperty(r,"promise",{value:n.promise}),f.defineProperty(r,"reason",{value:n.reason}),t(S[e],r)}}return(e=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),p.global.dispatchEvent(e),function(e,n){e=e.toLowerCase();var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,!1,!0,n),t(S[e],r)}}catch(t){}return function(){return!1}}(),k=p.isNode?function(){return process.emit.apply(process,arguments)}:p.global?function(t){var e="on"+t.toLowerCase(),n=p.global[e];return!!n&&(n.apply(p.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function P(t,e){return{promise:e}}var R={promiseCreated:P,promiseFulfilled:P,promiseRejected:P,promiseResolved:P,promiseCancelled:P,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:P},A=function(t){var e=!1;try{e=k.apply(null,arguments)}catch(t){c.throwLater(t),e=!0}var n=!1;try{n=T(t,R[t].apply(null,arguments))}catch(t){c.throwLater(t),n=!0}return n||e};function j(){return!1}function O(t,e,n){var r=this;try{t(e,n,(function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+p.toString(t));r._attachCancellationCallback(t)}))}catch(t){return t}}function F(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?p.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function N(){return this._onCancelField}function I(t){this._onCancelField=t}function q(){this._cancellationParent=void 0,this._onCancelField=void 0}function M(t,e){if(0!=(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}t.config=function(e){if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&C()),"warnings"in e){var n=e.warnings;et.warnings=!!n,x=et.warnings,p.isObject(n)&&"wForgottenReturn"in n&&(x=!!n.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!et.cancellation){if(c.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=q,t.prototype._propagateFrom=M,t.prototype._onCancel=N,t.prototype._setOnCancel=I,t.prototype._attachCancellationCallback=F,t.prototype._execute=O,L=M,et.cancellation=!0}if("monitoring"in e&&(e.monitoring&&!et.monitoring?(et.monitoring=!0,t.prototype._fireEvent=A):!e.monitoring&&et.monitoring&&(et.monitoring=!1,t.prototype._fireEvent=j)),"asyncHooks"in e&&p.nodeSupportsAsyncResource){var o=et.asyncHooks,s=!!e.asyncHooks;o!==s&&(et.asyncHooks=s,s?r():i())}return t},t.prototype._fireEvent=j,t.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(t){},t.prototype._attachCancellationCallback=function(t){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._dereferenceTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(t,e){};var L=function(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)};function D(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function Q(){this._trace=new Z(this._peekContext())}function B(t,e){if(h(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=V(t);p.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),p.notEnumerableProp(t,"__stackCleaned__",!0)}}}function U(){this._trace=void 0}function $(e,n,r){if(et.warnings){var i,o=new l(e);if(n)r._attachExtraTrace(o);else if(et.longStackTraces&&(i=t._peekContext()))i.attachExtraTrace(o);else{var s=V(o);o.stack=s.message+"\n"+s.stack.join("\n")}A("warning",o)||z(o,"",!0)}}function G(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||g.test(r),o=i&&Y(r);i&&!o&&(_&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function V(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||g.test(r))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:G(e)}}function z(t,e,n){if("undefined"!=typeof console){var r;if(p.isObject(t)){var i=t.stack;r=e+v(i,t)}else r=e+String(t);"function"==typeof a?a(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function H(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(t){c.throwLater(t)}"unhandledRejection"===t?A(t,n,r)||i||z(n,"Unhandled rejection "):A(t,r)}function W(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():p.toString(t);if(/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+function(t){if(t.length<41)return t;return t.substr(0,38)+"..."}(e)+">, no stack trace)"}function J(){return"function"==typeof tt}var Y=function(){return!1},K=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function X(t){var e=t.match(K);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function Z(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);tt(this,Z),e>32&&this.uncycle()}p.inherits(Z,Error),e.CapturedTrace=Z,Z.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;for(r=(t=this._length=r)-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(r=0;r<t;++r){var s=n[e[r].stack];if(void 0!==s&&s!==r){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var a=r>0?e[r-1]:this;s<t-1?(a._parent=e[s+1],a._parent.uncycle(),a._length=a._parent._length+1):(a._parent=void 0,a._length=1);for(var u=a._length+1,c=r-2;c>=0;--c)e[c]._length=u,u++;return}}}},Z.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=V(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(G(i.stack.split("\n"))),i=i._parent;!function(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(a=s;a>=0;--a){var u=r[a];if(e[i]!==u)break;e.pop(),i--}e=r}}(r),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(r),p.notEnumerableProp(t,"stack",function(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}(n,r)),p.notEnumerableProp(t,"__stackCleaned__",!0)}};var tt=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():W(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,g=t,v=e;var n=Error.captureStackTrace;return Y=function(t){return d.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r,i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return g=/@/,v=e,_=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(t){r="stack"in t}return!("stack"in i)&&r&&"number"==typeof Error.stackTraceLimit?(g=t,v=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6}):(v=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?W(e):e.toString()},null)}();"undefined"!=typeof console&&void 0!==console.warn&&(a=function(t){console.warn(t)},p.isNode&&process.stderr.isTTY?a=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:p.isNode||"string"!=typeof(new Error).stack||(a=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var et={warnings:w,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return E&&t.longStackTraces(),{asyncHooks:function(){return et.asyncHooks},longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return L},boundValueFunction:function(){return D},checkForgottenReturns:function(t,e,n,r,i){if(void 0===t&&null!==e&&x){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var o="",s="";if(e._trace){for(var a=e._trace.stack.split("\n"),u=G(a),c=u.length-1;c>=0;--c){var l=u[c];if(!m.test(l)){var p=l.match(y);p&&(o="at "+p[1]+":"+p[2]+":"+p[3]+" ");break}}if(u.length>0){var f=u[0];for(c=0;c<a.length;++c)if(a[c]===f){c>0&&(s="\n"+a[c-1]);break}}}var h="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r._warn(h,!0,e)}},setBounds:function(t,e){if(J()){for(var n,r,i=(t.stack||"").split("\n"),o=(e.stack||"").split("\n"),s=-1,a=-1,u=0;u<i.length;++u){if(c=X(i[u])){n=c.fileName,s=c.line;break}}for(u=0;u<o.length;++u){var c;if(c=X(o[u])){r=c.fileName,a=c.line;break}}s<0||a<0||!n||!r||n!==r||s>=a||(Y=function(t){if(d.test(t))return!0;var e=X(t);return!!(e&&e.fileName===n&&s<=e.line&&e.line<=a)})}},warn:$,deprecated:function(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),$(n)},CapturedTrace:Z,fireDomEvent:T,fireGlobalEvent:k}}},function(t,e,n){"use strict";t.exports=function(t,e,r){var i=n(1),o=t.CancellationError,s=i.errorObj,a=n(85)(r);function u(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function c(t){this.finallyHandler=t}function l(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function p(){return h.call(this,this.promise._target()._settledValue())}function f(t){if(!l(this,t))return s.e=t,s}function h(n){var i=this.promise,a=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?a.call(i._boundValue()):a.call(i._boundValue(),n);if(u===r)return u;if(void 0!==u){i._setReturnedNonUndefined();var h=e(u,i);if(h instanceof t){if(null!=this.cancelPromise){if(h._isCancelled()){var d=new o("late cancellation observer");return i._attachExtraTrace(d),s.e=d,s}h.isPending()&&h._attachCancellationCallback(new c(this))}return h._then(p,f,void 0,this,void 0)}}}return i.isRejected()?(l(this),s.e=n,s):(l(this),n)}return u.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){l(this.finallyHandler)},t.prototype._passThrough=function(t,e,n,r){return"function"!=typeof t?this.then():this._then(n,r,void 0,new u(this,e,t),void 0)},t.prototype.lastly=t.prototype.finally=function(t){return this._passThrough(t,0,h,h)},t.prototype.tap=function(t){return this._passThrough(t,1,h)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,h);var r,o=new Array(n-1),s=0;for(r=0;r<n-1;++r){var u=arguments[r];if(!i.isObject(u))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+i.classString(u)));o[s++]=u}o.length=s;var c=arguments[r];return this._passThrough(a(o,c,this),1,void 0,h)},u}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o){var s=n(1),a=s.tryCatch;t.method=function(n){if("function"!=typeof n)throw new t.TypeError("expecting a function but got "+s.classString(n));return function(){var r=new t(e);r._captureStackTrace(),r._pushContext();var i=a(n).apply(this,arguments),s=r._popContext();return o.checkForgottenReturns(i,s,"Promise.method",r),r._resolveFromSyncValue(i),r}},t.attempt=t.try=function(n){if("function"!=typeof n)return i("expecting a function but got "+s.classString(n));var r,u=new t(e);if(u._captureStackTrace(),u._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];r=s.isArray(c)?a(n).apply(l,c):a(n).call(l,c)}else r=a(n)();var p=u._popContext();return o.checkForgottenReturns(r,p,"Promise.try",u),u._resolveFromSyncValue(r),u},t.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},a=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var c=n(o),l=new t(e);l._propagateFrom(this,1);var p=this._target();if(l._setBoundTo(c),c instanceof t){var f={promiseRejectionQueued:!1,promise:l,target:p,bindingPromise:c};p._then(e,s,void 0,l,f),c._then(a,u,void 0,l,f),l._setOnCancel(c)}else l._resolveCallback(p);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i){var o=n(1),s=o.tryCatch,a=o.errorObj,u=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=s(t).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else t._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},function(t,e,n){"use strict";t.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},function(t,e,n){"use strict";t.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},a=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o){var s,a=n(1),u=a.canEvaluate,c=a.tryCatch,l=a.errorObj;if(u){for(var p=function(t){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,t))},f=function(t){return new Function("promise","holder","                           \n            'use strict';                                                    \n            holder.pIndex = promise;                                         \n            ".replace(/Index/g,t))},h=function(e){for(var n=new Array(e),r=0;r<n.length;++r)n[r]="this.p"+(r+1);var i=n.join(" = ")+" = null;",s="var promise;\n"+n.map((function(t){return"                                                         \n                promise = "+t+";                                      \n                if (promise instanceof Promise) {                            \n                    promise.cancel();                                        \n                }                                                            \n            "})).join("\n"),a=n.join(", "),u="Holder$"+e,p="return function(tryCatch, errorObj, Promise, async) {    \n            'use strict';                                                    \n            function [TheName](fn) {                                         \n                [TheProperties]                                              \n                this.fn = fn;                                                \n                this.asyncNeeded = true;                                     \n                this.now = 0;                                                \n            }                                                                \n                                                                             \n            [TheName].prototype._callFunction = function(promise) {          \n                promise._pushContext();                                      \n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n                promise._popContext();                                       \n                if (ret === errorObj) {                                      \n                    promise._rejectCallback(ret.e, false);                   \n                } else {                                                     \n                    promise._resolveCallback(ret);                           \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype.checkFulfillment = function(promise) {       \n                var now = ++this.now;                                        \n                if (now === [TheTotal]) {                                    \n                    if (this.asyncNeeded) {                                  \n                        async.invoke(this._callFunction, this, promise);     \n                    } else {                                                 \n                        this._callFunction(promise);                         \n                    }                                                        \n                                                                             \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype._resultCancelled = function() {              \n                [CancellationCode]                                           \n            };                                                               \n                                                                             \n            return [TheName];                                                \n        }(tryCatch, errorObj, Promise, async);                               \n        ";return p=p.replace(/\[TheName\]/g,u).replace(/\[TheTotal\]/g,e).replace(/\[ThePassedArguments\]/g,a).replace(/\[TheProperties\]/g,i).replace(/\[CancellationCode\]/g,s),new Function("tryCatch","errorObj","Promise","async",p)(c,l,t,o)},d=[],m=[],y=[],g=0;g<8;++g)d.push(h(g+1)),m.push(p(g+1)),y.push(f(g+1));s=function(t){this._reject(t)}}t.join=function(){var n,o=arguments.length-1;if(o>0&&"function"==typeof arguments[o]&&(n=arguments[o],o<=8&&u)){(E=new t(i))._captureStackTrace();for(var c=d[o-1],l=new c(n),p=m,f=0;f<o;++f){var h=r(arguments[f],E);if(h instanceof t){var g=(h=h._target())._bitField;0==(50397184&g)?(h._then(p[f],s,void 0,E,l),y[f](h,l),l.asyncNeeded=!1):0!=(33554432&g)?p[f].call(E,h._value(),l):0!=(16777216&g)?E._reject(h._reason()):E._cancel()}else p[f].call(E,h,l)}if(!E._isFateSealed()){if(l.asyncNeeded){var v=t._getContext();l.fn=a.contextBind(v,l.fn)}E._setAsyncGuaranteed(),E._setOnCancel(l)}return E}for(var _=arguments.length,b=new Array(_),w=0;w<_;++w)b[w]=arguments[w];n&&b.pop();var E=new e(b).promise();return void 0!==n?E.spread(n):E}}},function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}t.exports=function(t){var e,r,s=n(1),a=s.canEvaluate,u=s.isIdentifier,c=function(t){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,t))(f)},l=function(t){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",t))},p=function(t,e,n){var r=n[t];if("function"!=typeof r){if(!u(t))return null;if(r=e(t),n[t]=r,n[" size"]++,n[" size"]>512){for(var i=Object.keys(n),o=0;o<256;++o)delete n[i[o]];n[" size"]=i.length-256}}return r};function f(e,n){var r;if(null!=e&&(r=e[n]),"function"!=typeof r){var i="Object "+s.classString(e)+" has no method '"+s.toString(n)+"'";throw new t.TypeError(i)}return r}function h(t){return f(t,this.pop()).apply(t,this)}function d(t){return t[this]}function m(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}e=function(t){return p(t,c,i)},r=function(t){return p(t,l,o)},t.prototype.call=function(t){for(var n=arguments.length,r=new Array(Math.max(n-1,0)),i=1;i<n;++i)r[i-1]=arguments[i];if(a){var o=e(t);if(null!==o)return this._then(o,void 0,void 0,r,void 0)}return r.push(t),this._then(h,void 0,void 0,r,void 0)},t.prototype.get=function(t){var e;if("number"==typeof t)e=m;else if(a){var n=r(t);e=null!==n?n:d}else e=d;return this._then(e,void 0,void 0,t,void 0)}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o,s){var a=n(11).TypeError,u=n(1),c=u.errorObj,l=u.tryCatch,p=[];function f(e,n,i,o){if(s.cancellation()){var a=new t(r),u=this._finallyPromise=new t(r);this._promise=a.lastly((function(){return u})),a._captureStackTrace(),a._setOnCancel(this)}else{(this._promise=new t(r))._captureStackTrace()}this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}u.inherits(f,o),f.prototype._isResolved=function(){return null===this._promise},f.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},f.prototype._promiseCancelled=function(){if(!this._isResolved()){var e;if(void 0!==this._generator.return)this._promise._pushContext(),e=l(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),e=l(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},f.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=l(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},f.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=l(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},f.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},f.prototype.promise=function(){return this._promise},f.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},f.prototype._continue=function(e){var n=this._promise;if(e===c)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var r=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(o instanceof t||null!==(o=function(e,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=l(n[o])(e);if(r._popContext(),s===c){r._pushContext();var a=t.reject(c.e);return r._popContext(),a}var u=i(s,r);if(u instanceof t)return u}return null}(o,this._yieldHandlers,this._promise))){var s=(o=o._target())._bitField;0==(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&s)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&s)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new a("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},t.coroutine=function(t,e){if("function"!=typeof t)throw new a("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=f,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),s=o.promise();return o._generator=e,o._promiseFulfilled(void 0),s}},t.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new a("expecting a function but got "+u.classString(t));p.push(t)},t.spawn=function(n){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof n)return e("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new f(n,this),i=r.promise();return r._run(t.spawn),i}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o,s){var a=n(1),u=a.tryCatch,c=a.errorObj,l=t._async;function p(e,n,r,i){this.constructor$(e),this._promise._captureStackTrace();var s=t._getContext();if(this._callback=a.contextBind(s,n),this._preservedValues=i===o?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=[],l.invoke(this._asyncInit,this,void 0),a.isArray(e))for(var u=0;u<e.length;++u){var c=e[u];c instanceof t&&c.suppressUnhandledRejections()}}function f(e,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+a.classString(n));var s=0;if(void 0!==i){if("object"!=typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+a.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+a.classString(i.concurrency)));s=i.concurrency}return new p(e,n,s="number"==typeof s&&isFinite(s)&&s>=1?s:0,o).promise()}a.inherits(p,e),p.prototype._asyncInit=function(){this._init$(void 0,-2)},p.prototype._init=function(){},p.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),a=this._preservedValues,l=this._limit;if(n<0){if(r[n=-1*n-1]=e,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return r[n]=e,this._queue.push(n),!1;null!==a&&(a[n]=e);var p=this._promise,f=this._callback,h=p._boundValue();p._pushContext();var d=u(f).call(h,e,n,o),m=p._popContext();if(s.checkForgottenReturns(d,m,null!==a?"Promise.filter":"Promise.map",p),d===c)return this._reject(d.e),!0;var y=i(d,this._promise);if(y instanceof t){var g=(y=y._target())._bitField;if(0==(50397184&g))return l>=1&&this._inFlight++,r[n]=y,y._proxy(this,-1*(n+1)),!1;if(0==(33554432&g))return 0!=(16777216&g)?(this._reject(y._reason()),!0):(this._cancel(),!0);d=y._value()}r[n]=d}return++this._totalResolved>=o&&(null!==a?this._filter(r,a):this._resolve(r),!0)},p.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},p.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},p.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(t,e){return f(this,t,e,null)},t.map=function(t,e,n,r){return f(t,e,n,r)}}},function(t,e,n){"use strict";t.exports=function(t){var e=n(1),r=t._async,i=e.tryCatch,o=e.errorObj;function s(t,n){if(!e.isArray(t))return a.call(this,t,n);var s=i(n).apply(this._boundValue(),[null].concat(t));s===o&&r.throwLater(s.e)}function a(t,e){var n=this._boundValue(),s=void 0===t?i(e).call(n,null):i(e).call(n,null,t);s===o&&r.throwLater(s.e)}function u(t,e){if(!t){var n=new Error(t+"");n.cause=t,t=n}var s=i(e).call(this._boundValue(),t);s===o&&r.throwLater(s.e)}t.prototype.asCallback=t.prototype.nodeify=function(t,e){if("function"==typeof t){var n=a;void 0!==e&&Object(e).spread&&(n=s),this._then(n,u,void 0,this,t)}return this}}},function(t,e,n){"use strict";t.exports=function(t,e){var r={},i=n(1),o=n(86),s=i.withAppended,a=i.maybeWrapAsError,u=i.canEvaluate,c=n(11).TypeError,l={__isPromisified__:!0},p=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),f=function(t){return i.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function h(t){return!p.test(t)}function d(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function m(t,e,n){var r=i.getDataPropertyOrDefault(t,e+n,l);return!!r&&d(r)}function y(t,e,n,r){for(var o=i.inheritedDataKeys(t),s=[],a=0;a<o.length;++a){var u=o[a],l=t[u],p=r===f||f(u);"function"!=typeof l||d(l)||m(t,u,e)||!r(u,l,t,p)||s.push(u,l)}return function(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}(s,e,n),s}var g=u?function(n,u,c,l,p,f){var h=Math.max(0,function(t){return"number"==typeof t.length?Math.max(Math.min(t.length,1024),0):0}(l)-1),d=function(t){for(var e=[t],n=Math.max(0,t-1-3),r=t-1;r>=n;--r)e.push(r);for(r=t+1;r<=3;++r)e.push(r);return e}(h),m="string"==typeof n||u===r;function y(t){var e,n=(e=t,i.filledRange(e,"_arg","")).join(", "),r=t>0?", ":"";return(m?"ret = callback.call(this, {{args}}, nodeback); break;\n":void 0===u?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n").replace("{{args}}",n).replace(", ",r)}var g="string"==typeof n?"this != null ? this['"+n+"'] : fn":"fn",v="'use strict';                                                \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise, "+f+");   \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n    ".replace("[CodeForSwitchCase]",function(){for(var t="",e=0;e<d.length;++e)t+="case "+d[e]+":"+y(d[e]);return t+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",m?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n")}()).replace("[GetFunctionCode]",g);return v=v.replace("Parameters",function(t){return i.filledRange(Math.max(t,3),"_arg","")}(h)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",v)(t,l,u,s,a,o,i.tryCatch,i.errorObj,i.notEnumerableProp,e)}:function(n,u,c,l,p,f){var h=function(){return this}(),d=n;function m(){var i=u;u===r&&(i=this);var c=new t(e);c._captureStackTrace();var l="string"==typeof d&&this!==h?this[d]:n,p=o(c,f);try{l.apply(i,s(arguments,p))}catch(t){c._rejectCallback(a(t),!0,!0)}return c._isFateSealed()||c._setAsyncGuaranteed(),c}return"string"==typeof d&&(n=l),i.notEnumerableProp(m,"__isPromisified__",!0),m};function v(t,e,n,o,s){for(var a=new RegExp(e.replace(/([$])/,"\\$")+"$"),u=y(t,e,a,n),c=0,l=u.length;c<l;c+=2){var p=u[c],f=u[c+1],h=p+e;if(o===g)t[h]=g(p,r,p,f,e,s);else{var d=o(f,(function(){return g(p,r,p,f,e,s)}));i.notEnumerableProp(d,"__isPromisified__",!0),t[h]=d}}return i.toFastProperties(t),t}t.promisify=function(t,e){if("function"!=typeof t)throw new c("expecting a function but got "+i.classString(t));if(d(t))return t;var n=function(t,e,n){return g(t,e,void 0,t,null,n)}(t,void 0===(e=Object(e)).context?r:e.context,!!e.multiArgs);return i.copyDescriptors(t,n,h),n},t.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(e=Object(e)).multiArgs,r=e.suffix;"string"!=typeof r&&(r="Async");var o=e.filter;"function"!=typeof o&&(o=f);var s=e.promisifier;if("function"!=typeof s&&(s=g),!i.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=i.inheritedDataKeys(t),u=0;u<a.length;++u){var l=t[a[u]];"constructor"!==a[u]&&i.isClass(l)&&(v(l.prototype,r,o,s,n),v(l,r,o,s,n))}return v(t,r,o,s,n)}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i){var o,s=n(1),a=s.isObject,u=n(13);"function"==typeof Map&&(o=Map);var c=function(){var t=0,e=0;function n(n,r){this[t]=n,this[t+e]=r,t++}return function(r){e=r.size,t=0;var i=new Array(2*r.size);return r.forEach(n,i),i}}();function l(t){var e,n=!1;if(void 0!==o&&t instanceof o)e=c(t),n=!0;else{var r=u.keys(t),i=r.length;e=new Array(2*i);for(var s=0;s<i;++s){var a=r[s];e[s]=t[a],e[s+i]=a}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}function p(e){var n,o=r(e);return a(o)?(n=o instanceof t?o._then(t.props,void 0,void 0,void 0,void 0):new l(o).promise(),o instanceof t&&n._propagateFrom(o,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(l,e),l.prototype._init=function(){},l.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(t){for(var e=new o,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],s=t[r];e.set(i,s)}return e}(this._values);else{n={};for(var r=this.length(),i=0,s=this.length();i<s;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},l.prototype.shouldCopyValues=function(){return!1},l.prototype.getActualLength=function(t){return t>>1},t.prototype.props=function(){return p(this)},t.props=function(t){return p(t)}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i){var o=n(1);function s(n,a){var u,c=r(n);if(c instanceof t)return(u=c).then((function(t){return s(t,u)}));if(null===(n=o.asArray(n)))return i("expecting an array or an iterable object but got "+o.classString(n));var l=new t(e);void 0!==a&&l._propagateFrom(a,3);for(var p=l._fulfill,f=l._reject,h=0,d=n.length;h<d;++h){var m=n[h];(void 0!==m||h in n)&&t.cast(m)._then(p,f,void 0,l,null)}return l}t.race=function(t){return s(t,void 0)},t.prototype.race=function(){return s(this,void 0)}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o,s){var a=n(1),u=a.tryCatch;function c(e,n,r,i){this.constructor$(e);var s=t._getContext();this._fn=a.contextBind(s,n),void 0!==r&&(r=t.resolve(r))._attachCancellationCallback(this),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function l(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function p(t,e,n,i){return"function"!=typeof e?r("expecting a function but got "+a.classString(e)):new c(t,e,n,i).promise()}function f(e){this.accum=e,this.array._gotAccum(e);var n=i(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(h,void 0,void 0,this,void 0)):h.call(this,n)}function h(e){var n,r=this.array,i=r._promise,o=u(r._fn);i._pushContext(),(n=void 0!==r._eachValues?o.call(i._boundValue(),e,this.index,this.length):o.call(i._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(r._currentCancellable=n);var a=i._popContext();return s.checkForgottenReturns(n,a,void 0!==r._eachValues?"Promise.each":"Promise.reduce",i),n}a.inherits(c,e),c.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},c.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},c.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},c.prototype._iterate=function(e){var n,r;this._values=e;var i=e.length;void 0!==this._initialValue?(n=this._initialValue,r=0):(n=t.resolve(e[0]),r=1),this._currentCancellable=n;for(var o=r;o<i;++o){var s=e[o];s instanceof t&&s.suppressUnhandledRejections()}if(!n.isRejected())for(;r<i;++r){var a={accum:null,value:e[r],index:r,length:i,array:this};n=n._then(f,void 0,void 0,a,void 0),0==(127&r)&&n._setNoAsyncGuarantee()}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(l,l,void 0,n,this)},t.prototype.reduce=function(t,e){return p(this,t,e,null)},t.reduce=function(t,e,n,r){return p(t,e,n,r)}}},function(t,e,n){"use strict";t.exports=function(t,e,r){var i=t.PromiseInspection;function o(t){this.constructor$(t)}n(1).inherits(o,e),o.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},o.prototype._promiseFulfilled=function(t,e){var n=new i;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},o.prototype._promiseRejected=function(t,e){var n=new i;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},t.settle=function(t){return r.deprecated(".settle()",".reflect()"),new o(t).promise()},t.allSettled=function(t){return new o(t).promise()},t.prototype.settle=function(){return t.settle(this)}}},function(t,e,n){"use strict";t.exports=function(t,e,r){var i=n(1),o=n(11).RangeError,s=n(11).AggregateError,a=i.isArray,u={};function c(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function l(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new c(t),i=n.promise();return n.setHowMany(e),n.init(),i}i.inherits(c,e),c.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var t=a(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(t){this._howMany=t},c.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},c.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new s,e=this.length();e<this._values.length;++e)this._values[e]!==u&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(t){this._values.push(t)},c.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new o(e)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(t,e){return l(t,e)},t.prototype.some=function(t){return l(this,t)},t._SomePromiseArray=c}},function(t,e,n){"use strict";t.exports=function(t,e,r){var i=n(1),o=t.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(t){return u(+this).thenReturn(t)},u=t.delay=function(n,i){var o,u;return void 0!==i?(o=t.resolve(i)._then(a,null,null,n,void 0),r.cancellation()&&i instanceof t&&o._setOnCancel(i)):(o=new t(e),u=setTimeout((function(){o._fulfill()}),+n),r.cancellation()&&o._setOnCancel(new s(u)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};t.prototype.delay=function(t){return u(t,this)};function c(t){return clearTimeout(this.handle),t}function l(t){throw clearTimeout(this.handle),t}t.prototype.timeout=function(t,e){var n,a;t=+t;var u=new s(setTimeout((function(){n.isPending()&&function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new o("operation timed out"):new o(e),i.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()}(n,e,a)}),t));return r.cancellation()?(a=this.then(),(n=a._then(c,l,void 0,u,void 0))._setOnCancel(u)):n=this._then(c,l,void 0,u,void 0),n}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o,s){var a=n(1),u=n(11).TypeError,c=n(1).inherits,l=a.errorObj,p=a.tryCatch,f={};function h(t){setTimeout((function(){throw t}),0)}function d(e,n){var i=0,s=e.length,a=new t(o);return function o(){if(i>=s)return a._fulfill();var u=function(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}(e[i++]);if(u instanceof t&&u._isDisposable()){try{u=r(u._getDisposer().tryDispose(n),e.promise)}catch(t){return h(t)}if(u instanceof t)return u._then(o,h,null,null,null)}o()}(),a}function m(t,e,n){this._data=t,this._promise=e,this._context=n}function y(t,e,n){this.constructor$(t,e,n)}function g(t){return m.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function v(t){this.length=t,this.promise=null,this[t-1]=null}m.prototype.data=function(){return this._data},m.prototype.promise=function(){return this._promise},m.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():f},m.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==f?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},m.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},c(y,m),y.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},v.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var r=this[n];r instanceof t&&r.cancel()}},t.using=function(){var n=arguments.length;if(n<2)return e("you must pass at least 2 arguments to Promise.using");var i,o=arguments[n-1];if("function"!=typeof o)return e("expecting a function but got "+a.classString(o));var u=!0;2===n&&Array.isArray(arguments[0])?(n=(i=arguments[0]).length,u=!1):(i=arguments,n--);for(var c=new v(n),f=0;f<n;++f){var h=i[f];if(m.isDisposer(h)){var y=h;(h=h.promise())._setDisposable(y)}else{var _=r(h);_ instanceof t&&(h=_._then(g,null,null,{resources:c,index:f},void 0))}c[f]=h}var b=new Array(c.length);for(f=0;f<b.length;++f)b[f]=t.resolve(c[f]).reflect();var w=t.all(b).then((function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return l.e=n.error(),l;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}E._pushContext(),o=p(o);var r=u?o.apply(void 0,t):o(t),i=E._popContext();return s.checkForgottenReturns(r,i,"Promise.using",E),r})),E=w.lastly((function(){var e=new t.PromiseInspection(w);return d(c,e)}));return c.promise=E,E._setOnCancel(c),E},t.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(t){if("function"==typeof t)return new y(t,this,i());throw new u}}},function(t,e,n){"use strict";t.exports=function(t){var e=t._SomePromiseArray;function n(t){var n=new e(t),r=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),r}t.any=function(t){return n(t)},t.prototype.any=function(){return n(this)}}},function(t,e,n){"use strict";t.exports=function(t,e){var n=t.reduce,r=t.all;function i(){return r(this)}t.prototype.each=function(t){return n(this,t,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return n(this,t,e,e)},t.each=function(t,r){return n(t,r,e,0)._then(i,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return n(t,r,e,e)}}},function(t,e,n){"use strict";t.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},function(t,e,n){(function(e){const r=n(3),i=n(14),o=t=>new i.QueryFile(r.join(e,"sql",t),{minify:!0});t.exports={createTable:o("create-migrations-table.sql"),find:o("find-migration.sql"),create:o("create-migration.sql")}}).call(this,"/")},function(t,e,n){const{pickAll:r}=n(30),{CONTENT_RESPONSE_KEYS:i}=n(87);t.exports.pickContentResponseKeys=r(i)},function(t,e,n){const r=n(211),i=n(3),{prop:o}=n(9),s=n(83).promisifyAll(n(15));t.exports.loadMarkdown=t=>{if(/^http/.test(t))return r.get(t).then(o("data"));{const e=i.join(process.cwd(),"markdown",t);return s.readFileAsync(e,"utf8")}}},function(t,e,n){t.exports=n(212)},function(t,e,n){"use strict";var r=n(5),i=n(88),o=n(213),s=n(98);function a(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=a(n(90));u.Axios=o,u.create=function(t){return a(s(u.defaults,t))},u.Cancel=n(99),u.CancelToken=n(234),u.isCancel=n(89),u.all=function(t){return Promise.all(t)},u.spread=n(235),t.exports=u,t.exports.default=u},function(t,e,n){"use strict";var r=n(5),i=n(40),o=n(214),s=n(215),a=n(98);function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},u.prototype.getUri=function(t){return t=a(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))}})),t.exports=u},function(t,e,n){"use strict";var r=n(5);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},function(t,e,n){"use strict";var r=n(5),i=n(216),o=n(89),s=n(90);function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return a(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return a(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(a(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(5);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var r=n(5);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(5),i=n(91),o=n(40),s=n(93),a=n(221),u=n(222),c=n(41);t.exports=function(t){return new Promise((function(e,l){var p=t.data,f=t.headers;r.isFormData(p)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",m=t.auth.password||"";f.Authorization="Basic "+btoa(d+":"+m)}var y=s(t.baseURL,t.url);if(h.open(t.method.toUpperCase(),o(y,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?a(h.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:t,request:h};i(e,l,r),h=null}},h.onabort=function(){h&&(l(c("Request aborted",t,"ECONNABORTED",h)),h=null)},h.onerror=function(){l(c("Network Error",t,null,h)),h=null},h.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),l(c(e,t,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var g=n(223),v=(t.withCredentials||u(y))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;v&&(f[t.xsrfHeaderName]=v)}if("setRequestHeader"in h&&r.forEach(f,(function(t,e){void 0===p&&"content-type"===e.toLowerCase()?delete f[e]:h.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){h&&(h.abort(),l(t),h=null)})),void 0===p&&(p=null),h.send(p)}))}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(5),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}})),s):s}},function(t,e,n){"use strict";var r=n(5);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(5);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(5),i=n(91),o=n(93),s=n(40),a=n(94),u=n(95),c=n(96).http,l=n(96).https,p=n(38),f=n(232),h=n(233),d=n(41),m=n(92),y=/https:?/;t.exports=function(t){return new Promise((function(e,n){var g=function(t){e(t)},v=function(t){n(t)},_=t.data,b=t.headers;if(b["User-Agent"]||b["user-agent"]||(b["User-Agent"]="axios/"+h.version),_&&!r.isStream(_)){if(Buffer.isBuffer(_));else if(r.isArrayBuffer(_))_=Buffer.from(new Uint8Array(_));else{if(!r.isString(_))return v(d("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",t));_=Buffer.from(_,"utf-8")}b["Content-Length"]=_.length}var w=void 0;t.auth&&(w=(t.auth.username||"")+":"+(t.auth.password||""));var E=o(t.baseURL,t.url),x=p.parse(E),C=x.protocol||"http:";if(!w&&x.auth){var S=x.auth.split(":");w=(S[0]||"")+":"+(S[1]||"")}w&&delete b.Authorization;var T=y.test(C),k=T?t.httpsAgent:t.httpAgent,P={path:s(x.path,t.params,t.paramsSerializer).replace(/^\?/,""),method:t.method.toUpperCase(),headers:b,agent:k,agents:{http:t.httpAgent,https:t.httpsAgent},auth:w};t.socketPath?P.socketPath=t.socketPath:(P.hostname=x.hostname,P.port=x.port);var R,A=t.proxy;if(!A&&!1!==A){var j=C.slice(0,-1)+"_proxy",O=process.env[j]||process.env[j.toUpperCase()];if(O){var F=p.parse(O),N=process.env.no_proxy||process.env.NO_PROXY,I=!0;if(N)I=!N.split(",").map((function(t){return t.trim()})).some((function(t){return!!t&&("*"===t||("."===t[0]&&x.hostname.substr(x.hostname.length-t.length)===t||x.hostname===t))}));if(I&&(A={host:F.hostname,port:F.port},F.auth)){var q=F.auth.split(":");A.auth={username:q[0],password:q[1]}}}}if(A&&(P.hostname=A.host,P.host=A.host,P.headers.host=x.hostname+(x.port?":"+x.port:""),P.port=A.port,P.path=C+"//"+x.hostname+(x.port?":"+x.port:"")+P.path,A.auth)){var M=Buffer.from(A.auth.username+":"+A.auth.password,"utf8").toString("base64");P.headers["Proxy-Authorization"]="Basic "+M}var L=T&&(!A||y.test(A.protocol));t.transport?R=t.transport:0===t.maxRedirects?R=L?u:a:(t.maxRedirects&&(P.maxRedirects=t.maxRedirects),R=L?l:c),t.maxContentLength&&t.maxContentLength>-1&&(P.maxBodyLength=t.maxContentLength);var D=R.request(P,(function(e){if(!D.aborted){var n=e;switch(e.headers["content-encoding"]){case"gzip":case"compress":case"deflate":n=204===e.statusCode?n:n.pipe(f.createUnzip()),delete e.headers["content-encoding"]}var r=e.req||D,o={status:e.statusCode,statusText:e.statusMessage,headers:e.headers,config:t,request:r};if("stream"===t.responseType)o.data=n,i(g,v,o);else{var s=[];n.on("data",(function(e){s.push(e),t.maxContentLength>-1&&Buffer.concat(s).length>t.maxContentLength&&(n.destroy(),v(d("maxContentLength size of "+t.maxContentLength+" exceeded",t,null,r)))})),n.on("error",(function(e){D.aborted||v(m(e,t,null,r))})),n.on("end",(function(){var e=Buffer.concat(s);"arraybuffer"!==t.responseType&&(e=e.toString(t.responseEncoding)),o.data=e,i(g,v,o)}))}}}));D.on("error",(function(e){D.aborted||v(m(e,t,null,D))})),t.timeout&&D.setTimeout(t.timeout,(function(){D.abort(),v(d("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",D))})),t.cancelToken&&t.cancelToken.promise.then((function(t){D.aborted||(D.abort(),v(t))})),r.isStream(_)?_.on("error",(function(e){v(m(e,t,null,D))})).pipe(D):D.end(_)}))}},function(t,e,n){"undefined"==typeof process||"renderer"===process.type?t.exports=n(226):t.exports=n(228)},function(t,e,n){function r(){var t;try{t=e.storage.debug}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=n(97)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))})),t.splice(o,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=r,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(r())},function(t,e){var n=1e3,r=6e4,i=60*r,o=24*i;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var a,u=typeof t;if("string"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===u&&!1===isNaN(t))return e.long?s(a=t,o,"day")||s(a,i,"hour")||s(a,r,"minute")||s(a,n,"second")||a+" ms":function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=i)return Math.round(t/i)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){var r=n(229),i=n(2);(e=t.exports=n(97)).init=function(t){t.inspectOpts={};for(var n=Object.keys(e.inspectOpts),r=0;r<n.length;r++)t.inspectOpts[n[r]]=e.inspectOpts[n[r]]},e.log=function(){return process.stderr.write(i.format.apply(i,arguments)+"\n")},e.formatArgs=function(t){var n=this.namespace;if(this.useColors){var r=this.color,i="[3"+(r<8?r:"8;5;"+r),o="  "+i+";1m"+n+" [0m";t[0]=o+t[0].split("\n").join("\n"+o),t.push(i+"m+"+e.humanize(this.diff)+"[0m")}else t[0]=(e.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+t[0]},e.save=function(t){null==t?delete process.env.DEBUG:process.env.DEBUG=t},e.load=s,e.useColors=function(){return"colors"in e.inspectOpts?Boolean(e.inspectOpts.colors):r.isatty(process.stderr.fd)},e.colors=[6,2,3,4,5,1];try{var o=n(230);o&&o.level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}function s(){return process.env.DEBUG}e.inspectOpts=Object.keys(process.env).filter((function(t){return/^debug_/i.test(t)})).reduce((function(t,e){var n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(function(t,e){return e.toUpperCase()})),r=process.env[e];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),t[n]=r,t}),{}),e.formatters.o=function(t){return this.inspectOpts.colors=this.useColors,i.inspect(t,this.inspectOpts).split("\n").map((function(t){return t.trim()})).join(" ")},e.formatters.O=function(t){return this.inspectOpts.colors=this.useColors,i.inspect(t,this.inspectOpts)},e.enable(s())},function(t,e){t.exports=require("tty")},function(t,e,n){"use strict";const r=n(4),i=n(231),o=process.env;let s;function a(t){return function(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}(function(t){if(!1===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(t&&!t.isTTY&&!0!==s)return 0;const e=s?1:0;if("win32"===process.platform){const t=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in o)||"codeship"===o.CI_NAME?1:e;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const t=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:(o.TERM,e)}(t))}i("no-color")||i("no-colors")||i("color=false")?s=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),t.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(t,e,n){"use strict";t.exports=(t,e)=>{e=e||process.argv;const n=t.startsWith("-")?"":1===t.length?"-":"--",r=e.indexOf(n+t),i=e.indexOf("--");return-1!==r&&(-1===i||r<i)}},function(t,e){t.exports=require("zlib")},function(t){t.exports=JSON.parse('{"_args":[[{"raw":"axios@^0.19.2","scope":null,"escapedName":"axios","name":"axios","rawSpec":"^0.19.2","spec":">=0.19.2 <0.20.0","type":"range"},"/Users/neilrussell/nona-mac/dev/neilrussell6/projects/react-markdown3/packages/markdown-api"]],"_from":"axios@>=0.19.2 <0.20.0","_hasShrinkwrap":false,"_id":"axios@0.19.2","_inCache":true,"_location":"/axios","_nodeVersion":"10.14.1","_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/axios_0.19.2_1579667152945_0.06413260032161183"},"_npmUser":{"name":"emilyemorehouse","email":"emilyemorehouse@gmail.com"},"_npmVersion":"6.4.1","_phantomChildren":{},"_requested":{"raw":"axios@^0.19.2","scope":null,"escapedName":"axios","name":"axios","rawSpec":"^0.19.2","spec":">=0.19.2 <0.20.0","type":"range"},"_requiredBy":["/","/wait-on"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.19.2.tgz","_shasum":"3ea36c5d8818d0d5f8a8a97a6d36b86cdc00cb27","_shrinkwrap":null,"_spec":"axios@^0.19.2","_where":"/Users/neilrussell/nona-mac/dev/neilrussell6/projects/react-markdown3/packages/markdown-api","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"1.5.10"},"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"directories":{},"dist":{"integrity":"sha512-fjgm5MvRHLhx+osE2xoekY70AhARk3a6hkN+3Io1jc00jtquGvxYlKlsFUhmUET0V5te6CcZI7lcv2Ym61mjHA==","shasum":"3ea36c5d8818d0d5f8a8a97a6d36b86cdc00cb27","tarball":"https://registry.npmjs.org/axios/-/axios-0.19.2.tgz","fileCount":41,"unpackedSize":346079,"npm-signature":"-----BEGIN PGP SIGNATURE-----\\r\\nVersion: OpenPGP.js v3.0.4\\r\\nComment: https://openpgpjs.org\\r\\n\\r\\nwsFcBAEBCAAQBQJeJ87RCRA9TVsSAnZWagAAlxEP/0UTSKptwwa4wfGLs1uv\\nf8oE91diogXtmbmh6cXER9KuNFYnVGcLKVYvBd6m92nTnmyx679aTzvWS65m\\n6tzM6ba57JzLyQrd++3s+SUtbifso+ymuApkUVqNlHV74nmaK2G2u0mse7wT\\niOOQ7hfFieiDKgMdzdH6P8HCGBnwArRfGaVfzQ2iySHmeB3lwX+4HdxAVIbg\\nrSveu71YBlF5CyXzKhJgNF9EccyObd1PFiO4jW7K1KL1/yBD5SS8+yfMdr3o\\n4dPLw5JCSHUGkB//I//TN/TiQCZ77GAkQyYcKTPEJXfApRhqPnlki5AtWmWV\\nYfPhweKWL4PwUp63oKSq96VPpbh/FL5ZQ42o9jc72gWSnTXYGEXfckeXFBdG\\nzavhLSogmWpHrG1afJAdL8/ENCQH3WtXxVeTqbcKZlHg6Bk8PQU7n4T1V7fk\\nGvXL0O3jrT7rGQIT9+UX8g3GR//srhzC8L/jG+IV1E1Ett/o7w11sK/SyWj9\\nOzJgb4YopF5ilVOTQs+yqXbKNltWpxf3/IdbehP6wB3uG+yZ5o9Z2Wn4AoUb\\n8h9cFposAXAFsXxxdxo/SRdlMvE/znVqYHwdu/Rg/EdiE/YFY5RPumTOhEQk\\nPHc2KRuuky7m/w8rgxRirc/f2h/3QXyUd8wHfTlLjmcCVrzt3Dj8A2N7zN7b\\n5mGo\\r\\n=I3Vi\\r\\n-----END PGP SIGNATURE-----\\r\\n"},"gitHead":"2a0ff479f9fb7f09a219f5178ca85a6519562ff1","homepage":"https://github.com/axios/axios","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","maintainers":[{"name":"mzabriskie","email":"mzabriskie@gmail.com"},{"name":"nickuraltsev","email":"nick.uraltsev@gmail.com"}],"name":"axios","optionalDependencies":{},"readme":"ERROR: No README data found!","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test && bundlesize","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","version":"0.19.2"}')},function(t,e,n){"use strict";var r=n(99);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){const{getCategories:r}=n(237),{DB:i}=n(31);t.exports.getCategories=r({DB:i})},function(t,e,n){const{map:r,assoc:i}=n(9),{ok:o,unknownError:s}=n(42),a=n(238),{pickCategoryResponseKeys:u}=n(242),{MODULE_CONTEXT:c}=n(100);t.exports.getCategories=({DB:t})=>({Logger:e})=>{const n=a.findAllCategories({Logger:e,DB:t}),l=i("function","presentation.handlers.getCategories",c);return async t=>{e.info("REQUEST",t,l);try{const t=await n();e.debug("database categories",t,l);const i=r(u)(t);e.debug("transformed categories",t,l);const s=o(i);return e.info("RESPONSE",s,l),s}catch(t){return e.error("UNKNOWN ERROR",t,l),s({message:t.message})}}}},function(t,e,n){const{map:r}=n(9),{sql:i}=n(239),{mapCategoryFromDB:o}=n(240),{categories:s}=i;t.exports.findAllCategories=({DB:t})=>()=>t.any(s.findAll).then(r(o))},function(t,e,n){(function(e){const r=n(14),i=n(3),o=t=>{const n=process.env.APP_ROOT_PATH||e,o=i.join(n,"sql",t);return new r.QueryFile(o,{minify:!0})};t.exports={sql:{categories:{createTable:o("create-categories-table.sql"),findAll:o("find-all-categories.sql")}}}}).call(this,"/")},function(t,e,n){const{invert:r,pick:i}=n(9),{renameKeys:o}=n(30),{CATEGORY_DB_KEY_MAP:s,CATEGORY_DB_KEYS:a}=n(241);t.exports.mapCategoryToDB=o(r(s)),t.exports.mapCategoryFromDB=o(s),t.exports.pickCategoryDBKeys=i(a)},function(t,e,n){const{PGP:r}=n(31),i=["id","label"],o=new r.helpers.ColumnSet(i,{table:"categories"});t.exports={ERROR_MESSAGE_NOT_FOUND_CATEGORY:"could not find category",CATEGORY_DB_KEY_MAP:{},CATEGORY_DB_KEYS:i,CATEGORY_TABLE:"categories",CATEGORY_COLUMN_SET:o,MODULE_CONTEXT:{package:"markdown-api",module:"categories"}}},function(t,e,n){const{pickAll:r}=n(30),{CATEGORY_RESPONSE_KEYS:i}=n(100);t.exports.pickCategoryResponseKeys=r(i)}]);